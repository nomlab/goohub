!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=291)}([function(e,t,n){"use strict";e.exports=n(298)},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}t.a=o},function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}t.a=o},function(e,t,n){var o,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&e.push(s)}}else if("object"===r)if(o.toString===Object.prototype.toString)for(var a in o)i.call(o,a)&&o[a]&&e.push(a);else e.push(o.toString())}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):(o=[],void 0!==(r=function(){return n}.apply(t,o))&&(e.exports=r))}()},function(e,t,n){"use strict";function o(e,t){var n=Object(r.useContext)(s);return e||n[t]||t}t.a=o;var r=(n(1),n(0)),i=n.n(r),s=i.a.createContext({});s.Consumer,s.Provider},function(e,t,n){e.exports=n(303)()},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function o(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}o(),e.exports=n(299)},function(e,t,n){"use strict";function o(e,t){var n=void 0===t?{}:t,o=n.displayName,s=void 0===o?d(e):o,l=n.Component,c=n.defaultProps,f=u.a.forwardRef(function(t,n){var o=t.className,s=t.bsPrefix,c=t.as,d=void 0===c?l||"div":c,f=Object(i.a)(t,h),_=Object(p.a)(s,e);return u.a.createElement(d,Object(r.a)({ref:n,className:a()(o,_)},f))});return f.defaultProps=c,f.displayName=s,f}t.a=o;var r=n(1),i=n(2),s=n(3),a=n.n(s),l=n(337),c=n(0),u=n.n(c),p=n(4),h=["className","bsPrefix","as"],d=function(e){return e[0].toUpperCase()+Object(l.a)(e).slice(1)}},function(e,t,n){"use strict";var o=function(e,t,n,o,r,i,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=o},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=n(29),p=["bsPrefix","variant","size","active","className","block","type","as"],h={variant:"primary",active:!1,disabled:!1},d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.variant,a=e.size,h=e.active,d=e.className,f=e.block,_=e.type,g=e.as,m=Object(r.a)(e,p),v=Object(c.a)(n,"btn"),y=s()(d,v,h&&"active",i&&v+"-"+i,f&&v+"-block",a&&v+"-"+a);if(m.href)return l.a.createElement(u.a,Object(o.a)({},m,{as:g,ref:t,className:s()(y,m.disabled&&"disabled")}));t&&(m.ref=t),_?m.type=_:g||(m.type="button");var b=g||"button";return l.a.createElement(b,Object(o.a)({},m,{className:y}))});d.displayName="Button",d.defaultProps=h,t.a=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(346),s=o(i),a=n(12),l=o(a),c={seconds:1e3,minutes:6e4,hours:36e5,day:864e5},u=[0,1,2,3,4,5,6,7,8,9,10,11],p=r({},s.default,{monthsInYear:function(e){var t=new Date(e,0,1);return u.map(function(e){return p.month(t,e)})},firstVisibleDay:function(e,t){var n=p.startOf(e,"month");return p.startOf(n,"week",l.default.startOfWeek(t))},lastVisibleDay:function(e,t){var n=p.endOf(e,"month");return p.endOf(n,"week",l.default.startOfWeek(t))},visibleDays:function(e,t){for(var n=p.firstVisibleDay(e,t),o=p.lastVisibleDay(e,t),r=[];p.lte(n,o,"day");)r.push(n),n=p.add(n,1,"day");return r},ceil:function(e,t){var n=p.startOf(e,t);return p.eq(n,e)?n:p.add(n,1,t)},range:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",o=e,r=[];p.lte(o,t,n);)r.push(o),o=p.add(o,1,n);return r},merge:function(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=p.startOf(e,"day"),e=p.hours(e,p.hours(t)),e=p.minutes(e,p.minutes(t)),e=p.seconds(e,p.seconds(t)),p.milliseconds(e,p.milliseconds(t)))},eqTime:function(e,t){return p.hours(e)===p.hours(t)&&p.minutes(e)===p.minutes(t)&&p.seconds(e)===p.seconds(t)},isJustDate:function(e){return 0===p.hours(e)&&0===p.minutes(e)&&0===p.seconds(e)&&0===p.milliseconds(e)},duration:function(e,t,n,o){return"day"===n&&(n="date"),Math.abs(p[n](e,void 0,o)-p[n](t,void 0,o))},diff:function(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+p.startOf(e,n)/c[n]-+p.startOf(t,n)/c[n])):Math.abs(+e-+t)},total:function(e,t){var n=e.getTime(),o=1;switch(t){case"week":o*=7;case"day":o*=24;case"hours":o*=60;case"minutes":o*=60;case"seconds":o*=1e3}return n/o},week:function(e){var t=new Date(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)},today:function(){return p.startOf(new Date,"day")},yesterday:function(){return p.add(p.startOf(new Date,"day"),-1,"day")},tomorrow:function(){return p.add(p.startOf(new Date,"day"),1,"day")}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,o,r){var i="function"===typeof o?o(n,r,e):t.call(e,n,o,r);return null!=i&&"string"!==typeof i&&(0,p.default)(!1),i}function s(e){return e.__isLocalizer__||(e=new d(e),e.__isLocalizer__=!0),f=e}function a(){throw new Error("You have not selected a localization strategy for Big Calendar. Please use either of the two included.")}t.__esModule=!0,t.set=s;var l=n(5),c=o(l),u=n(9),p=o(u),h=c.default.oneOfType([c.default.string,c.default.func]),d=function e(t){var n=this;r(this,e),"function"!==typeof t.format&&(0,p.default)(!1),"function"!==typeof t.parse&&(0,p.default)(!1),"function"!==typeof t.firstOfWeek&&(0,p.default)(!1),this.propType=t.propType||h,this.formats=t.formats,this.startOfWeek=t.firstOfWeek,this.format=function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];return i.apply(void 0,[n,t.format].concat(o))},this.parse=function(e,o,r){var i=t.parse.call(n,e,o,r);return null==i||i instanceof Date&&!isNaN(i.getTime())||(0,p.default)(!1),i}},f={parse:a,format:a,startOfWeek:a},_={parse:function(){var e;return(e=f).parse.apply(e,arguments)},format:function(){var e;return(e=f).format.apply(e,arguments)},startOfWeek:function(){var e;return(e=f).startOfWeek.apply(e,arguments)}};t.default=_},function(e,t,n){"use strict";n.d(t,"m",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"k",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return l}),n.d(t,"l",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"n",function(){return _}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return m});var o="top",r="bottom",i="right",s="left",a="auto",l=[o,r,i,s],c="start",u="end",p="clippingParents",h="viewport",d="popper",f="reference",_=l.reduce(function(e,t){return e.concat([t+"-"+c,t+"-"+u])},[]),g=[].concat(l,[a]).reduce(function(e,t){return e.concat([t,t+"-"+c,t+"-"+u])},[]),m=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},function(e,t,n){"use strict";var o=n(302);n.d(t,"a",function(){return o.a});var r=(n(309),n(171));n.d(t,"b",function(){return r.a});var i=(n(310),n(312),n(314),n(316),n(172));n.d(t,"c",function(){return i.a});var s=(n(103),n(318),n(320),n(322),n(323),n(324));n.d(t,"d",function(){return s.a})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.views=t.dateRangeFormat=t.dateFormat=t.accessor=t.eventComponent=t.elementType=void 0;var r=n(5),i=o(r),s=n(12),a=o(s),l=n(344),c=o(l),u=n(345),p=o(u),h=n(20),d=n(110),f=o(d);t.elementType=c.default;var _=(t.eventComponent=i.default.oneOfType([c.default,i.default.shape({month:c.default,week:c.default,day:c.default,agenda:c.default})]),Object.keys(h.views).map(function(e){return h.views[e]}));t.accessor=i.default.oneOfType([i.default.string,i.default.func]),t.dateFormat=(0,f.default)(function(){return a.default.propType&&a.default.propType.apply(a.default,arguments)}),t.dateRangeFormat=i.default.func,t.views=i.default.oneOfType([i.default.arrayOf(i.default.oneOf(_)),(0,p.default)(i.default.object,function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=e[t],s=void 0;return Object.keys(i).every(function(e){return-1!==_.indexOf(e)&&"boolean"===typeof i[e]||!(s=c.default.apply(void 0,[i,e].concat(o)))}),s||null})])},function(e,t,n){"use strict";function o(e){var t=Object(i.a)(e);return Object(r.useCallback)(function(){return t.current&&t.current.apply(t,arguments)},[t])}t.a=o;var r=n(0),i=(n.n(r),n(235))},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var o=n(515);n.d(t,"a",function(){return o.a}),n.d(t,"b",function(){return o.b});n(516)},function(e,t,n){"use strict";function o(e){return e instanceof Object(s.a)(e).Element||e instanceof Element}function r(e){return e instanceof Object(s.a)(e).HTMLElement||e instanceof HTMLElement}function i(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Object(s.a)(e).ShadowRoot||e instanceof ShadowRoot)}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});var s=n(26)},function(e,t,n){"use strict";t.__esModule=!0;t.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},t.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}},function(e,t,n){var o=n(186),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var o=n(0),r=n.n(o),i=r.a.createContext(null),s=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.a=i},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=n(27),s=function(e){return r.a.createElement(i.a.Control,{onChange:e.handleTextChange})};t.a=s},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext({controlId:void 0});t.a=i},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";function o(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView||window:window}return e}t.a=o},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(106),u=n(176),p=n(177),h=n(178),d=n(179),f=n(180),_=n(336),g=n(4),m=n(8),v=["bsPrefix","inline","className","validated","as"],y=Object(m.a)("form-row"),b={inline:!1},E=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.inline,a=e.className,c=e.validated,u=e.as,p=void 0===u?"form":u,h=Object(r.a)(e,v);return n=Object(g.a)(n,"form"),l.a.createElement(p,Object(o.a)({},h,{ref:t,className:s()(a,c&&"was-validated",i&&n+"-inline")}))});E.displayName="Form",E.defaultProps=b,E.Row=y,E.Group=h.a,E.Control=p.a,E.Check=c.a,E.File=u.a,E.Switch=_.a,E.Label=d.a,E.Text=f.a,t.a=E},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";function o(e){return!e||"#"===e.trim()}var r=n(1),i=n(2),s=n(0),a=n.n(s),l=n(109),c=["as","disabled","onKeyDown"],u=a.a.forwardRef(function(e,t){var n=e.as,s=void 0===n?"a":n,u=e.disabled,p=e.onKeyDown,h=Object(i.a)(e,c),d=function(e){var t=h.href,n=h.onClick;if((u||o(t))&&e.preventDefault(),u)return void e.stopPropagation();n&&n(e)},f=function(e){" "===e.key&&(e.preventDefault(),d(e))};return o(h.href)&&(h.role=h.role||"button",h.href=h.href||"#"),u&&(h.tabIndex=-1,h["aria-disabled"]=!0),a.a.createElement(s,Object(r.a)({ref:t},h,{onClick:d,onKeyDown:Object(l.a)(f,p)}))});u.displayName="SafeAnchor",t.a=u},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=!("undefined"===typeof window||!window.document||!window.document.createElement);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e.split("-")[0]}t.a=o;n(13)},function(e,t,n){"use strict";function o(e){return((Object(r.a)(e)?e.ownerDocument:e.document)||window.document).documentElement}t.a=o;var r=n(19)},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","fluid","as","className"],p={fluid:!1},h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.fluid,a=e.as,p=void 0===a?"div":a,h=e.className,d=Object(r.a)(e,u),f=Object(c.a)(n,"container"),_="string"===typeof i?"-"+i:"-fluid";return l.a.createElement(p,Object(o.a)({ref:t},d,{className:s()(h,i?""+f+_:f)}))});h.displayName="Container",h.defaultProps=p,t.a=h},function(e,t,n){(function(n){var o,r,i,s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,s){r=[],o=s,void 0!==(i="function"===typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(){"use strict";var e={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4}};e.constants={},e.LINE_MODE_MULTIPLIER=40,e.PAGE_MODE_MULTIPLIER=125,e.DRAG_RADIUS=5,e.FLYOUT_DRAG_RADIUS=10,e.SNAP_RADIUS=28,e.CONNECTING_SNAP_RADIUS=e.SNAP_RADIUS,e.CURRENT_CONNECTION_PREFERENCE=8,e.BUMP_DELAY=250,e.BUMP_RANDOMNESS=10,e.COLLAPSE_CHARS=30,e.LONGPRESS=750,e.SOUND_LIMIT=100,e.DRAG_STACK=!0,e.HSV_SATURATION=.45,e.HSV_VALUE=.65,e.SPRITE={width:96,height:124,url:"sprites.png"},e.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},e.DRAG_NONE=0,e.DRAG_STICKY=1,e.DRAG_BEGIN=1,e.DRAG_FREE=2,e.OPPOSITE_TYPE=[],e.OPPOSITE_TYPE[e.connectionTypes.INPUT_VALUE]=e.connectionTypes.OUTPUT_VALUE,e.OPPOSITE_TYPE[e.connectionTypes.OUTPUT_VALUE]=e.connectionTypes.INPUT_VALUE,e.OPPOSITE_TYPE[e.connectionTypes.NEXT_STATEMENT]=e.connectionTypes.PREVIOUS_STATEMENT,e.OPPOSITE_TYPE[e.connectionTypes.PREVIOUS_STATEMENT]=e.connectionTypes.NEXT_STATEMENT,e.DELETE_AREA_NONE=null,e.DELETE_AREA_TRASH=1,e.DELETE_AREA_TOOLBOX=2,e.VARIABLE_CATEGORY_NAME="VARIABLE",e.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",e.PROCEDURE_CATEGORY_NAME="PROCEDURE",e.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",e.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",e.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",e.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",e.utils={},e.utils.global=function(){return"object"===("undefined"===typeof self?"undefined":s(self))?self:"object"===("undefined"===typeof window?"undefined":s(window))?window:"object"===("undefined"===typeof n?"undefined":s(n))?n:this}(),e.Msg={},e.utils.global.Blockly||(e.utils.global.Blockly={}),e.utils.global.Blockly.Msg||(e.utils.global.Blockly.Msg=e.Msg),e.utils.colour={},e.utils.colour.parse=function(t){t=String(t).toLowerCase().trim();var n=e.utils.colour.names[t];if(n)return n;if(n="0x"==t.substring(0,2)?"#"+t.substring(2):t,n="#"==n[0]?n:"#"+n,/^#[0-9a-f]{6}$/.test(n))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var o=t.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(t=Number(o[1]),n=Number(o[2]),o=Number(o[3]),0<=t&&256>t&&0<=n&&256>n&&0<=o&&256>o)?e.utils.colour.rgbToHex(t,n,o):null},e.utils.colour.rgbToHex=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},e.utils.colour.hexToRgb=function(t){return(t=e.utils.colour.parse(t))?(t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):[0,0,0]},e.utils.colour.hsvToHex=function(t,n,o){var r=0,i=0,s=0;if(0==n)s=i=r=o;else{var a=Math.floor(t/60),l=t/60-a;t=o*(1-n);var c=o*(1-n*l);switch(n=o*(1-n*(1-l)),a){case 1:r=c,i=o,s=t;break;case 2:r=t,i=o,s=n;break;case 3:r=t,i=c,s=o;break;case 4:r=n,i=t,s=o;break;case 5:r=o,i=t,s=c;break;case 6:case 0:r=o,i=n,s=t}}return e.utils.colour.rgbToHex(Math.floor(r),Math.floor(i),Math.floor(s))},e.utils.colour.blend=function(t,n,o){return(t=e.utils.colour.parse(t))&&(n=e.utils.colour.parse(n))?(t=e.utils.colour.hexToRgb(t),n=e.utils.colour.hexToRgb(n),e.utils.colour.rgbToHex(Math.round(n[0]+o*(t[0]-n[0])),Math.round(n[1]+o*(t[1]-n[1])),Math.round(n[2]+o*(t[2]-n[2])))):null},e.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},e.utils.Coordinate=function(e,t){this.x=e,this.y=t},e.utils.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},e.utils.Coordinate.distance=function(e,t){var n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)},e.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.utils.Coordinate.difference=function(t,n){return new e.utils.Coordinate(t.x-n.x,t.y-n.y)},e.utils.Coordinate.sum=function(t,n){return new e.utils.Coordinate(t.x+n.x,t.y+n.y)},e.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},e.utils.Coordinate.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this},e.utils.Rect=function(e,t,n,o){this.top=e,this.bottom=t,this.left=n,this.right=o},e.utils.Rect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e.utils.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)},e.utils.string={},e.utils.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},e.utils.string.shortestStringLength=function(e){return e.length?e.reduce(function(e,t){return e.length<t.length?e:t}).length:0},e.utils.string.commonWordPrefix=function(t,n){if(!t.length)return 0;if(1==t.length)return t[0].length;var o=0;n=n||e.utils.string.shortestStringLength(t);for(var r=0;r<n;r++){for(var i=t[0][r],s=1;s<t.length;s++)if(i!=t[s][r])return o;" "==i&&(o=r+1)}for(s=1;s<t.length;s++)if((i=t[s][r])&&" "!=i)return o;return n},e.utils.string.commonWordSuffix=function(t,n){if(!t.length)return 0;if(1==t.length)return t[0].length;var o=0;n=n||e.utils.string.shortestStringLength(t);for(var r=0;r<n;r++){for(var i=t[0].substr(-r-1,1),s=1;s<t.length;s++)if(i!=t[s].substr(-r-1,1))return o;" "==i&&(o=r+1)}for(s=1;s<t.length;s++)if((i=t[s].charAt(t[s].length-r-1))&&" "!=i)return o;return n},e.utils.string.wrap=function(t,n){t=t.split("\n");for(var o=0;o<t.length;o++)t[o]=e.utils.string.wrapLine_(t[o],n);return t.join("\n")},e.utils.string.wrapLine_=function(t,n){if(t.length<=n)return t;for(var o=t.trim().split(/\s+/),r=0;r<o.length;r++)o[r].length>n&&(n=o[r].length);r=-1/0;var i=1;do{var s=r,a=t;t=[];var l=o.length/i,c=1;for(r=0;r<o.length-1;r++)c<(r+1.5)/l?(c++,t[r]=!0):t[r]=!1;t=e.utils.string.wrapMutate_(o,t,n),r=e.utils.string.wrapScore_(o,t,n),t=e.utils.string.wrapToText_(o,t),i++}while(r>s);return a},e.utils.string.wrapScore_=function(e,t,n){for(var o=[0],r=[],i=0;i<e.length;i++)o[o.length-1]+=e[i].length,!0===t[i]?(o.push(0),r.push(e[i].charAt(e[i].length-1))):!1===t[i]&&o[o.length-1]++;for(e=Math.max.apply(Math,o),i=t=0;i<o.length;i++)t-=2*Math.pow(Math.abs(n-o[i]),1.5),t-=Math.pow(e-o[i],1.5),-1!=".?!".indexOf(r[i])?t+=n/3:-1!=",;)]}".indexOf(r[i])&&(t+=n/4);return 1<o.length&&o[o.length-1]<=o[o.length-2]&&(t+=.5),t},e.utils.string.wrapMutate_=function(t,n,o){for(var r,i=e.utils.string.wrapScore_(t,n,o),s=0;s<n.length-1;s++)if(n[s]!=n[s+1]){var a=[].concat(n);a[s]=!a[s],a[s+1]=!a[s+1];var l=e.utils.string.wrapScore_(t,a,o);l>i&&(i=l,r=a)}return r?e.utils.string.wrapMutate_(t,r,o):n},e.utils.string.wrapToText_=function(e,t){for(var n=[],o=0;o<e.length;o++)n.push(e[o]),void 0!==t[o]&&n.push(t[o]?"\n":" ");return n.join("")},e.utils.Size=function(e,t){this.width=e,this.height=t},e.utils.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},e.utils.style={},e.utils.style.getSize=function(t){if("none"!=e.utils.style.getStyle_(t,"display"))return e.utils.style.getSizeWithDisplay_(t);var n=t.style,o=n.display,r=n.visibility,i=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var s=t.offsetWidth;return t=t.offsetHeight,n.display=o,n.position=i,n.visibility=r,new e.utils.Size(s,t)},e.utils.style.getSizeWithDisplay_=function(t){return new e.utils.Size(t.offsetWidth,t.offsetHeight)},e.utils.style.getStyle_=function(t,n){return e.utils.style.getComputedStyle(t,n)||e.utils.style.getCascadedStyle(t,n)||t.style&&t.style[n]},e.utils.style.getComputedStyle=function(e,t){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))?e[t]||e.getPropertyValue(t)||"":""},e.utils.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},e.utils.style.getPageOffset=function(t){var n=new e.utils.Coordinate(0,0);t=t.getBoundingClientRect();var o=document.documentElement;return o=new e.utils.Coordinate(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop),n.x=t.left+o.x,n.y=t.top+o.y,n},e.utils.style.getViewportPageOffset=function(){var t=document.body,n=document.documentElement;return new e.utils.Coordinate(t.scrollLeft||n.scrollLeft,t.scrollTop||n.scrollTop)},e.utils.style.setElementShown=function(e,t){e.style.display=t?"":"none"},e.utils.style.isRightToLeft=function(t){return"rtl"==e.utils.style.getStyle_(t,"direction")},e.utils.style.getBorderBox=function(t){var n=e.utils.style.getComputedStyle(t,"borderLeftWidth"),o=e.utils.style.getComputedStyle(t,"borderRightWidth"),r=e.utils.style.getComputedStyle(t,"borderTopWidth");return t=e.utils.style.getComputedStyle(t,"borderBottomWidth"),{top:parseFloat(r),right:parseFloat(o),bottom:parseFloat(t),left:parseFloat(n)}},e.utils.style.scrollIntoContainerView=function(t,n,o){t=e.utils.style.getContainerOffsetToScrollInto(t,n,o),n.scrollLeft=t.x,n.scrollTop=t.y},e.utils.style.getContainerOffsetToScrollInto=function(t,n,o){var r=e.utils.style.getPageOffset(t),i=e.utils.style.getPageOffset(n),s=e.utils.style.getBorderBox(n),a=r.x-i.x-s.left;return r=r.y-i.y-s.top,i=e.utils.style.getSizeWithDisplay_(t),t=n.clientWidth-i.width,i=n.clientHeight-i.height,s=n.scrollLeft,n=n.scrollTop,o?(s+=a-t/2,n+=r-i/2):(s+=Math.min(a,Math.max(a-t,0)),n+=Math.min(r,Math.max(r-i,0))),new e.utils.Coordinate(s,n)},e.utils.userAgent={},function(t){function n(e){return-1!=o.indexOf(e.toUpperCase())}e.utils.userAgent.raw=t;var o=e.utils.userAgent.raw.toUpperCase();e.utils.userAgent.IE=n("Trident")||n("MSIE"),e.utils.userAgent.EDGE=n("Edge"),e.utils.userAgent.JAVA_FX=n("JavaFX"),e.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!e.utils.userAgent.EDGE,e.utils.userAgent.WEBKIT=n("WebKit")&&!e.utils.userAgent.EDGE,e.utils.userAgent.GECKO=n("Gecko")&&!e.utils.userAgent.WEBKIT&&!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,e.utils.userAgent.ANDROID=n("Android"),e.utils.userAgent.IPAD=n("iPad"),e.utils.userAgent.IPOD=n("iPod"),e.utils.userAgent.IPHONE=n("iPhone")&&!e.utils.userAgent.IPAD&&!e.utils.userAgent.IPOD,e.utils.userAgent.MAC=n("Macintosh"),e.utils.userAgent.TABLET=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),e.utils.userAgent.MOBILE=!e.utils.userAgent.TABLET&&(e.utils.userAgent.IPOD||e.utils.userAgent.IPHONE||e.utils.userAgent.ANDROID||n("IEMobile"))}(e.utils.global.navigator&&e.utils.global.navigator.userAgent||""),e.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},e.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable||e.target.dataset&&"true"==e.target.dataset.isTextInput},e.utils.getRelativeXY=function(t){var n=new e.utils.Coordinate(0,0),o=t.getAttribute("x");return o&&(n.x=parseInt(o,10)),(o=t.getAttribute("y"))&&(n.y=parseInt(o,10)),(o=(o=t.getAttribute("transform"))&&o.match(e.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(o[1]),o[3]&&(n.y+=Number(o[3]))),(t=t.getAttribute("style"))&&-1<t.indexOf("translate")&&(t=t.match(e.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(t[1]),t[3]&&(n.y+=Number(t[3]))),n},e.utils.getInjectionDivXY_=function(t){for(var n=0,o=0;t;){var r=e.utils.getRelativeXY(t);if(n+=r.x,o+=r.y,-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;t=t.parentNode}return new e.utils.Coordinate(n,o)},e.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,e.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,e.utils.isRightButton=function(t){return!(!t.ctrlKey||!e.utils.userAgent.MAC)||2==t.button},e.utils.mouseToSvg=function(e,t,n){var o=t.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,n||(n=t.getScreenCTM().inverse()),o.matrixTransform(n)},e.utils.getScrollDeltaPixels=function(t){switch(t.deltaMode){default:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*e.LINE_MODE_MULTIPLIER,y:t.deltaY*e.LINE_MODE_MULTIPLIER};case 2:return{x:t.deltaX*e.PAGE_MODE_MULTIPLIER,y:t.deltaY*e.PAGE_MODE_MULTIPLIER}}},e.utils.tokenizeInterpolation=function(t){return e.utils.tokenizeInterpolation_(t,!0)},e.utils.replaceMessageReferences=function(t){return"string"!=typeof t?t:(t=e.utils.tokenizeInterpolation_(t,!1),t.length?String(t[0]):"")},e.utils.checkMessageReferences=function(t){for(var n=!0,o=e.Msg,r=t.match(/%{BKY_[A-Z]\w*}/gi),i=0;i<r.length;i++){void 0==o[r[i].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+r[i]+" in "+t),n=!1)}return n},e.utils.tokenizeInterpolation_=function(t,n){var o=[],r=t.split("");r.push("");var i=0;t=[];for(var s=null,a=0;a<r.length;a++){var l=r[a];0==i?"%"==l?((l=t.join(""))&&o.push(l),t.length=0,i=1):t.push(l):1==i?"%"==l?(t.push(l),i=0):n&&"0"<=l&&"9">=l?(i=2,s=l,(l=t.join(""))&&o.push(l),t.length=0):"{"==l?i=3:(t.push("%",l),i=0):2==i?"0"<=l&&"9">=l?s+=l:(o.push(parseInt(s,10)),a--,i=0):3==i&&(""==l?(t.splice(0,0,"%{"),a--,i=0):"}"!=l?t.push(l):(i=t.join(""),/[A-Z]\w*/i.test(i)?(l=i.toUpperCase(),(l=e.utils.string.startsWith(l,"BKY_")?l.substring(4):null)&&l in e.Msg?(i=e.Msg[l],"string"==typeof i?Array.prototype.push.apply(o,e.utils.tokenizeInterpolation_(i,n)):n?o.push(String(i)):o.push(i)):o.push("%{"+i+"}")):o.push("%{"+i+"}"),i=t.length=0))}for((l=t.join(""))&&o.push(l),n=[],a=t.length=0;a<o.length;++a)"string"==typeof o[a]?t.push(o[a]):((l=t.join(""))&&n.push(l),t.length=0,n.push(o[a]));return(l=t.join(""))&&n.push(l),t.length=0,n},e.utils.genUid=function(){for(var t=e.utils.genUid.soup_.length,n=[],o=0;20>o;o++)n[o]=e.utils.genUid.soup_.charAt(Math.random()*t);return n.join("")},e.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e.utils.is3dSupported=function(){if(void 0!==e.utils.is3dSupported.cached_)return e.utils.is3dSupported.cached_;if(!e.utils.global.getComputedStyle)return!1;var t=document.createElement("p"),n="none",o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(t,null);for(var r in o)if(void 0!==t.style[r]){if(t.style[r]="translate3d(1px,1px,1px)",!(n=e.utils.global.getComputedStyle(t)))return document.body.removeChild(t),!1;n=n.getPropertyValue(o[r])}return document.body.removeChild(t),e.utils.is3dSupported.cached_="none"!==n,e.utils.is3dSupported.cached_},e.utils.runAfterPageLoad=function(e){if("object"!=("undefined"===typeof document?"undefined":s(document)))throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var t=setInterval(function(){"complete"==document.readyState&&(clearInterval(t),e())},10)},e.utils.getViewportBBox=function(){var t=e.utils.style.getViewportPageOffset();return new e.utils.Rect(t.y,document.documentElement.clientHeight+t.y,t.x,document.documentElement.clientWidth+t.x)},e.utils.arrayRemove=function(e,t){return-1!=(t=e.indexOf(t))&&(e.splice(t,1),!0)},e.utils.getDocumentScroll=function(){var t=document.documentElement,n=window;return e.utils.userAgent.IE&&n.pageYOffset!=t.scrollTop?new e.utils.Coordinate(t.scrollLeft,t.scrollTop):new e.utils.Coordinate(n.pageXOffset||t.scrollLeft,n.pageYOffset||t.scrollTop)},e.utils.getBlockTypeCounts=function(e,t){var n=Object.create(null),o=e.getDescendants(!0);for(t&&(e=e.getNextBlock())&&(e=o.indexOf(e),o.splice(e,o.length-e)),e=0;t=o[e];e++)n[t.type]?n[t.type]++:n[t.type]=1;return n},e.utils.screenToWsCoordinates=function(t,n){var o=n.x;n=n.y;var r=t.getInjectionDiv().getBoundingClientRect();return o=new e.utils.Coordinate(o-r.left,n-r.top),n=t.getOriginOffsetInPixels(),e.utils.Coordinate.difference(o,n).scale(1/t.scale)},e.utils.parseBlockColour=function(t){var n="string"==typeof t?e.utils.replaceMessageReferences(t):t,o=Number(n);if(!isNaN(o)&&0<=o&&360>=o)return{hue:o,hex:e.utils.colour.hsvToHex(o,e.HSV_SATURATION,255*e.HSV_VALUE)};if(o=e.utils.colour.parse(n))return{hue:null,hex:o};throw o='Invalid colour: "'+n+'"',t!=n&&(o+=' (from "'+t+'")'),Error(o)},e.Touch={},e.Touch.TOUCH_ENABLED="ontouchstart"in e.utils.global||!!(e.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!e.utils.global.navigator||!e.utils.global.navigator.maxTouchPoints&&!e.utils.global.navigator.msMaxTouchPoints),e.Touch.touchIdentifier_=null,e.Touch.TOUCH_MAP={},e.utils.global.PointerEvent?e.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:e.Touch.TOUCH_ENABLED&&(e.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),e.longPid_=0,e.longStart=function(t,n){e.longStop_(),t.changedTouches&&1!=t.changedTouches.length||(e.longPid_=setTimeout(function(){t.changedTouches&&(t.button=2,t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),n&&n.handleRightClick(t)},e.LONGPRESS))},e.longStop_=function(){e.longPid_&&(clearTimeout(e.longPid_),e.longPid_=0)},e.Touch.clearTouchIdentifier=function(){e.Touch.touchIdentifier_=null},e.Touch.shouldHandleEvent=function(t){return!e.Touch.isMouseOrTouchEvent(t)||e.Touch.checkTouchIdentifier(t)},e.Touch.getTouchIdentifierFromEvent=function(e){return void 0!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&void 0!==e.changedTouches[0].identifier&&null!==e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},e.Touch.checkTouchIdentifier=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);return void 0!==e.Touch.touchIdentifier_&&null!==e.Touch.touchIdentifier_?e.Touch.touchIdentifier_==n:("mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type)&&(e.Touch.touchIdentifier_=n,!0)},e.Touch.setClientFromTouch=function(t){if(e.utils.string.startsWith(t.type,"touch")){var n=t.changedTouches[0];t.clientX=n.clientX,t.clientY=n.clientY}},e.Touch.isMouseOrTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"mouse")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.isTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.splitEventByTouches=function(e){var t=[];if(e.changedTouches)for(var n=0;n<e.changedTouches.length;n++)t[n]={type:e.type,changedTouches:[e.changedTouches[n]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else t.push(e);return t},e.browserEvents={},e.browserEvents.conditionalBind=function(t,n,o,r,i,s){var a=!1,l=function(t){var n=!i;t=e.Touch.splitEventByTouches(t);for(var s,l=0;s=t[l];l++)n&&!e.Touch.shouldHandleEvent(s)||(e.Touch.setClientFromTouch(s),o?r.call(o,s):r(s),a=!0)},c=[];if(e.utils.global.PointerEvent&&n in e.Touch.TOUCH_MAP)for(var u,p=0;u=e.Touch.TOUCH_MAP[n][p];p++)t.addEventListener(u,l,!1),c.push([t,u,l]);else if(t.addEventListener(n,l,!1),c.push([t,n,l]),n in e.Touch.TOUCH_MAP){var h=function(e){l(e);var t=!s;a&&t&&e.preventDefault()};for(p=0;u=e.Touch.TOUCH_MAP[n][p];p++)t.addEventListener(u,h,!1),c.push([t,u,h])}return c},e.browserEvents.bind=function(t,n,o,r){var i=function(e){o?r.call(o,e):r(e)},s=[];if(e.utils.global.PointerEvent&&n in e.Touch.TOUCH_MAP)for(var a,l=0;a=e.Touch.TOUCH_MAP[n][l];l++)t.addEventListener(a,i,!1),s.push([t,a,i]);else if(t.addEventListener(n,i,!1),s.push([t,n,i]),n in e.Touch.TOUCH_MAP){var c=function(e){if(e.changedTouches&&1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}i(e),e.preventDefault()};for(l=0;a=e.Touch.TOUCH_MAP[n][l];l++)t.addEventListener(a,c,!1),s.push([t,a,c])}return s},e.browserEvents.unbind=function(e){for(;e.length;){var t=e.pop(),n=t[2];t[0].removeEventListener(t[1],n,!1)}return n},e.registry={},e.registry.typeMap_={},e.registry.DEFAULT="default",e.registry.Type=function(e){this.name_=e},e.registry.Type.prototype.toString=function(){return this.name_},e.registry.Type.CONNECTION_CHECKER=new e.registry.Type("connectionChecker"),e.registry.Type.CURSOR=new e.registry.Type("cursor"),e.registry.Type.EVENT=new e.registry.Type("event"),e.registry.Type.FIELD=new e.registry.Type("field"),e.registry.Type.RENDERER=new e.registry.Type("renderer"),e.registry.Type.TOOLBOX=new e.registry.Type("toolbox"),e.registry.Type.THEME=new e.registry.Type("theme"),e.registry.Type.TOOLBOX_ITEM=new e.registry.Type("toolboxItem"),e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new e.registry.Type("flyoutsVerticalToolbox"),e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new e.registry.Type("flyoutsHorizontalToolbox"),e.registry.Type.METRICS_MANAGER=new e.registry.Type("metricsManager"),e.registry.register=function(t,n,o,r){if(!(t instanceof e.registry.Type)&&"string"!=typeof t||""==String(t).trim())throw Error('Invalid type "'+t+'". The type must be a non-empty string or a Blockly.registry.Type.');if(t=String(t).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!o)throw Error("Can not register a null value");var i=e.registry.typeMap_[t];if(i||(i=e.registry.typeMap_[t]={}),e.registry.validate_(t,o),!r&&i[n])throw Error('Name "'+n+'" with type "'+t+'" already registered.');i[n]=o},e.registry.validate_=function(t,n){switch(t){case String(e.registry.Type.FIELD):if("function"!=typeof n.fromJson)throw Error('Type "'+t+'" must have a fromJson function')}},e.registry.unregister=function(t,n){t=String(t).toLowerCase(),n=n.toLowerCase();var o=e.registry.typeMap_[t];o&&o[n]?delete e.registry.typeMap_[t][n]:console.warn("Unable to unregister ["+n+"]["+t+"] from the registry.")},e.registry.getItem_=function(t,n,o){t=String(t).toLowerCase(),n=n.toLowerCase();var r=e.registry.typeMap_[t];if(!r||!r[n]){if(n="Unable to find ["+n+"]["+t+"] in the registry.",o)throw Error(n+" You must require or register a "+t+" plugin.");return console.warn(n),null}return r[n]},e.registry.hasItem=function(t,n){return t=String(t).toLowerCase(),n=n.toLowerCase(),!!(t=e.registry.typeMap_[t])&&!!t[n]},e.registry.getClass=function(t,n,o){return e.registry.getItem_(t,n,o)},e.registry.getObject=function(t,n,o){return e.registry.getItem_(t,n,o)},e.registry.getClassFromOptions=function(t,n,o){return n=n.plugins[t.toString()]||e.registry.DEFAULT,"function"==typeof n?n:e.registry.getClass(t,n,o)},e.Events={},e.Events.group_="",e.Events.recordUndo=!0,e.Events.disabled_=0,e.Events.CREATE="create",e.Events.BLOCK_CREATE=e.Events.CREATE,e.Events.DELETE="delete",e.Events.BLOCK_DELETE=e.Events.DELETE,e.Events.CHANGE="change",e.Events.BLOCK_CHANGE=e.Events.CHANGE,e.Events.MOVE="move",e.Events.BLOCK_MOVE=e.Events.MOVE,e.Events.VAR_CREATE="var_create",e.Events.VAR_DELETE="var_delete",e.Events.VAR_RENAME="var_rename",e.Events.UI="ui",e.Events.BLOCK_DRAG="drag",e.Events.SELECTED="selected",e.Events.CLICK="click",e.Events.MARKER_MOVE="marker_move",e.Events.BUBBLE_OPEN="bubble_open",e.Events.TRASHCAN_OPEN="trashcan_open",e.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.Events.THEME_CHANGE="theme_change",e.Events.VIEWPORT_CHANGE="viewport_change",e.Events.COMMENT_CREATE="comment_create",e.Events.COMMENT_DELETE="comment_delete",e.Events.COMMENT_CHANGE="comment_change",e.Events.COMMENT_MOVE="comment_move",e.Events.FINISHED_LOADING="finished_loading",e.Events.BUMP_EVENTS=[e.Events.BLOCK_CREATE,e.Events.BLOCK_MOVE,e.Events.COMMENT_CREATE,e.Events.COMMENT_MOVE],e.Events.FIRE_QUEUE_=[],e.Events.fire=function(t){e.Events.isEnabled()&&(e.Events.FIRE_QUEUE_.length||setTimeout(e.Events.fireNow_,0),e.Events.FIRE_QUEUE_.push(t))},e.Events.fireNow_=function(){for(var t,n=e.Events.filter(e.Events.FIRE_QUEUE_,!0),o=e.Events.FIRE_QUEUE_.length=0;t=n[o];o++)if(t.workspaceId){var r=e.Workspace.getById(t.workspaceId);r&&r.fireChangeListener(t)}},e.Events.filter=function(t,n){t=t.slice(),n||t.reverse();for(var o,r=[],i=Object.create(null),s=0;o=t[s];s++)if(!o.isNull()){var a=[o.isUiEvent?e.Events.UI:o.type,o.blockId,o.workspaceId].join(" "),l=i[a],c=l?l.event:null;l?o.type==e.Events.MOVE&&l.index==s-1?(c.newParentId=o.newParentId,c.newInputName=o.newInputName,c.newCoordinate=o.newCoordinate,l.index=s):o.type==e.Events.CHANGE&&o.element==c.element&&o.name==c.name?c.newValue=o.newValue:o.type==e.Events.CLICK&&c.type==e.Events.BUBBLE_OPEN||(i[a]={event:o,index:s},r.push(o)):(i[a]={event:o,index:s},r.push(o))}for(t=r.filter(function(e){return!e.isNull()}),n||t.reverse(),s=1;o=t[s];s++)o.type==e.Events.CHANGE&&"mutation"==o.element&&t.unshift(t.splice(s,1)[0]);return t},e.Events.clearPendingUndo=function(){for(var t,n=0;t=e.Events.FIRE_QUEUE_[n];n++)t.recordUndo=!1},e.Events.disable=function(){e.Events.disabled_++},e.Events.enable=function(){e.Events.disabled_--},e.Events.isEnabled=function(){return 0==e.Events.disabled_},e.Events.getGroup=function(){return e.Events.group_},e.Events.setGroup=function(t){e.Events.group_="boolean"==typeof t?t?e.utils.genUid():"":t},e.Events.getDescendantIds=function(e){var t=[];e=e.getDescendants(!1);for(var n,o=0;n=e[o];o++)t[o]=n.id;return t},e.Events.fromJson=function(t,n){var o=e.Events.get(t.type);if(!o)throw Error("Unknown event type.");return o=new o,o.fromJson(t),o.workspaceId=n.id,o},e.Events.get=function(t){return e.registry.getClass(e.registry.Type.EVENT,t)},e.Events.disableOrphans=function(t){if((t.type==e.Events.MOVE||t.type==e.Events.CREATE)&&t.workspaceId){var n=e.Workspace.getById(t.workspaceId),o=n.getBlockById(t.blockId);if(o){t=e.Events.recordUndo;try{e.Events.recordUndo=!1;var r=o.getParent();if(r&&r.isEnabled()){var i=o.getDescendants(!1);n=0;for(var s;s=i[n];n++)s.setEnabled(!0)}else if((o.outputConnection||o.previousConnection)&&!n.isDragging())do{o.setEnabled(!1),o=o.getNextBlock()}while(o)}finally{e.Events.recordUndo=t}}}},e.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo};e.Events.Abstract.prototype.isUiEvent=!1,e.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},e.Events.Abstract.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},e.Events.Abstract.prototype.isNull=function(){return!1},e.Events.Abstract.prototype.run=function(e){},e.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var t=e.Workspace.getById(this.workspaceId);if(!t)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return t},e.utils.object={},e.utils.object.inherits=function(e,t){e.superClass_=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},e.utils.object.mixin=function(e,t){for(var n in t)e[n]=t[n]},e.utils.object.deepMerge=function(t,n){for(var o in n)t[o]=null!=n[o]&&"object"===s(n[o])?e.utils.object.deepMerge(t[o]||Object.create(null),n[o]):n[o];return t},e.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})},e.utils.xml={},e.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",e.utils.xml.document=function(){return document},e.utils.xml.createElement=function(t){return e.utils.xml.document().createElementNS(e.utils.xml.NAME_SPACE,t)},e.utils.xml.createTextNode=function(t){return e.utils.xml.document().createTextNode(t)},e.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},e.inputTypes={VALUE:e.connectionTypes.INPUT_VALUE,STATEMENT:e.connectionTypes.NEXT_STATEMENT,DUMMY:5},e.utils.Svg=function(e){this.tagName_=e},e.utils.Svg.prototype.toString=function(){return this.tagName_},e.utils.Svg.ANIMATE=new e.utils.Svg("animate"),e.utils.Svg.CIRCLE=new e.utils.Svg("circle"),e.utils.Svg.CLIPPATH=new e.utils.Svg("clipPath"),e.utils.Svg.DEFS=new e.utils.Svg("defs"),e.utils.Svg.FECOMPOSITE=new e.utils.Svg("feComposite"),e.utils.Svg.FECOMPONENTTRANSFER=new e.utils.Svg("feComponentTransfer"),e.utils.Svg.FEFLOOD=new e.utils.Svg("feFlood"),e.utils.Svg.FEFUNCA=new e.utils.Svg("feFuncA"),e.utils.Svg.FEGAUSSIANBLUR=new e.utils.Svg("feGaussianBlur"),e.utils.Svg.FEPOINTLIGHT=new e.utils.Svg("fePointLight"),e.utils.Svg.FESPECULARLIGHTING=new e.utils.Svg("feSpecularLighting"),e.utils.Svg.FILTER=new e.utils.Svg("filter"),e.utils.Svg.FOREIGNOBJECT=new e.utils.Svg("foreignObject"),e.utils.Svg.G=new e.utils.Svg("g"),e.utils.Svg.IMAGE=new e.utils.Svg("image"),e.utils.Svg.LINE=new e.utils.Svg("line"),e.utils.Svg.PATH=new e.utils.Svg("path"),e.utils.Svg.PATTERN=new e.utils.Svg("pattern"),e.utils.Svg.POLYGON=new e.utils.Svg("polygon"),e.utils.Svg.RECT=new e.utils.Svg("rect"),e.utils.Svg.SVG=new e.utils.Svg("svg"),e.utils.Svg.TEXT=new e.utils.Svg("text"),e.utils.Svg.TSPAN=new e.utils.Svg("tspan"),e.utils.dom={},e.utils.dom.SVG_NS="http://www.w3.org/2000/svg",e.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",e.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",e.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},e.utils.dom.cacheWidths_=null,e.utils.dom.cacheReference_=0,e.utils.dom.canvasContext_=null,e.utils.dom.createSvgElement=function(t,n,o){t=document.createElementNS(e.utils.dom.SVG_NS,String(t));for(var r in n)t.setAttribute(r,n[r]);return document.body.runtimeStyle&&(t.runtimeStyle=t.currentStyle=t.style),o&&o.appendChild(t),t},e.utils.dom.addClass=function(e,t){var n=e.getAttribute("class")||"";return-1==(" "+n+" ").indexOf(" "+t+" ")&&(n&&(n+=" "),e.setAttribute("class",n+t),!0)},e.utils.dom.removeClasses=function(t,n){n=n.split(" ");for(var o=0;o<n.length;o++)e.utils.dom.removeClass(t,n[o])},e.utils.dom.removeClass=function(e,t){var n=e.getAttribute("class");if(-1==(" "+n+" ").indexOf(" "+t+" "))return!1;n=n.split(/\s+/);for(var o=0;o<n.length;o++)n[o]&&n[o]!=t||(n.splice(o,1),o--);return n.length?e.setAttribute("class",n.join(" ")):e.removeAttribute("class"),!0},e.utils.dom.hasClass=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},e.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},e.utils.dom.insertAfter=function(e,t){var n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},e.utils.dom.containsNode=function(t,n){return!!(t.compareDocumentPosition(n)&e.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},e.utils.dom.setCssTransform=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},e.utils.dom.startTextWidthCache=function(){e.utils.dom.cacheReference_++,e.utils.dom.cacheWidths_||(e.utils.dom.cacheWidths_={})},e.utils.dom.stopTextWidthCache=function(){--e.utils.dom.cacheReference_||(e.utils.dom.cacheWidths_=null)},e.utils.dom.getTextWidth=function(t){var n,o=t.textContent+"\n"+t.className.baseVal;if(e.utils.dom.cacheWidths_&&(n=e.utils.dom.cacheWidths_[o]))return n;try{n=e.utils.userAgent.IE||e.utils.userAgent.EDGE?t.getBBox().width:t.getComputedTextLength()}catch(e){return 8*t.textContent.length}return e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[o]=n),n},e.utils.dom.getFastTextWidth=function(t,n,o,r){return e.utils.dom.getFastTextWidthWithSizeString(t,n+"pt",o,r)},e.utils.dom.getFastTextWidthWithSizeString=function(t,n,o,r){var i=t.textContent;t=i+"\n"+t.className.baseVal;var s;return e.utils.dom.cacheWidths_&&(s=e.utils.dom.cacheWidths_[t])?s:(e.utils.dom.canvasContext_||(s=document.createElement("canvas"),s.className="blocklyComputeCanvas",document.body.appendChild(s),e.utils.dom.canvasContext_=s.getContext("2d")),e.utils.dom.canvasContext_.font=o+" "+n+" "+r,s=e.utils.dom.canvasContext_.measureText(i).width,e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[t]=s),s)},e.utils.dom.measureFontMetrics=function(e,t,n,o){var r=document.createElement("span");r.style.font=n+" "+t+" "+o,r.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0px",t=document.createElement("div"),t.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(r),t.appendChild(e),document.body.appendChild(t);try{n={},t.style.alignItems="baseline",n.baseline=e.offsetTop-r.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-r.offsetTop}finally{document.body.removeChild(t)}return n},e.Xml={},e.Xml.workspaceToDom=function(t,n){var o=e.utils.xml.createElement("xml"),r=e.Xml.variablesToDom(e.Variables.allUsedVarModels(t));r.hasChildNodes()&&o.appendChild(r);var i=t.getTopComments(!0);r=0;for(var s;s=i[r];r++)o.appendChild(s.toXmlWithXY(n));for(t=t.getTopBlocks(!0),r=0;i=t[r];r++)o.appendChild(e.Xml.blockToDomWithXY(i,n));return o},e.Xml.variablesToDom=function(t){for(var n,o=e.utils.xml.createElement("variables"),r=0;n=t[r];r++){var i=e.utils.xml.createElement("variable");i.appendChild(e.utils.xml.createTextNode(n.name)),n.type&&i.setAttribute("type",n.type),i.id=n.getId(),o.appendChild(i)}return o},e.Xml.blockToDomWithXY=function(t,n){if(t.isInsertionMarker()&&!(t=t.getChildren(!1)[0]))return new DocumentFragment;var o;t.workspace.RTL&&(o=t.workspace.getWidth()),n=e.Xml.blockToDom(t,n);var r=t.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(t.workspace.RTL?o-r.x:r.x)),n.setAttribute("y",Math.round(r.y)),n},e.Xml.fieldToDom_=function(t){if(t.isSerializable()){var n=e.utils.xml.createElement("field");return n.setAttribute("name",t.name||""),t.toXml(n)}return null},e.Xml.allFieldsToDom_=function(t,n){for(var o,r=0;o=t.inputList[r];r++)for(var i,s=0;i=o.fieldRow[s];s++)(i=e.Xml.fieldToDom_(i))&&n.appendChild(i)},e.Xml.blockToDom=function(t,n){if(t.isInsertionMarker())return(t=t.getChildren(!1)[0])?e.Xml.blockToDom(t):new DocumentFragment;var o=e.utils.xml.createElement(t.isShadow()?"shadow":"block");if(o.setAttribute("type",t.type),n||o.setAttribute("id",t.id),t.mutationToDom){var r=t.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&o.appendChild(r)}if(e.Xml.allFieldsToDom_(t,o),r=t.getCommentText()){var i=t.commentModel.size,s=t.commentModel.pinned,a=e.utils.xml.createElement("comment");a.appendChild(e.utils.xml.createTextNode(r)),a.setAttribute("pinned",s),a.setAttribute("h",i.height),a.setAttribute("w",i.width),o.appendChild(a)}for(t.data&&(r=e.utils.xml.createElement("data"),r.appendChild(e.utils.xml.createTextNode(t.data)),o.appendChild(r)),r=0;i=t.inputList[r];r++){var l;if(s=!0,i.type!=e.inputTypes.DUMMY){var c=i.connection.targetBlock();i.type==e.inputTypes.VALUE?l=e.utils.xml.createElement("value"):i.type==e.inputTypes.STATEMENT&&(l=e.utils.xml.createElement("statement")),a=i.connection.getShadowDom(),!a||c&&c.isShadow()||l.appendChild(e.Xml.cloneShadow_(a,n)),c&&(a=e.Xml.blockToDom(c,n),a.nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&(l.appendChild(a),s=!1)),l.setAttribute("name",i.name),s||o.appendChild(l)}}return void 0!=t.inputsInline&&t.inputsInline!=t.inputsInlineDefault&&o.setAttribute("inline",t.inputsInline),t.isCollapsed()&&o.setAttribute("collapsed",!0),t.isEnabled()||o.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||o.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||o.setAttribute("movable",!1),t.isEditable()||o.setAttribute("editable",!1),(r=t.getNextBlock())&&(a=e.Xml.blockToDom(r,n),a.nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&(l=e.utils.xml.createElement("next"),l.appendChild(a),o.appendChild(l))),a=t.nextConnection&&t.nextConnection.getShadowDom(),!a||r&&r.isShadow()||l.appendChild(e.Xml.cloneShadow_(a,n)),o},e.Xml.cloneShadow_=function(t,n){for(var o,r=t=t.cloneNode(!0);r;)if(n&&"shadow"==r.nodeName&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;)o=r,r=r.parentNode,o.nodeType==e.utils.dom.NodeType.TEXT_NODE&&""==o.data.trim()&&r.firstChild!=o&&e.utils.dom.removeNode(o);r&&(o=r,r=r.nextSibling,o.nodeType==e.utils.dom.NodeType.TEXT_NODE&&""==o.data.trim()&&e.utils.dom.removeNode(o))}return t},e.Xml.domToText=function(t){return e.utils.xml.domToText(t).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},e.Xml.domToPrettyText=function(t){t=e.Xml.domToText(t).split("<");for(var n="",o=1;o<t.length;o++){var r=t[o];"/"==r[0]&&(n=n.substring(2)),t[o]=n+"<"+r,"/"!=r[0]&&"/>"!=r.slice(-2)&&(n+="  ")}return t=t.join("\n"),t=t.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),t.replace(/^\n/,"")},e.Xml.textToDom=function(t){var n=e.utils.xml.textToDomDocument(t);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+t);return n.documentElement},e.Xml.clearWorkspaceAndLoadFromXml=function(t,n){return n.setResizesEnabled(!1),n.clear(),t=e.Xml.domToWorkspace(t,n),n.setResizesEnabled(!0),t},e.Xml.domToWorkspace=function(t,n){if(t instanceof e.Workspace){var o=t;t=n,n=o,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var r;n.RTL&&(r=n.getWidth()),o=[],e.utils.dom.startTextWidthCache();var i=e.Events.getGroup();i||e.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var s=!0;try{for(var a,l=0;a=t.childNodes[l];l++){var c=a.nodeName.toLowerCase(),u=a;if("block"==c||"shadow"==c&&!e.Events.recordUndo){var p=e.Xml.domToBlock(u,n);o.push(p.id);var h=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,d=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(h)||isNaN(d)||p.moveBy(n.RTL?r-h:h,d),s=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)n.rendered?e.WorkspaceCommentSvg?e.WorkspaceCommentSvg.fromXml(u,n,r):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):e.WorkspaceComment?e.WorkspaceComment.fromXml(u,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");e.Xml.domToVariables(u,n),s=!1}}}}finally{i||e.Events.setGroup(!1),e.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),e.Events.fire(new(e.Events.get(e.Events.FINISHED_LOADING))(n)),o},e.Xml.appendDomToWorkspace=function(t,n){var o;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(o=n.getBlocksBoundingBox()),t=e.Xml.domToWorkspace(t,n),o&&o.top!=o.bottom){var r=o.bottom,i=n.RTL?o.right:o.left,s=1/0,a=-1/0,l=1/0;for(o=0;o<t.length;o++){var c=n.getBlockById(t[o]).getRelativeToSurfaceXY();c.y<l&&(l=c.y),c.x<s&&(s=c.x),c.x>a&&(a=c.x)}for(r=r-l+10,i=n.RTL?i-a:i-s,o=0;o<t.length;o++)n.getBlockById(t[o]).moveBy(i,r)}return t},e.Xml.domToBlock=function(t,n){if(t instanceof e.Workspace){var o=t;t=n,n=o,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}e.Events.disable(),o=n.getAllVariables();try{var r=e.Xml.domToBlockHeadless_(t,n),i=r.getDescendants(!1);if(n.rendered){r.setConnectionTracking(!1);for(var s=i.length-1;0<=s;s--)i[s].initSvg();for(s=i.length-1;0<=s;s--)i[s].render(!1);setTimeout(function(){r.disposed||r.setConnectionTracking(!0)},1),r.updateDisabled(),n.resizeContents()}else for(s=i.length-1;0<=s;s--)i[s].initModel()}finally{e.Events.enable()}if(e.Events.isEnabled()){for(t=e.Variables.getAddedVariables(n,o),s=0;s<t.length;s++)n=t[s],e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(n));e.Events.fire(new(e.Events.get(e.Events.CREATE))(r))}return r},e.Xml.domToVariables=function(t,n){for(var o,r=0;o=t.childNodes[r];r++)if(o.nodeType==e.utils.dom.NodeType.ELEMENT_NODE){var i=o.getAttribute("type"),s=o.getAttribute("id");n.createVariable(o.textContent,i,s)}},e.Xml.mapSupportedXmlTags_=function(t){for(var n,o={mutation:[],comment:[],data:[],field:[],input:[],next:[]},r=0;n=t.childNodes[r];r++)if(n.nodeType!=e.utils.dom.NodeType.TEXT_NODE)switch(n.nodeName.toLowerCase()){case"mutation":o.mutation.push(n);break;case"comment":if(!e.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}o.comment.push(n);break;case"data":o.data.push(n);break;case"title":case"field":o.field.push(n);break;case"value":case"statement":o.input.push(n);break;case"next":o.next.push(n);break;default:console.warn("Ignoring unknown tag: "+n.nodeName)}return o},e.Xml.applyMutationTagNodes_=function(e,t){for(var n,o=!1,r=0;n=e[r];r++)t.domToMutation&&(t.domToMutation(n),t.initSvg&&(o=!0));return o},e.Xml.applyCommentTagNodes_=function(t,n){for(var o,r=0;o=t[r];r++){var i=o.textContent,s="true"==o.getAttribute("pinned"),a=parseInt(o.getAttribute("w"),10);o=parseInt(o.getAttribute("h"),10),n.setCommentText(i),n.commentModel.pinned=s,isNaN(a)||isNaN(o)||(n.commentModel.size=new e.utils.Size(a,o)),s&&n.getCommentIcon&&!n.isInFlyout&&setTimeout(function(){n.getCommentIcon().setVisible(!0)},1)}},e.Xml.applyDataTagNodes_=function(e,t){for(var n,o=0;n=e[o];o++)t.data=n.textContent},e.Xml.applyFieldTagNodes_=function(t,n){for(var o,r=0;o=t[r];r++){var i=o.getAttribute("name");e.Xml.domToField_(n,i,o)}},e.Xml.findChildBlocks_=function(t){for(var n,o={childBlockElement:null,childShadowElement:null},r=0;n=t.childNodes[r];r++)n.nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?o.childBlockElement=n:"shadow"==n.nodeName.toLowerCase()&&(o.childShadowElement=n));return o},e.Xml.applyInputTagNodes_=function(t,n,o,r){for(var i,s=0;i=t[s];s++){var a=i.getAttribute("name"),l=o.getInput(a);if(!l){console.warn("Ignoring non-existent input "+a+" in block "+r);break}if(i=e.Xml.findChildBlocks_(i),i.childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");e.Xml.domToBlockHeadless_(i.childBlockElement,n,l.connection,!1)}i.childShadowElement&&l.connection.setShadowDom(i.childShadowElement)}},e.Xml.applyNextTagNodes_=function(t,n,o){for(var r,i=0;r=t[i];i++){if(r=e.Xml.findChildBlocks_(r),r.childBlockElement){if(!o.nextConnection)throw TypeError("Next statement does not exist.");if(o.nextConnection.isConnected())throw TypeError("Next statement is already connected.");e.Xml.domToBlockHeadless_(r.childBlockElement,n,o.nextConnection,!0)}r.childShadowElement&&o.nextConnection&&o.nextConnection.setShadowDom(r.childShadowElement)}},e.Xml.domToBlockHeadless_=function(t,n,o,r){var i=t.getAttribute("type");if(!i)throw TypeError("Block type unspecified: "+t.outerHTML);var s=t.getAttribute("id");s=n.newBlock(i,s);var a=e.Xml.mapSupportedXmlTags_(t),l=e.Xml.applyMutationTagNodes_(a.mutation,s);if(e.Xml.applyCommentTagNodes_(a.comment,s),e.Xml.applyDataTagNodes_(a.data,s),o)if(r){if(!s.previousConnection)throw TypeError("Next block does not have previous statement.");o.connect(s.previousConnection)}else if(s.outputConnection)o.connect(s.outputConnection);else{if(!s.previousConnection)throw TypeError("Child block does not have output or previous statement.");o.connect(s.previousConnection)}if(e.Xml.applyFieldTagNodes_(a.field,s),e.Xml.applyInputTagNodes_(a.input,n,s,i),e.Xml.applyNextTagNodes_(a.next,n,s),l&&s.initSvg(),(n=t.getAttribute("inline"))&&s.setInputsInline("true"==n),(n=t.getAttribute("disabled"))&&s.setEnabled("true"!=n&&"disabled"!=n),(n=t.getAttribute("deletable"))&&s.setDeletable("true"==n),(n=t.getAttribute("movable"))&&s.setMovable("true"==n),(n=t.getAttribute("editable"))&&s.setEditable("true"==n),(n=t.getAttribute("collapsed"))&&s.setCollapsed("true"==n),"shadow"==t.nodeName.toLowerCase()){for(t=s.getChildren(!1),n=0;o=t[n];n++)if(!o.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(s.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");s.setShadow(!0)}return s},e.Xml.domToField_=function(e,t,n){var o=e.getField(t);o?o.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},e.Xml.deleteNext=function(e){for(var t,n=0;t=e.childNodes[n];n++)if("next"==t.nodeName.toLowerCase()){e.removeChild(t);break}},e.Events.BlockBase=function(t){e.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank="undefined"==typeof t)?"":t.id,this.workspaceId=this.isBlank?"":t.workspace.id},e.utils.object.inherits(e.Events.BlockBase,e.Events.Abstract),e.Events.BlockBase.prototype.toJson=function(){var t=e.Events.BlockBase.superClass_.toJson.call(this);return t.blockId=this.blockId,t},e.Events.BlockBase.prototype.fromJson=function(t){e.Events.BlockBase.superClass_.fromJson.call(this,t),this.blockId=t.blockId},e.Events.Change=function(t,n,o,r,i){e.Events.Change.superClass_.constructor.call(this,t),t&&(this.element="undefined"==typeof n?"":n,this.name="undefined"==typeof o?"":o,this.oldValue="undefined"==typeof r?"":r,this.newValue="undefined"==typeof i?"":i)},e.utils.object.inherits(e.Events.Change,e.Events.BlockBase),e.Events.BlockChange=e.Events.Change,e.Events.Change.prototype.type=e.Events.CHANGE,e.Events.Change.prototype.toJson=function(){var t=e.Events.Change.superClass_.toJson.call(this);return t.element=this.element,this.name&&(t.name=this.name),t.oldValue=this.oldValue,t.newValue=this.newValue,t},e.Events.Change.prototype.fromJson=function(t){e.Events.Change.superClass_.fromJson.call(this,t),this.element=t.element,this.name=t.name,this.oldValue=t.oldValue,this.newValue=t.newValue},e.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},e.Events.Change.prototype.run=function(t){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(t):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(t||null);break;case"collapsed":n.setCollapsed(!!t);break;case"disabled":n.setEnabled(!t);break;case"inline":n.setInputsInline(!!t);break;case"mutation":var o="";if(n.mutationToDom&&(o=(o=n.mutationToDom())&&e.Xml.domToText(o)),n.domToMutation){var r=e.Xml.textToDom(t||"<mutation/>");n.domToMutation(r)}e.Events.fire(new(e.Events.get(e.Events.CHANGE))(n,"mutation",null,o,t));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},e.Events.Create=function(t){e.Events.Create.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),this.xml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t))},e.utils.object.inherits(e.Events.Create,e.Events.BlockBase),e.Events.BlockCreate=e.Events.Create,e.Events.Create.prototype.type=e.Events.CREATE,e.Events.Create.prototype.toJson=function(){var t=e.Events.Create.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t.ids=this.ids,this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Create.prototype.fromJson=function(t){e.Events.Create.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml),this.ids=t.ids,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Create.prototype.run=function(t){var n=this.getEventWorkspace_();if(t)t=e.utils.xml.createElement("xml"),t.appendChild(this.xml),e.Xml.domToWorkspace(t,n);else{t=0;for(var o;o=this.ids[t];t++){var r=n.getBlockById(o);r?r.dispose(!1):o==this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}}},e.Events.Delete=function(t){if(e.Events.Delete.superClass_.constructor.call(this,t),t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");t.isShadow()&&(this.recordUndo=!1),this.oldXml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t)}},e.utils.object.inherits(e.Events.Delete,e.Events.BlockBase),e.Events.BlockDelete=e.Events.Delete,e.Events.Delete.prototype.type=e.Events.DELETE,e.Events.Delete.prototype.toJson=function(){var t=e.Events.Delete.superClass_.toJson.call(this);return t.oldXml=e.Xml.domToText(this.oldXml),t.ids=this.ids,this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Delete.prototype.fromJson=function(t){e.Events.Delete.superClass_.fromJson.call(this,t),this.oldXml=e.Xml.textToDom(t.oldXml),this.ids=t.ids,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Delete.prototype.run=function(t){var n=this.getEventWorkspace_();if(t){t=0;for(var o;o=this.ids[t];t++){var r=n.getBlockById(o);r?r.dispose(!1):o==this.blockId&&console.warn("Can't delete non-existent block: "+o)}}else t=e.utils.xml.createElement("xml"),t.appendChild(this.oldXml),e.Xml.domToWorkspace(t,n)},e.Events.Move=function(t){e.Events.Move.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),t=this.currentLocation_(),this.oldParentId=t.parentId,this.oldInputName=t.inputName,this.oldCoordinate=t.coordinate)},e.utils.object.inherits(e.Events.Move,e.Events.BlockBase),e.Events.BlockMove=e.Events.Move,e.Events.Move.prototype.type=e.Events.MOVE,e.Events.Move.prototype.toJson=function(){var t=e.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(t.newParentId=this.newParentId),this.newInputName&&(t.newInputName=this.newInputName),this.newCoordinate&&(t.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Move.prototype.fromJson=function(t){if(e.Events.Move.superClass_.fromJson.call(this,t),this.newParentId=t.newParentId,this.newInputName=t.newInputName,t.newCoordinate){var n=t.newCoordinate.split(",");this.newCoordinate=new e.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},e.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),t={},n=e.getParent();return n?(t.parentId=n.id,(e=n.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},e.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&e.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},e.Events.Move.prototype.run=function(t){var n=this.getEventWorkspace_(),o=n.getBlockById(this.blockId);if(o){var r=t?this.newParentId:this.oldParentId,i=t?this.newInputName:this.oldInputName,s=t?this.newCoordinate:this.oldCoordinate;if(t=null,r&&!(t=n.getBlockById(r)))return void console.warn("Can't connect to non-existent block: "+r);if(o.getParent()&&o.unplug(),s)i=o.getRelativeToSurfaceXY(),o.moveBy(s.x-i.x,s.y-i.y);else{if(o=o.outputConnection||o.previousConnection,n=o.type,i){if(t=t.getInput(i))var a=t.connection}else n==e.connectionTypes.PREVIOUS_STATEMENT&&(a=t.nextConnection);a?o.connect(a):console.warn("Can't connect to non-existent input: "+i)}}else console.warn("Can't move non-existent block: "+this.blockId)},e.registry.register(e.registry.Type.EVENT,e.Events.CREATE,e.Events.Create),e.registry.register(e.registry.Type.EVENT,e.Events.DELETE,e.Events.Delete),e.registry.register(e.registry.Type.EVENT,e.Events.CHANGE,e.Events.Change),e.registry.register(e.registry.Type.EVENT,e.Events.MOVE,e.Events.Move),e.Events.FinishedLoading=function(t){this.isBlank="undefined"==typeof t,this.workspaceId=t?t.id:"",this.group=e.Events.getGroup(),this.recordUndo=!1},e.utils.object.inherits(e.Events.FinishedLoading,e.Events.Abstract),e.Events.FinishedLoading.prototype.type=e.Events.FINISHED_LOADING,e.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},e.Events.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},e.registry.register(e.registry.Type.EVENT,e.Events.FINISHED_LOADING,e.Events.FinishedLoading),e.Events.UiBase=function(t){e.Events.UiBase.superClass_.constructor.call(this),this.isBlank="undefined"==typeof t,this.workspaceId=t||"",this.recordUndo=!1},e.utils.object.inherits(e.Events.UiBase,e.Events.Abstract),e.Events.UiBase.prototype.isUiEvent=!0,e.Events.Ui=function(t,n,o,r){e.Events.Ui.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.element="undefined"==typeof n?"":n,this.oldValue="undefined"==typeof o?"":o,this.newValue="undefined"==typeof r?"":r},e.utils.object.inherits(e.Events.Ui,e.Events.UiBase),e.Events.Ui.prototype.type=e.Events.UI,e.Events.Ui.prototype.toJson=function(){var t=e.Events.Ui.superClass_.toJson.call(this);return t.element=this.element,void 0!==this.newValue&&(t.newValue=this.newValue),this.blockId&&(t.blockId=this.blockId),t},e.Events.Ui.prototype.fromJson=function(t){e.Events.Ui.superClass_.fromJson.call(this,t),this.element=t.element,this.newValue=t.newValue,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.UI,e.Events.Ui),e.Events.VarBase=function(t){e.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank="undefined"==typeof t)?"":t.getId(),this.workspaceId=this.isBlank?"":t.workspace.id},e.utils.object.inherits(e.Events.VarBase,e.Events.Abstract),e.Events.VarBase.prototype.toJson=function(){var t=e.Events.VarBase.superClass_.toJson.call(this);return t.varId=this.varId,t},e.Events.VarBase.prototype.fromJson=function(t){e.Events.VarBase.superClass_.toJson.call(this),this.varId=t.varId},e.Events.VarCreate=function(t){e.Events.VarCreate.superClass_.constructor.call(this,t),t&&(this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarCreate,e.Events.VarBase),e.Events.VarCreate.prototype.type=e.Events.VAR_CREATE,e.Events.VarCreate.prototype.toJson=function(){var t=e.Events.VarCreate.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarCreate.prototype.fromJson=function(t){e.Events.VarCreate.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarCreate.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)},e.Events.VarDelete=function(t){e.Events.VarDelete.superClass_.constructor.call(this,t),t&&(this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarDelete,e.Events.VarBase),e.Events.VarDelete.prototype.type=e.Events.VAR_DELETE,e.Events.VarDelete.prototype.toJson=function(){var t=e.Events.VarDelete.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarDelete.prototype.fromJson=function(t){e.Events.VarDelete.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarDelete.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)},e.Events.VarRename=function(t,n){e.Events.VarRename.superClass_.constructor.call(this,t),t&&(this.oldName=t.name,this.newName="undefined"==typeof n?"":n)},e.utils.object.inherits(e.Events.VarRename,e.Events.VarBase),e.Events.VarRename.prototype.type=e.Events.VAR_RENAME,e.Events.VarRename.prototype.toJson=function(){var t=e.Events.VarRename.superClass_.toJson.call(this);return t.oldName=this.oldName,t.newName=this.newName,t},e.Events.VarRename.prototype.fromJson=function(t){e.Events.VarRename.superClass_.fromJson.call(this,t),this.oldName=t.oldName,this.newName=t.newName},e.Events.VarRename.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)},e.registry.register(e.registry.Type.EVENT,e.Events.VAR_CREATE,e.Events.VarCreate),e.registry.register(e.registry.Type.EVENT,e.Events.VAR_DELETE,e.Events.VarDelete),e.registry.register(e.registry.Type.EVENT,e.Events.VAR_RENAME,e.Events.VarRename),e.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.BlockDragSurfaceSvg.prototype.SVG_=null,e.BlockDragSurfaceSvg.prototype.dragGroup_=null,e.BlockDragSurfaceSvg.prototype.container_=null,e.BlockDragSurfaceSvg.prototype.scale_=1,e.BlockDragSurfaceSvg.prototype.surfaceXY_=null,e.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},this.SVG_))},e.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(t){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(t),this.SVG_.style.display="block",this.surfaceXY_=new e.utils.Coordinate(0,0)},e.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,t,n){this.scale_=n,e=e.toFixed(0),t=t.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+e+","+t+") scale("+n+")")},e.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var t=this.surfaceXY_.x,n=this.surfaceXY_.y;t=t.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},e.BlockDragSurfaceSvg.prototype.translateSurface=function(t,n){this.surfaceXY_=new e.utils.Coordinate(t*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},e.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var t=e.utils.getRelativeXY(this.SVG_);return new e.utils.Coordinate(t.x/this.scale_,t.y/this.scale_)},e.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},e.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},e.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},e.Css={},e.Css.injected_=!1,e.Css.register=function(t){if(e.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(e.Css.CONTENT,t),t.length=0},e.Css.inject=function(t,n){if(!e.Css.injected_){e.Css.injected_=!0;var o=e.Css.CONTENT.join("\n");e.Css.CONTENT.length=0,t&&(t=n.replace(/[\\/]$/,""),o=o.replace(/<<<PATH>>>/g,t),t=document.createElement("style"),t.id="blockly-common-style",o=document.createTextNode(o),t.appendChild(o),document.head.insertBefore(t,document.head.firstChild))}},e.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],e.utils.math={},e.utils.math.toRadians=function(e){return e*Math.PI/180},e.utils.math.toDegrees=function(e){return 180*e/Math.PI},e.utils.math.clamp=function(e,t,n){if(n<e){var o=n;n=e,e=o}return Math.max(e,Math.min(t,n))},e.DropDownDiv=function(){},e.DropDownDiv.boundsElement_=null;e.DropDownDiv.owner_=null,e.DropDownDiv.positionToField_=null,e.DropDownDiv.ARROW_SIZE=16,e.DropDownDiv.BORDER_SIZE=1,e.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,e.DropDownDiv.PADDING_Y=16,e.DropDownDiv.ANIMATION_TIME=.25,e.DropDownDiv.animateOutTimer_=null,e.DropDownDiv.onHide_=null,e.DropDownDiv.rendererClassName_="",e.DropDownDiv.themeClassName_="",e.DropDownDiv.createDom=function(){if(!e.DropDownDiv.DIV_){var t=document.createElement("div");t.className="blocklyDropDownDiv",(e.parentContainer||document.body).appendChild(t),e.DropDownDiv.DIV_=t;var n=document.createElement("div");n.className="blocklyDropDownContent",t.appendChild(n),e.DropDownDiv.content_=n,n=document.createElement("div"),n.className="blocklyDropDownArrow",t.appendChild(n),e.DropDownDiv.arrow_=n,e.DropDownDiv.DIV_.style.opacity=0,e.DropDownDiv.DIV_.style.transition="transform "+e.DropDownDiv.ANIMATION_TIME+"s, opacity "+e.DropDownDiv.ANIMATION_TIME+"s",t.addEventListener("focusin",function(){e.utils.dom.addClass(t,"blocklyFocused")}),t.addEventListener("focusout",function(){e.utils.dom.removeClass(t,"blocklyFocused")})}},e.DropDownDiv.setBoundsElement=function(t){e.DropDownDiv.boundsElement_=t},e.DropDownDiv.getContentDiv=function(){return e.DropDownDiv.content_},e.DropDownDiv.clearContent=function(){e.DropDownDiv.content_.textContent="",e.DropDownDiv.content_.style.width=""},e.DropDownDiv.setColour=function(t,n){e.DropDownDiv.DIV_.style.backgroundColor=t,e.DropDownDiv.DIV_.style.borderColor=n},e.DropDownDiv.showPositionedByBlock=function(t,n,o,r){return e.DropDownDiv.showPositionedByRect_(e.DropDownDiv.getScaledBboxOfBlock_(n),t,o,r)},e.DropDownDiv.showPositionedByField=function(t,n,o){return e.DropDownDiv.positionToField_=!0,e.DropDownDiv.showPositionedByRect_(e.DropDownDiv.getScaledBboxOfField_(t),t,n,o)},e.DropDownDiv.getScaledBboxOfBlock_=function(t){var n=t.getSvgRoot(),o=n.getBBox(),r=t.workspace.scale;return t=o.height*r,o=o.width*r,n=e.utils.style.getPageOffset(n),new e.utils.Rect(n.y,n.y+t,n.x,n.x+o)},e.DropDownDiv.getScaledBboxOfField_=function(t){return t=t.getScaledBBox(),new e.utils.Rect(t.top,t.bottom,t.left,t.right)},e.DropDownDiv.showPositionedByRect_=function(t,n,o,r){var i=t.left+(t.right-t.left)/2,s=t.bottom;t=t.top,r&&(t+=r),r=n.getSourceBlock();for(var a=r.workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return e.DropDownDiv.setBoundsElement(a.getParentSvg().parentNode),e.DropDownDiv.show(n,r.RTL,i,s,i,t,o)},e.DropDownDiv.show=function(t,n,o,r,i,s,a){return e.DropDownDiv.owner_=t,e.DropDownDiv.onHide_=a||null,t=e.DropDownDiv.DIV_,t.style.direction=n?"rtl":"ltr",n=e.getMainWorkspace(),e.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),e.DropDownDiv.themeClassName_=n.getTheme().getClassName(),e.utils.dom.addClass(t,e.DropDownDiv.rendererClassName_),e.utils.dom.addClass(t,e.DropDownDiv.themeClassName_),e.DropDownDiv.positionInternal_(o,r,i,s)},e.DropDownDiv.getBoundsInfo_=function(){var t=e.utils.style.getPageOffset(e.DropDownDiv.boundsElement_),n=e.utils.style.getSize(e.DropDownDiv.boundsElement_);return{left:t.x,right:t.x+n.width,top:t.y,bottom:t.y+n.height,width:n.width,height:n.height}},e.DropDownDiv.getPositionMetrics_=function(t,n,o,r){var i=e.DropDownDiv.getBoundsInfo_(),s=e.utils.style.getSize(e.DropDownDiv.DIV_);return n+s.height<i.bottom?e.DropDownDiv.getPositionBelowMetrics_(t,n,i,s):r-s.height>i.top?e.DropDownDiv.getPositionAboveMetrics_(o,r,i,s):n+s.height<document.documentElement.clientHeight?e.DropDownDiv.getPositionBelowMetrics_(t,n,i,s):r-s.height>document.documentElement.clientTop?e.DropDownDiv.getPositionAboveMetrics_(o,r,i,s):e.DropDownDiv.getPositionTopOfPageMetrics_(t,i,s)},e.DropDownDiv.getPositionBelowMetrics_=function(t,n,o,r){return t=e.DropDownDiv.getPositionX(t,o.left,o.right,r.width),{initialX:t.divX,initialY:n,finalX:t.divX,finalY:n+e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:-(e.DropDownDiv.ARROW_SIZE/2+e.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},e.DropDownDiv.getPositionAboveMetrics_=function(t,n,o,r){return t=e.DropDownDiv.getPositionX(t,o.left,o.right,r.width),{initialX:t.divX,initialY:n-r.height,finalX:t.divX,finalY:n-r.height-e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:r.height-2*e.DropDownDiv.BORDER_SIZE-e.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},e.DropDownDiv.getPositionTopOfPageMetrics_=function(t,n,o){return t=e.DropDownDiv.getPositionX(t,n.left,n.right,o.width),{initialX:t.divX,initialY:0,finalX:t.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},e.DropDownDiv.getPositionX=function(t,n,o,r){var i=t;return t=e.utils.math.clamp(n,t-r/2,o-r),i-=e.DropDownDiv.ARROW_SIZE/2,n=e.DropDownDiv.ARROW_HORIZONTAL_PADDING,r=e.utils.math.clamp(n,i-t,r-n-e.DropDownDiv.ARROW_SIZE),{arrowX:r,divX:t}},e.DropDownDiv.isVisible=function(){return!!e.DropDownDiv.owner_},e.DropDownDiv.hideIfOwner=function(t,n){return e.DropDownDiv.owner_===t&&(n?e.DropDownDiv.hideWithoutAnimation():e.DropDownDiv.hide(),!0)},e.DropDownDiv.hide=function(){var t=e.DropDownDiv.DIV_;t.style.transform="translate(0, 0)",t.style.opacity=0,e.DropDownDiv.animateOutTimer_=setTimeout(function(){e.DropDownDiv.hideWithoutAnimation()},1e3*e.DropDownDiv.ANIMATION_TIME),e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null)},e.DropDownDiv.hideWithoutAnimation=function(){if(e.DropDownDiv.isVisible()){e.DropDownDiv.animateOutTimer_&&clearTimeout(e.DropDownDiv.animateOutTimer_);var t=e.DropDownDiv.DIV_;t.style.transform="",t.style.left="",t.style.top="",t.style.opacity=0,t.style.display="none",t.style.backgroundColor="",t.style.borderColor="",e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null),e.DropDownDiv.clearContent(),e.DropDownDiv.owner_=null,e.DropDownDiv.rendererClassName_&&(e.utils.dom.removeClass(t,e.DropDownDiv.rendererClassName_),e.DropDownDiv.rendererClassName_=""),e.DropDownDiv.themeClassName_&&(e.utils.dom.removeClass(t,e.DropDownDiv.themeClassName_),e.DropDownDiv.themeClassName_=""),e.getMainWorkspace().markFocused()}},e.DropDownDiv.positionInternal_=function(t,n,o,r){t=e.DropDownDiv.getPositionMetrics_(t,n,o,r),t.arrowVisible?(e.DropDownDiv.arrow_.style.display="",e.DropDownDiv.arrow_.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",e.DropDownDiv.arrow_.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):e.DropDownDiv.arrow_.style.display="none",n=Math.floor(t.initialX),o=Math.floor(t.initialY),r=Math.floor(t.finalX);var i=Math.floor(t.finalY),s=e.DropDownDiv.DIV_;return s.style.left=n+"px",s.style.top=o+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(r-n)+"px,"+(i-o)+"px)",!!t.arrowAtTop},e.DropDownDiv.repositionForWindowResize=function(){if(e.DropDownDiv.owner_){var t=e.DropDownDiv.owner_,n=t.getSourceBlock();t=e.DropDownDiv.positionToField_?e.DropDownDiv.getScaledBboxOfField_(t):e.DropDownDiv.getScaledBboxOfBlock_(n),n=t.left+(t.right-t.left)/2,e.DropDownDiv.positionInternal_(n,t.bottom,n,t.top)}else e.DropDownDiv.hide()},e.Grid=function(e,t){this.gridPattern_=e,this.spacing_=t.spacing,this.length_=t.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=t.snap},e.Grid.prototype.scale_=1,e.Grid.prototype.dispose=function(){this.gridPattern_=null},e.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},e.Grid.prototype.getSpacing=function(){return this.spacing_},e.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},e.Grid.prototype.update=function(e){this.scale_=e;var t=this.spacing_*e||100;this.gridPattern_.setAttribute("width",t),this.gridPattern_.setAttribute("height",t),t=Math.floor(this.spacing_/2)+.5;var n=t-this.length_/2,o=t+this.length_/2;t*=e,n*=e,o*=e,this.setLineAttributes_(this.line1_,e,n,o,t,t),this.setLineAttributes_(this.line2_,e,t,t,n,o)},e.Grid.prototype.setLineAttributes_=function(e,t,n,o,r,i){e&&(e.setAttribute("stroke-width",t),e.setAttribute("x1",n),e.setAttribute("y1",r),e.setAttribute("x2",o),e.setAttribute("y2",i))},e.Grid.prototype.moveTo=function(t,n){this.gridPattern_.setAttribute("x",t),this.gridPattern_.setAttribute("y",n),(e.utils.userAgent.IE||e.utils.userAgent.EDGE)&&this.update(this.scale_)},e.Grid.createDom=function(t,n,o){return t=e.utils.dom.createSvgElement(e.utils.Svg.PATTERN,{id:"blocklyGridPattern"+t,patternUnits:"userSpaceOnUse"},o),0<n.length&&0<n.spacing?(e.utils.dom.createSvgElement(e.utils.Svg.LINE,{stroke:n.colour},t),1<n.length&&e.utils.dom.createSvgElement(e.utils.Svg.LINE,{stroke:n.colour},t)):e.utils.dom.createSvgElement(e.utils.Svg.LINE,{},t),t},e.Theme=function(t,n,o,r){this.name=t,this.blockStyles=n||Object.create(null),this.categoryStyles=o||Object.create(null),this.componentStyles=r||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,e.registry.register(e.registry.Type.THEME,t,this)},e.Theme.prototype.getClassName=function(){return this.name+"-theme"},e.Theme.prototype.setBlockStyle=function(e,t){this.blockStyles[e]=t},e.Theme.prototype.setCategoryStyle=function(e,t){this.categoryStyles[e]=t},e.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},e.Theme.prototype.setComponentStyle=function(e,t){this.componentStyles[e]=t},e.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},e.Theme.prototype.setStartHats=function(e){this.startHats=e},e.Theme.defineTheme=function(t,n){var o=new e.Theme(t),r=n.base;return r&&("string"==typeof r&&(r=e.registry.getObject(e.registry.Type.THEME,r)),r instanceof e.Theme&&(e.utils.object.deepMerge(o,r),o.name=t)),e.utils.object.deepMerge(o.blockStyles,n.blockStyles),e.utils.object.deepMerge(o.categoryStyles,n.categoryStyles),e.utils.object.deepMerge(o.componentStyles,n.componentStyles),e.utils.object.deepMerge(o.fontStyle,n.fontStyle),null!=n.startHats&&(o.startHats=n.startHats),o},e.Themes={},e.Themes.Classic={},e.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},e.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},e.Themes.Classic=new e.Theme("classic",e.Themes.Classic.defaultBlockStyles,e.Themes.Classic.categoryStyles),e.utils.IdGenerator={},e.utils.IdGenerator.nextId_=0,e.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(e.utils.IdGenerator.nextId_++).toString(36)},e.utils.Metrics=function(){},e.utils.toolbox={},e.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",e.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",e.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},e.utils.toolbox.convertToolboxDefToJson=function(t){return t?((t instanceof Element||"string"==typeof t)&&(t=e.utils.toolbox.parseToolboxTree(t),t=e.utils.toolbox.convertToToolboxJson_(t)),e.utils.toolbox.validateToolbox_(t),t):null},e.utils.toolbox.validateToolbox_=function(t){var n=t.kind;if(t=t.contents,n&&n!=e.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=e.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+e.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+e.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!t)throw Error("Toolbox must have a contents attribute.")},e.utils.toolbox.convertFlyoutDefToJsonArray=function(t){return t?t.contents?t.contents:Array.isArray(t)&&0<t.length&&!t[0].nodeType?t:e.utils.toolbox.xmlToJsonArray_(t):[]},e.utils.toolbox.hasCategories=function(t){if(!t)return!1;var n=t.kind;return n?n==e.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!t.contents.filter(function(e){return"CATEGORY"==e.kind.toUpperCase()}).length},e.utils.toolbox.isCategoryCollapsible=function(e){return!(!e||!e.contents)&&!!e.contents.filter(function(e){return"CATEGORY"==e.kind.toUpperCase()}).length},e.utils.toolbox.convertToToolboxJson_=function(t){var n={contents:e.utils.toolbox.xmlToJsonArray_(t)};return t instanceof Node&&e.utils.toolbox.addAttributes_(t,n),n},e.utils.toolbox.xmlToJsonArray_=function(t){var n=[],o=t.childNodes;o||(o=t),t=0;for(var r;r=o[t];t++)if(r.tagName){var i={},s=r.tagName.toUpperCase();i.kind=s,"BLOCK"==s?i.blockxml=r:r.childNodes&&0<r.childNodes.length&&(i.contents=e.utils.toolbox.xmlToJsonArray_(r)),e.utils.toolbox.addAttributes_(r,i),n.push(i)}return n},e.utils.toolbox.addAttributes_=function(e,t){for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];-1<o.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[o.nodeName.replace("css-","")]=o.value):t[o.nodeName]=o.value}},e.utils.toolbox.parseToolboxTree=function(t){if(t){if("string"!=typeof t&&(e.utils.userAgent.IE&&t.outerHTML?t=t.outerHTML:t instanceof Element||(t=null)),"string"==typeof t&&(t=e.Xml.textToDom(t),"xml"!=t.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.")}else t=null;return t},e.Options=function(t){var n=!!t.readOnly;if(n)var o=null,r=!1,i=!1,s=!1,a=!1,l=!1,c=!1;else{o=e.utils.toolbox.convertToolboxDefToJson(t.toolbox),r=e.utils.toolbox.hasCategories(o),i=t.trashcan,void 0===i&&(i=r);var u=t.maxTrashcanContents;i?void 0===u&&(u=32):u=0,s=t.collapse,void 0===s&&(s=r),a=t.comments,void 0===a&&(a=r),l=t.disable,void 0===l&&(l=r),c=t.sounds,void 0===c&&(c=!0)}var p=!!t.rtl,h=t.horizontalLayout;void 0===h&&(h=!1);var d=t.toolboxPosition;d="end"!==d,d=h?d?e.utils.toolbox.Position.TOP:e.utils.toolbox.Position.BOTTOM:d==p?e.utils.toolbox.Position.RIGHT:e.utils.toolbox.Position.LEFT;var f=t.css;void 0===f&&(f=!0);var _="https://blockly-demo.appspot.com/static/media/";t.media?_=t.media:t.path&&(_=t.path+"media/");var g=void 0===t.oneBasedIndex||!!t.oneBasedIndex,m=t.renderer||"geras",v=t.plugins||{};this.RTL=p,this.oneBasedIndex=g,this.collapse=s,this.comments=a,this.disable=l,this.readOnly=n,this.maxBlocks=t.maxBlocks||1/0,this.maxInstances=t.maxInstances,this.pathToMedia=_,this.hasCategories=r,this.moveOptions=e.Options.parseMoveOptions_(t,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=i,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=f,this.horizontalLayout=h,this.languageTree=o,this.gridOptions=e.Options.parseGridOptions_(t),this.zoomOptions=e.Options.parseZoomOptions_(t),this.toolboxPosition=d,this.theme=e.Options.parseThemeOptions_(t),this.renderer=m,this.rendererOverrides=t.rendererOverrides,this.gridPattern=null,this.parentWorkspace=t.parentWorkspace,this.plugins=v},e.BlocklyOptions=function(){},e.Options.parseMoveOptions_=function(e,t){var n=e.move||{},o={};return void 0===n.scrollbars&&void 0===e.scrollbars?o.scrollbars=t:"object"==s(n.scrollbars)?(o.scrollbars={},o.scrollbars.horizontal=!!n.scrollbars.horizontal,o.scrollbars.vertical=!!n.scrollbars.vertical,o.scrollbars.horizontal&&o.scrollbars.vertical?o.scrollbars=!0:o.scrollbars.horizontal||o.scrollbars.vertical||(o.scrollbars=!1)):o.scrollbars=!!n.scrollbars||!!e.scrollbars,o.wheel=o.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==s(o.scrollbars),o.drag=!!o.scrollbars&&(void 0===n.drag||!!n.drag),o},e.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t},e.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t},e.Options.parseThemeOptions_=function(t){return t=t.theme||e.Themes.Classic,"string"==typeof t?e.registry.getObject(e.registry.Type.THEME,t):t instanceof e.Theme?t:e.Theme.defineTheme(t.name||"builtin"+e.utils.IdGenerator.getNextUniqueId(),t)},e.Options.parseToolboxTree=function(t){return e.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),e.utils.toolbox.parseToolboxTree(t)},e.ScrollbarPair=function(t,n,o,r){this.workspace_=t,n=void 0===n||n,o=void 0===o||o;var i=n&&o;n&&(this.hScroll=new e.Scrollbar(t,!0,i,r)),o&&(this.vScroll=new e.Scrollbar(t,!1,i,r)),i&&(this.corner_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{height:e.Scrollbar.scrollbarThickness,width:e.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),e.utils.dom.insertAfter(this.corner_,t.getBubbleCanvas())),this.oldHostMetrics_=null},e.ScrollbarPair.prototype.dispose=function(){e.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},e.ScrollbarPair.prototype.resize=function(){var t=this.workspace_.getMetrics();if(t){var n=!1,o=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==t.scrollWidth&&this.oldHostMetrics_.viewLeft==t.viewLeft&&this.oldHostMetrics_.scrollLeft==t.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==t.scrollHeight&&this.oldHostMetrics_.viewTop==t.viewTop&&this.oldHostMetrics_.scrollTop==t.scrollTop||(o=!0)):o=n=!0,n||o){try{e.Events.disable(),this.hScroll&&n&&this.hScroll.resize(t),this.vScroll&&o&&this.vScroll.resize(t)}finally{e.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=t}},e.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},e.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},e.ScrollbarPair.prototype.setOrigin=function(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)},e.ScrollbarPair.prototype.set=function(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},e.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},e.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},e.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},e.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},e.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},e.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)},e.Scrollbar=function(t,n,o,r){this.workspace_=t,this.pair_=o||!1,this.horizontal_=n,this.ratio=this.oldHostMetrics_=null,this.createDom_(r),this.position=new e.utils.Coordinate(0,0),t=e.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",t),this.outerSvg_.setAttribute("height",t),this.svgHandle_.setAttribute("height",t-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",t),this.outerSvg_.setAttribute("width",t),this.svgHandle_.setAttribute("width",t-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=e.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=e.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},e.Scrollbar.prototype.origin_=new e.utils.Coordinate(0,0),e.Scrollbar.prototype.startDragMouse_=0,e.Scrollbar.prototype.scrollbarLength_=0,e.Scrollbar.prototype.handleLength_=0,e.Scrollbar.prototype.handlePosition_=0,e.Scrollbar.prototype.isVisible_=!0,e.Scrollbar.prototype.containerVisible_=!0,e.Scrollbar.scrollbarThickness=15,e.Touch.TOUCH_ENABLED&&(e.Scrollbar.scrollbarThickness=25),e.Scrollbar.SCROLLBAR_MARGIN=.5,e.Scrollbar.metricsAreEquivalent_=function(e,t){return!(!e||!t||e.viewWidth!=t.viewWidth||e.viewHeight!=t.viewHeight||e.viewLeft!=t.viewLeft||e.viewTop!=t.viewTop||e.absoluteTop!=t.absoluteTop||e.absoluteLeft!=t.absoluteLeft||e.scrollWidth!=t.scrollWidth||e.scrollHeight!=t.scrollHeight||e.scrollLeft!=t.scrollLeft||e.scrollTop!=t.scrollTop)},e.Scrollbar.prototype.dispose=function(){this.cleanUp_(),e.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,e.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,e.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},e.Scrollbar.prototype.constrainHandleLength_=function(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},e.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},e.Scrollbar.prototype.constrainHandlePosition_=function(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},e.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},e.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},e.Scrollbar.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n,e.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},e.Scrollbar.prototype.resize=function(t){(t||(t=this.workspace_.getMetrics()))&&(e.Scrollbar.metricsAreEquivalent_(t,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(t):this.resizeVertical_(t),this.oldHostMetrics_=t,this.updateMetrics_()))},e.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||(this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop)},e.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},e.Scrollbar.prototype.resizeViewHorizontal=function(t){var n=t.viewWidth-2*e.Scrollbar.SCROLLBAR_MARGIN;this.pair_&&(n-=e.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=t.absoluteLeft+e.Scrollbar.SCROLLBAR_MARGIN,this.pair_&&this.workspace_.RTL&&(n+=e.Scrollbar.scrollbarThickness),this.setPosition(n,t.absoluteTop+t.viewHeight-e.Scrollbar.scrollbarThickness-e.Scrollbar.SCROLLBAR_MARGIN),this.resizeContentHorizontal(t)},e.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},e.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},e.Scrollbar.prototype.resizeViewVertical=function(t){var n=t.viewHeight-2*e.Scrollbar.SCROLLBAR_MARGIN;this.pair_&&(n-=e.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?t.absoluteLeft+e.Scrollbar.SCROLLBAR_MARGIN:t.absoluteLeft+t.viewWidth-e.Scrollbar.scrollbarThickness-e.Scrollbar.SCROLLBAR_MARGIN,t.absoluteTop+e.Scrollbar.SCROLLBAR_MARGIN),this.resizeContentVertical(t)},e.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},e.Scrollbar.prototype.createDom_=function(t){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");t&&(n+=" "+t),this.outerSvg_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{class:n},null),this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),t=Math.floor((e.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:t,ry:t},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),e.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},e.Scrollbar.prototype.isVisible=function(){return this.isVisible_},e.Scrollbar.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.setVisible=function(e){var t=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},e.Scrollbar.prototype.onMouseDownBar_=function(t){if(this.workspace_.markFocused(),e.Touch.clearTouchIdentifier(),this.cleanUp_(),e.utils.isRightButton(t))t.stopPropagation();else{var n=e.utils.mouseToSvg(t,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var o=e.utils.getInjectionDivXY_(this.svgHandle_);o=this.horizontal_?o.x:o.y;var r=this.handlePosition_,i=.95*this.handleLength_;n<=o?r-=i:n>=o+this.handleLength_&&(r+=i),this.setHandlePosition(this.constrainHandlePosition_(r)),this.updateMetrics_(),t.stopPropagation(),t.preventDefault()}},e.Scrollbar.prototype.onMouseDownHandle_=function(t){this.workspace_.markFocused(),this.cleanUp_(),e.utils.isRightButton(t)?t.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?t.clientX:t.clientY,e.Scrollbar.onMouseUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),e.Scrollbar.onMouseMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),t.stopPropagation(),t.preventDefault())},e.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},e.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),e.Touch.clearTouchIdentifier(),this.cleanUp_()},e.Scrollbar.prototype.cleanUp_=function(){e.hideChaff(!0),e.Scrollbar.onMouseUpWrapper_&&(e.browserEvents.unbind(e.Scrollbar.onMouseUpWrapper_),e.Scrollbar.onMouseUpWrapper_=null),e.Scrollbar.onMouseMoveWrapper_&&(e.browserEvents.unbind(e.Scrollbar.onMouseMoveWrapper_),e.Scrollbar.onMouseMoveWrapper_=null)},e.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},e.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),t={};this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},e.Scrollbar.prototype.set=function(e,t){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(t||void 0===t)&&this.updateMetrics_()},e.Scrollbar.prototype.setOrigin=function(t,n){this.origin_=new e.utils.Coordinate(t,n)},e.Tooltip={},e.Tooltip.visible=!1,e.Tooltip.blocked_=!1,e.Tooltip.LIMIT=50,e.Tooltip.mouseOutPid_=0,e.Tooltip.showPid_=0,e.Tooltip.lastX_=0,e.Tooltip.lastY_=0,e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.OFFSET_X=0,e.Tooltip.OFFSET_Y=10,e.Tooltip.RADIUS_OK=10,e.Tooltip.HOVER_MS=750,e.Tooltip.MARGINS=5,e.Tooltip.DIV=null,e.Tooltip.getTooltipOfObject=function(t){if(t=e.Tooltip.getTargetObject_(t)){for(t=t.tooltip;"function"==typeof t;)t=t();if("string"!=typeof t)throw Error("Tooltip function must return a string.");return t}return""},e.Tooltip.getTargetObject_=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},e.Tooltip.createDom=function(){e.Tooltip.DIV||(e.Tooltip.DIV=document.createElement("div"),e.Tooltip.DIV.className="blocklyTooltipDiv",(e.parentContainer||document.body).appendChild(e.Tooltip.DIV))},e.Tooltip.bindMouseEvents=function(t){t.mouseOverWrapper_=e.browserEvents.bind(t,"mouseover",null,e.Tooltip.onMouseOver_),t.mouseOutWrapper_=e.browserEvents.bind(t,"mouseout",null,e.Tooltip.onMouseOut_),t.addEventListener("mousemove",e.Tooltip.onMouseMove_,!1)},e.Tooltip.unbindMouseEvents=function(t){t&&(e.browserEvents.unbind(t.mouseOverWrapper_),e.browserEvents.unbind(t.mouseOutWrapper_),t.removeEventListener("mousemove",e.Tooltip.onMouseMove_))},e.Tooltip.onMouseOver_=function(t){e.Tooltip.blocked_||(t=e.Tooltip.getTargetObject_(t.currentTarget),e.Tooltip.element_!=t&&(e.Tooltip.hide(),e.Tooltip.poisonedElement_=null,e.Tooltip.element_=t),clearTimeout(e.Tooltip.mouseOutPid_))},e.Tooltip.onMouseOut_=function(t){e.Tooltip.blocked_||(e.Tooltip.mouseOutPid_=setTimeout(function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()},1),clearTimeout(e.Tooltip.showPid_))},e.Tooltip.onMouseMove_=function(t){if(e.Tooltip.element_&&e.Tooltip.element_.tooltip&&!e.Tooltip.blocked_)if(e.Tooltip.visible){var n=e.Tooltip.lastX_-t.pageX;t=e.Tooltip.lastY_-t.pageY,Math.sqrt(n*n+t*t)>e.Tooltip.RADIUS_OK&&e.Tooltip.hide()}else e.Tooltip.poisonedElement_!=e.Tooltip.element_&&(clearTimeout(e.Tooltip.showPid_),e.Tooltip.lastX_=t.pageX,e.Tooltip.lastY_=t.pageY,e.Tooltip.showPid_=setTimeout(e.Tooltip.show_,e.Tooltip.HOVER_MS))},e.Tooltip.dispose=function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()},e.Tooltip.hide=function(){e.Tooltip.visible&&(e.Tooltip.visible=!1,e.Tooltip.DIV&&(e.Tooltip.DIV.style.display="none")),e.Tooltip.showPid_&&clearTimeout(e.Tooltip.showPid_)},e.Tooltip.block=function(){e.Tooltip.hide(),e.Tooltip.blocked_=!0},e.Tooltip.unblock=function(){e.Tooltip.blocked_=!1},e.Tooltip.show_=function(){if(!e.Tooltip.blocked_&&(e.Tooltip.poisonedElement_=e.Tooltip.element_,e.Tooltip.DIV)){e.Tooltip.DIV.textContent="";var t=e.Tooltip.getTooltipOfObject(e.Tooltip.element_);t=e.utils.string.wrap(t,e.Tooltip.LIMIT),t=t.split("\n");for(var n=0;n<t.length;n++){var o=document.createElement("div");o.appendChild(document.createTextNode(t[n])),e.Tooltip.DIV.appendChild(o)}t=e.Tooltip.element_.RTL,n=document.documentElement.clientWidth,o=document.documentElement.clientHeight,e.Tooltip.DIV.style.direction=t?"rtl":"ltr",e.Tooltip.DIV.style.display="block",e.Tooltip.visible=!0;var r=e.Tooltip.lastX_;r=t?r-(e.Tooltip.OFFSET_X+e.Tooltip.DIV.offsetWidth):r+e.Tooltip.OFFSET_X;var i=e.Tooltip.lastY_+e.Tooltip.OFFSET_Y;i+e.Tooltip.DIV.offsetHeight>o+window.scrollY&&(i-=e.Tooltip.DIV.offsetHeight+2*e.Tooltip.OFFSET_Y),t?r=Math.max(e.Tooltip.MARGINS-window.scrollX,r):r+e.Tooltip.DIV.offsetWidth>n+window.scrollX-2*e.Tooltip.MARGINS&&(r=n-e.Tooltip.DIV.offsetWidth-2*e.Tooltip.MARGINS),e.Tooltip.DIV.style.top=i+"px",e.Tooltip.DIV.style.left=r+"px"}},e.utils.aria={},e.utils.aria.ARIA_PREFIX_="aria-",e.utils.aria.ROLE_ATTRIBUTE_="role",e.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},e.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},e.utils.aria.setRole=function(t,n){t.setAttribute(e.utils.aria.ROLE_ATTRIBUTE_,n)},e.utils.aria.setState=function(t,n,o){Array.isArray(o)&&(o=o.join(" ")),t.setAttribute(e.utils.aria.ARIA_PREFIX_+n,o)},e.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.WorkspaceDragSurfaceSvg.prototype.SVG_=null,e.WorkspaceDragSurfaceSvg.prototype.container_=null,e.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},e.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(t,n){t=t.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},e.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return e.utils.getRelativeXY(this.SVG_)},e.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(t){if(!t)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],o=this.SVG_.childNodes[1];if(!(n&&o&&e.utils.dom.hasClass(n,"blocklyBlockCanvas")&&e.utils.dom.hasClass(o,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?e.utils.dom.insertAfter(n,this.previousSibling_):t.insertBefore(n,t.firstChild),e.utils.dom.insertAfter(o,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");e.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},e.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,t,n,o,r,i){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=n,e.setAttribute("transform","translate(0, 0) scale("+i+")"),t.setAttribute("transform","translate(0, 0) scale("+i+")"),this.SVG_.setAttribute("width",o),this.SVG_.setAttribute("height",r),this.SVG_.appendChild(e),this.SVG_.appendChild(t),this.SVG_.style.display="block"},e.blockRendering={},e.blockRendering.useDebugger=!1,e.blockRendering.register=function(t,n){e.registry.register(e.registry.Type.RENDERER,t,n)},e.blockRendering.unregister=function(t){e.registry.unregister(e.registry.Type.RENDERER,t)},e.blockRendering.startDebugger=function(){e.blockRendering.useDebugger=!0},e.blockRendering.stopDebugger=function(){e.blockRendering.useDebugger=!1},e.blockRendering.init=function(t,n,o){return t=new(e.registry.getClass(e.registry.Type.RENDERER,t))(t),t.init(n,o),t},e.ASTNode=function(t,n,o){if(!n)throw Error("Cannot create a node without a location.");this.type_=t,this.isConnection_=e.ASTNode.isConnectionType_(t),this.location_=n,this.wsCoordinate_=null,this.processParams_(o||null)},e.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},e.ASTNode.NAVIGATE_ALL_FIELDS=!1,e.ASTNode.DEFAULT_OFFSET_Y=-20,e.ASTNode.isConnectionType_=function(t){switch(t){case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:case e.ASTNode.types.INPUT:case e.ASTNode.types.OUTPUT:return!0}return!1},e.ASTNode.createFieldNode=function(t){return t?new e.ASTNode(e.ASTNode.types.FIELD,t):null},e.ASTNode.createConnectionNode=function(t){if(!t)return null;var n=t.type;return n==e.connectionTypes.INPUT_VALUE||n==e.connectionTypes.NEXT_STATEMENT&&t.getParentInput()?e.ASTNode.createInputNode(t.getParentInput()):n==e.connectionTypes.NEXT_STATEMENT?new e.ASTNode(e.ASTNode.types.NEXT,t):n==e.connectionTypes.OUTPUT_VALUE?new e.ASTNode(e.ASTNode.types.OUTPUT,t):n==e.connectionTypes.PREVIOUS_STATEMENT?new e.ASTNode(e.ASTNode.types.PREVIOUS,t):null},e.ASTNode.createInputNode=function(t){return t&&t.connection?new e.ASTNode(e.ASTNode.types.INPUT,t.connection):null},e.ASTNode.createBlockNode=function(t){return t?new e.ASTNode(e.ASTNode.types.BLOCK,t):null},e.ASTNode.createStackNode=function(t){return t?new e.ASTNode(e.ASTNode.types.STACK,t):null},e.ASTNode.createWorkspaceNode=function(t,n){return n&&t?new e.ASTNode(e.ASTNode.types.WORKSPACE,t,{wsCoordinate:n}):null},e.ASTNode.createTopNode=function(t){var n=t.previousConnection||t.outputConnection;return n?e.ASTNode.createConnectionNode(n):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)};e.ASTNode.prototype.getLocation=function(){return this.location_},e.ASTNode.prototype.getType=function(){return this.type_},e.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},e.ASTNode.prototype.isConnection=function(){return this.isConnection_},e.ASTNode.prototype.findNextForInput_=function(){var t=this.location_.getParentInput(),n=t.getSourceBlock();t=n.inputList.indexOf(t)+1;for(var o;o=n.inputList[t];t++){for(var r,i=o.fieldRow,s=0;r=i[s];s++)if(r.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(r);if(o.connection)return e.ASTNode.createInputNode(o)}return null},e.ASTNode.prototype.findNextForField_=function(){var t=this.location_,n=t.getParentInput(),o=t.getSourceBlock(),r=o.inputList.indexOf(n);for(t=n.fieldRow.indexOf(t)+1;n=o.inputList[r];r++){for(var i=n.fieldRow;t<i.length;){if(i[t].isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i[t]);t++}if(t=0,n.connection)return e.ASTNode.createInputNode(n)}return null},e.ASTNode.prototype.findPrevForInput_=function(){for(var t,n=this.location_.getParentInput(),o=n.getSourceBlock(),r=o.inputList.indexOf(n);t=o.inputList[r];r--){if(t.connection&&t!==n)return e.ASTNode.createInputNode(t);t=t.fieldRow;for(var i,s=t.length-1;i=t[s];s--)if(i.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i)}return null},e.ASTNode.prototype.findPrevForField_=function(){var t=this.location_,n=t.getParentInput(),o=t.getSourceBlock(),r=o.inputList.indexOf(n);t=n.fieldRow.indexOf(t)-1;for(var i;i=o.inputList[r];r--){if(i.connection&&i!==n)return e.ASTNode.createInputNode(i);for(i=i.fieldRow;-1<t;){if(i[t].isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i[t]);t--}0<=r-1&&(t=o.inputList[r-1].fieldRow.length-1)}return null},e.ASTNode.prototype.navigateBetweenStacks_=function(t){var n=this.getLocation();if(n instanceof e.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var o=n.getRootBlock();n=o.workspace.getTopBlocks(!0);for(var r,i=0;r=n[i];i++)if(o.id==r.id)return t=i+(t?1:-1),-1==t||t==n.length?null:e.ASTNode.createStackNode(n[t]);throw Error("Couldn't find "+(t?"next":"previous")+" stack?!")},e.ASTNode.prototype.findTopASTNodeForBlock_=function(t){var n=t.previousConnection||t.outputConnection;return n?e.ASTNode.createConnectionNode(n):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.getOutAstNodeForBlock_=function(t){if(!t)return null;t=t.getTopStackBlock();var n=t.previousConnection||t.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?e.ASTNode.createInputNode(n.targetConnection.getParentInput()):e.ASTNode.createStackNode(t)},e.ASTNode.prototype.findFirstFieldOrInput_=function(t){t=t.inputList;for(var n,o=0;n=t[o];o++){for(var r,i=n.fieldRow,s=0;r=i[s];s++)if(r.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(r);if(n.connection)return e.ASTNode.createInputNode(n)}return null},e.ASTNode.prototype.getSourceBlock=function(){return this.getType()===e.ASTNode.types.BLOCK?this.getLocation():this.getType()===e.ASTNode.types.STACK?this.getLocation():this.getType()===e.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},e.ASTNode.prototype.next=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case e.ASTNode.types.OUTPUT:var t=this.location_;return e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.FIELD:return this.findNextForField_();case e.ASTNode.types.INPUT:return this.findNextForInput_();case e.ASTNode.types.BLOCK:return e.ASTNode.createConnectionNode(this.location_.nextConnection);case e.ASTNode.types.PREVIOUS:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.NEXT:return t=this.location_,e.ASTNode.createConnectionNode(t.targetConnection)}return null},e.ASTNode.prototype.in=function(){switch(this.type_){case e.ASTNode.types.WORKSPACE:var t=this.location_.getTopBlocks(!0);if(0<t.length)return e.ASTNode.createStackNode(t[0]);break;case e.ASTNode.types.STACK:return t=this.location_,this.findTopASTNodeForBlock_(t);case e.ASTNode.types.BLOCK:return t=this.location_,this.findFirstFieldOrInput_(t);case e.ASTNode.types.INPUT:return e.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},e.ASTNode.prototype.prev=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case e.ASTNode.types.FIELD:return this.findPrevForField_();case e.ASTNode.types.INPUT:return this.findPrevForInput_();case e.ASTNode.types.BLOCK:var t=this.location_;return e.ASTNode.createConnectionNode(t.previousConnection||t.outputConnection);case e.ASTNode.types.PREVIOUS:if(t=this.location_,(t=t.targetConnection)&&!t.getParentInput())return e.ASTNode.createConnectionNode(t);break;case e.ASTNode.types.NEXT:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock())}return null},e.ASTNode.prototype.out=function(){switch(this.type_){case e.ASTNode.types.STACK:var t=this.location_,n=t.getRelativeToSurfaceXY();return n=new e.utils.Coordinate(n.x,n.y+e.ASTNode.DEFAULT_OFFSET_Y),e.ASTNode.createWorkspaceNode(t.workspace,n);case e.ASTNode.types.OUTPUT:return t=this.location_,(n=t.targetConnection)?e.ASTNode.createConnectionNode(n):e.ASTNode.createStackNode(t.getSourceBlock());case e.ASTNode.types.FIELD:return e.ASTNode.createBlockNode(this.location_.getSourceBlock());case e.ASTNode.types.INPUT:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.BLOCK:return t=this.location_,this.getOutAstNodeForBlock_(t);case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:return t=this.location_,this.getOutAstNodeForBlock_(t.getSourceBlock())}return null},e.Blocks=Object.create(null),e.utils.deprecation={},e.utils.deprecation.warn=function(e,t,n,o){e=e+" was deprecated on "+t+" and will be deleted on "+n+".",o&&(e+="\nUse "+o+" instead."),console.warn(e)},e.Connection=function(e,t){this.sourceBlock_=e,this.type=t},e.Connection.CAN_CONNECT=0,e.Connection.REASON_SELF_CONNECTION=1,e.Connection.REASON_WRONG_TYPE=2,e.Connection.REASON_TARGET_NULL=3,e.Connection.REASON_CHECKS_FAILED=4,e.Connection.REASON_DIFFERENT_WORKSPACES=5,e.Connection.REASON_SHADOW_PARENT=6,e.Connection.REASON_DRAG_CHECKS_FAILED=7,e.Connection.prototype.targetConnection=null,e.Connection.prototype.disposed=!1,e.Connection.prototype.check_=null,e.Connection.prototype.shadowDom_=null,e.Connection.prototype.x=0,e.Connection.prototype.y=0,e.Connection.prototype.connect_=function(t){var n=this,o=n.getSourceBlock(),r=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),n.isConnected()){var i=n.targetBlock(),s=n.getShadowDom();if(n.shadowDom_=null,i.isShadow())s=e.Xml.blockToDom(i),i.dispose(!1),i=null;else if(n.type==e.connectionTypes.INPUT_VALUE){if(!i.outputConnection)throw Error("Orphan block does not have an output connection.");var a=e.Connection.lastConnectionInRow(r,i);a&&(i.outputConnection.connect(a),i=null)}else if(n.type==e.connectionTypes.NEXT_STATEMENT){if(!i.previousConnection)throw Error("Orphan block does not have a previous connection.");for(a=r;a.nextConnection;){var l=a.getNextBlock();if(!l||l.isShadow()){i.workspace.connectionChecker.canConnect(i.previousConnection,a.nextConnection,!1)&&(a.nextConnection.connect(i.previousConnection),i=null);break}a=l}}if(i&&(n.disconnect(),e.Events.recordUndo)){var c=e.Events.getGroup();setTimeout(function(){i.workspace&&!i.getParent()&&(e.Events.setGroup(c),i.outputConnection?i.outputConnection.onFailedConnect(n):i.previousConnection&&i.previousConnection.onFailedConnect(n),e.Events.setGroup(!1))},e.BUMP_DELAY)}n.shadowDom_=s}var u;e.Events.isEnabled()&&(u=new(e.Events.get(e.Events.BLOCK_MOVE))(r)),e.Connection.connectReciprocally_(n,t),r.setParent(o),u&&(u.recordNew(),e.Events.fire(u))},e.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},e.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Connection.prototype.isSuperior=function(){return this.type==e.connectionTypes.INPUT_VALUE||this.type==e.connectionTypes.NEXT_STATEMENT},e.Connection.prototype.isConnected=function(){return!!this.targetConnection},e.Connection.prototype.canConnectWithReason=function(t){return e.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,t,!1)},e.Connection.prototype.checkConnection=function(t){e.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),o=n.canConnectWithReason(this,t,!1);if(o!=e.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(o,this,t))},e.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},e.Connection.prototype.isConnectionAllowed=function(t){return e.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,t,!0)},e.Connection.prototype.onFailedConnect=function(e){},e.Connection.prototype.connect=function(t){if(this.targetConnection!=t&&this.getConnectionChecker().canConnect(this,t,!1)){var n=e.Events.getGroup();n||e.Events.setGroup(!0),this.isSuperior()?this.connect_(t):t.connect_(this),n||e.Events.setGroup(!1)}},e.Connection.connectReciprocally_=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},e.Connection.singleConnection_=function(t,n){var o=null;n=n.outputConnection;for(var r=0;r<t.inputList.length;r++){var i=t.inputList[r].connection,s=n.getConnectionChecker();if(i&&i.type==e.connectionTypes.INPUT_VALUE&&s.canConnect(n,i,!1)){if(o)return null;o=i}}return o},e.Connection.lastConnectionInRow=function(t,n){for(var o;o=e.Connection.singleConnection_(t,n);)if(!(t=o.targetBlock())||t.isShadow())return o;return null},e.Connection.prototype.disconnect=function(){var t=this.targetConnection;if(!t)throw Error("Source connection not connected.");if(t.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,o=t.getSourceBlock();t=this}else n=t.getSourceBlock(),o=this.sourceBlock_;var r=e.Events.getGroup();r||e.Events.setGroup(!0),this.disconnectInternal_(n,o),o.isShadow()||t.respawnShadow_(),r||e.Events.setGroup(!1)},e.Connection.prototype.disconnectInternal_=function(t,n){var o;e.Events.isEnabled()&&(o=new(e.Events.get(e.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),o&&(o.recordNew(),e.Events.fire(o))},e.Connection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),n=this.getShadowDom();if(t.workspace&&n)if(t=e.Xml.domToBlock(n,t.workspace),t.outputConnection)this.connect(t.outputConnection);else{if(!t.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(t.previousConnection)}},e.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},e.Connection.prototype.checkType=function(t){return e.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,t,!1)},e.Connection.prototype.checkType_=function(t){return e.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(t)},e.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},e.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},e.Connection.prototype.getCheck=function(){return this.check_},e.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e,e=this.targetBlock(),e?e.isShadow()&&(e.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},e.Connection.prototype.getShadowDom=function(){return this.shadowDom_},e.Connection.prototype.neighbours=function(e){return[]},e.Connection.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,n=t.inputList,o=0;o<t.inputList.length;o++)if(n[o].connection===this){e=n[o];break}return e},e.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var t="Output Connection of ";else if(e.previousConnection==this)t="Previous Connection of ";else if(e.nextConnection==this)t="Next Connection of ";else{t=null;for(var n,o=0;n=e.inputList[o];o++)if(n.connection==this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()},e.Extensions={},e.Extensions.ALL_={},e.Extensions.register=function(t,n){if("string"!=typeof t||""==t.trim())throw Error('Error: Invalid extension name "'+t+'"');if(e.Extensions.ALL_[t])throw Error('Error: Extension "'+t+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+t+'" must be a function');e.Extensions.ALL_[t]=n},e.Extensions.registerMixin=function(t,n){if(!n||"object"!=("undefined"===typeof n?"undefined":s(n)))throw Error('Error: Mixin "'+t+'" must be a object');e.Extensions.register(t,function(){this.mixin(n)})},e.Extensions.registerMutator=function(t,n,o,r){var i='Error when registering mutator "'+t+'": ';e.Extensions.checkHasFunction_(i,n.domToMutation,"domToMutation"),e.Extensions.checkHasFunction_(i,n.mutationToDom,"mutationToDom");var s=e.Extensions.checkMutatorDialog_(n,i);if(o&&"function"!=typeof o)throw Error('Extension "'+t+'" is not a function');e.Extensions.register(t,function(){if(s){if(!e.Mutator)throw Error(i+"Missing require for Blockly.Mutator");this.setMutator(new e.Mutator(r||[]))}this.mixin(n),o&&o.apply(this)})},e.Extensions.unregister=function(t){e.Extensions.ALL_[t]?delete e.Extensions.ALL_[t]:console.warn('No extension mapping for name "'+t+'" found to unregister')},e.Extensions.apply=function(t,n,o){var r=e.Extensions.ALL_[t];if("function"!=typeof r)throw Error('Error: Extension "'+t+'" not found.');if(o)e.Extensions.checkNoMutatorProperties_(t,n);else var i=e.Extensions.getMutatorProperties_(n);if(r.apply(n),o)e.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+t+'": ',n);else if(!e.Extensions.mutatorPropertiesMatch_(i,n))throw Error('Error when applying extension "'+t+'": mutation properties changed when applying a non-mutator extension.')},e.Extensions.checkHasFunction_=function(e,t,n){if(!t)throw Error(e+'missing required property "'+n+'"');if("function"!=typeof t)throw Error(e+'" required property "'+n+'" must be a function')},e.Extensions.checkNoMutatorProperties_=function(t,n){if(e.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+t+'" to a block that already has mutator functions.  Block id: '+n.id)},e.Extensions.checkMutatorDialog_=function(e,t){var n=void 0!==e.compose,o=void 0!==e.decompose;if(n&&o){if("function"!=typeof e.compose)throw Error(t+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(t+"decompose must be a function.");return!0}if(n||o)throw Error(t+'Must have both or neither of "compose" and "decompose"');return!1},e.Extensions.checkBlockHasMutatorProperties_=function(t,n){if("function"!=typeof n.domToMutation)throw Error(t+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(t+'Applying a mutator didn\'t add "mutationToDom"');e.Extensions.checkMutatorDialog_(n,t)},e.Extensions.getMutatorProperties_=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},e.Extensions.mutatorPropertiesMatch_=function(t,n){if(n=e.Extensions.getMutatorProperties_(n),n.length!=t.length)return!1;for(var o=0;o<n.length;o++)if(t[o]!=n[o])return!1;return!0},e.Extensions.buildTooltipForDropdown=function(t,n){var o=[];return"object"==("undefined"===typeof document?"undefined":s(document))&&e.utils.runAfterPageLoad(function(){for(var t in n)e.utils.checkMessageReferences(n[t])}),function(){this.type&&-1==o.indexOf(this.type)&&(e.Extensions.checkDropdownOptionsInTable_(this,t,n),o.push(this.type)),this.setTooltip(function(){var r=String(this.getFieldValue(t)),i=n[r];return null==i?-1==o.indexOf(this.type)&&(r="No tooltip mapping for value "+r+" of field "+t,null!=this.type&&(r+=" of block type "+this.type),console.warn(r+".")):i=e.utils.replaceMessageReferences(i),i}.bind(this))}},e.Extensions.checkDropdownOptionsInTable_=function(e,t,n){var o=e.getField(t);if(!o.isOptionListDynamic()){o=o.getOptions();for(var r=0;r<o.length;++r){var i=o[r][1];null==n[i]&&console.warn("No tooltip mapping for value "+i+" of field "+t+" of block type "+e.type)}}},e.Extensions.buildTooltipWithFieldText=function(t,n){return"object"==("undefined"===typeof document?"undefined":s(document))&&e.utils.runAfterPageLoad(function(){e.utils.checkMessageReferences(t)}),function(){this.setTooltip(function(){var o=this.getField(n);return e.utils.replaceMessageReferences(t).replace("%1",o?o.getText():"")}.bind(this))}},e.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},e.Extensions.register("parent_tooltip_when_inline",e.Extensions.extensionParentTooltip_),e.fieldRegistry={},e.fieldRegistry.register=function(t,n){e.registry.register(e.registry.Type.FIELD,t,n)},e.fieldRegistry.unregister=function(t){e.registry.unregister(e.registry.Type.FIELD,t)},e.fieldRegistry.fromJson=function(t){var n=e.registry.getObject(e.registry.Type.FIELD,t.type);return n?n.fromJson(t):(console.warn("Blockly could not create a field of type "+t.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},e.blockAnimations={},e.blockAnimations.disconnectPid_=0,e.blockAnimations.disconnectGroup_=null,e.blockAnimations.disposeUiEffect=function(t){var n=t.workspace,o=t.getSvgRoot();n.getAudioManager().play("delete"),t=n.getSvgXY(o),o=o.cloneNode(!0),o.translateX_=t.x,o.translateY_=t.y,o.setAttribute("transform","translate("+t.x+","+t.y+")"),n.getParentSvg().appendChild(o),o.bBox_=o.getBBox(),e.blockAnimations.disposeUiStep_(o,n.RTL,new Date,n.scale)},e.blockAnimations.disposeUiStep_=function(t,n,o,r){var i=(new Date-o)/150;1<i?e.utils.dom.removeNode(t):(t.setAttribute("transform","translate("+(t.translateX_+(n?-1:1)*t.bBox_.width*r/2*i)+","+(t.translateY_+t.bBox_.height*r*i)+") scale("+(1-i)*r+")"),setTimeout(e.blockAnimations.disposeUiStep_,10,t,n,o,r))},e.blockAnimations.connectionUiEffect=function(t){var n=t.workspace,o=n.scale;if(n.getAudioManager().play("click"),!(1>o)){var r=n.getSvgXY(t.getSvgRoot());t.outputConnection?(r.x+=(t.RTL?3:-3)*o,r.y+=13*o):t.previousConnection&&(r.x+=(t.RTL?-23:23)*o,r.y+=3*o),t=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{cx:r.x,cy:r.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),e.blockAnimations.connectionUiStep_(t,new Date,o)}},e.blockAnimations.connectionUiStep_=function(t,n,o){var r=(new Date-n)/150;1<r?e.utils.dom.removeNode(t):(t.setAttribute("r",25*r*o),t.style.opacity=1-r,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.connectionUiStep_,10,t,n,o))},e.blockAnimations.disconnectUiEffect=function(t){if(t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var n=t.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,t.RTL||(n*=-1),e.blockAnimations.disconnectUiStep_(t.getSvgRoot(),n,new Date)}},e.blockAnimations.disconnectUiStep_=function(t,n,o){var r=(new Date-o)/200;1<r?t.skew_="":(t.skew_="skewX("+Math.round(Math.sin(r*Math.PI*3)*(1-r)*n)+")",e.blockAnimations.disconnectGroup_=t,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.disconnectUiStep_,10,t,n,o)),t.setAttribute("transform",t.translate_+t.skew_)},e.blockAnimations.disconnectUiStop=function(){if(e.blockAnimations.disconnectGroup_){clearTimeout(e.blockAnimations.disconnectPid_);var t=e.blockAnimations.disconnectGroup_;t.skew_="",t.setAttribute("transform",t.translate_),e.blockAnimations.disconnectGroup_=null}},e.Events.BlockDrag=function(t,n,o){e.Events.BlockDrag.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.isStart=n,this.blocks=o},e.utils.object.inherits(e.Events.BlockDrag,e.Events.UiBase),e.Events.BlockDrag.prototype.type=e.Events.BLOCK_DRAG,e.Events.BlockDrag.prototype.toJson=function(){var t=e.Events.BlockDrag.superClass_.toJson.call(this);return t.isStart=this.isStart,t.blockId=this.blockId,t.blocks=this.blocks,t},e.Events.BlockDrag.prototype.fromJson=function(t){e.Events.BlockDrag.superClass_.fromJson.call(this,t),this.isStart=t.isStart,this.blockId=t.blockId,this.blocks=t.blocks},e.registry.register(e.registry.Type.EVENT,e.Events.BLOCK_DRAG,e.Events.BlockDrag),e.InsertionMarkerManager=function(t){this.topBlock_=e.selected=t,this.workspace_=t.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},e.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,e.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{e.Events.enable()}},e.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},e.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},e.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(e.Events.disable(),this.hidePreview_(),e.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var t=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;e.blockAnimations.connectionUiEffect(t.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},e.InsertionMarkerManager.prototype.update=function(t,n){var o=this.getCandidate_(t);((this.wouldDeleteBlock_=this.shouldDelete_(o,n))||this.shouldUpdatePreviews_(o,t))&&(e.Events.disable(),this.maybeHidePreview_(o),this.maybeShowPreview_(o),e.Events.enable())},e.InsertionMarkerManager.prototype.createMarkerBlock_=function(t){var n=t.type;e.Events.disable();try{var o=this.workspace_.newBlock(n);if(o.setInsertionMarker(!0),t.mutationToDom){var r=t.mutationToDom();r&&o.domToMutation(r)}for(n=0;n<t.inputList.length;n++){var i=t.inputList[n];if(i.name!=e.constants.COLLAPSED_INPUT_NAME){var s=o.inputList[n];for(r=0;r<i.fieldRow.length;r++)s.fieldRow[r].setValue(i.fieldRow[r].getValue())}}o.setCollapsed(t.isCollapsed()),o.setInputsInline(t.getInputsInline()),o.initSvg(),o.getSvgRoot().setAttribute("visibility","hidden")}finally{e.Events.enable()}return o},e.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var t=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack();if(n&&n!=this.topBlock_.nextConnection){if(t.push(n),this.lastOnStack_=n,this.lastMarker_){e.Events.disable();try{this.lastMarker_.dispose()}finally{e.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return t},e.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(t,n){var o=t.local,r=t.closest;return t=t.radius,o&&r?this.localConnection_&&this.closestConnection_?(this.closestConnection_!=r||this.localConnection_!=o)&&(o=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(o*o+n*n),!(r&&t>n-e.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},e.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var t=this.getStartRadius_(),n=null,o=null,r=0;r<this.availableConnections_.length;r++){var i=this.availableConnections_[r],s=i.closest(t,e);s.connection&&(n=s.connection,o=i,t=s.radius)}return{closest:n,local:o,radius:t}},e.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?e.CONNECTING_SNAP_RADIUS:e.SNAP_RADIUS},e.InsertionMarkerManager.prototype.shouldDelete_=function(t,n){return t=t&&!!t.closest&&n!=e.DELETE_AREA_TOOLBOX,!!n&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!t},e.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var t=e.closest;e=e.local,t&&(t==this.closestConnection_||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=t,this.localConnection_=e,this.showPreview_()))}},e.InsertionMarkerManager.prototype.showPreview_=function(){var t=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(t,this.localConnection_,this.topBlock_)){case e.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}t&&n.shouldHighlightConnection(t)&&t.highlight()},e.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var t=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(t||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},e.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},e.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,t=this.closestConnection_,n=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=n.getMatchingConnection(e.getSourceBlock(),e))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");n.render(),n.rendered=!0,n.getSvgRoot().setAttribute("visibility","visible"),e&&t&&n.positionNearConnection(e,t),t&&e.connect(t),this.markerConnection_=e},e.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,n=t.getSourceBlock(),o=n.nextConnection,r=n.previousConnection,i=n.outputConnection;if(i=t.type==e.connectionTypes.INPUT_VALUE&&!(i&&i.targetConnection),!(t!=o||r&&r.targetConnection)||i?t.targetBlock().unplug(!1):t.type==e.connectionTypes.NEXT_STATEMENT&&t!=o?(o=t.targetConnection,o.getSourceBlock().unplug(!1),r=r?r.targetConnection:null,n.unplug(!0),r&&r.connect(o)):n.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,n.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},e.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},e.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},e.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},e.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},e.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},e.BlockDragger=function(t,n){this.draggingBlock_=t,this.workspace_=n,this.draggedConnectionManager_=new e.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=e.BlockDragger.initIconData_(t)},e.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},e.BlockDragger.initIconData_=function(e){var t=[];e=e.getDescendants(!1);for(var n,o=0;n=e[o];o++){n=n.getIcons();for(var r=0;r<n.length;r++){var i={location:n[r].getIconLocation(),icon:n[r]};t.push(i)}}return t},e.BlockDragger.prototype.startBlockDrag=function(t,n){e.Events.getGroup()||e.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),e.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),e.blockAnimations.disconnectUiStop(),(this.draggingBlock_.getParent()||n&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())&&(this.draggingBlock_.unplug(n),t=this.pixelsToWorkspaceUnits_(t),t=e.utils.Coordinate.sum(this.startXY_,t),this.draggingBlock_.translate(t.x,t.y),e.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface(),(t=this.workspace_.getToolbox())&&"function"==typeof t.addStyle&&(n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",t.addStyle(n))},e.BlockDragger.prototype.fireDragStartEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));e.Events.fire(t)},e.BlockDragger.prototype.dragBlock=function(t,n){n=this.pixelsToWorkspaceUnits_(n);var o=e.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(o),this.dragIcons_(n),this.deleteArea_=this.workspace_.isDeleteArea(t),this.draggedConnectionManager_.update(n,this.deleteArea_),this.updateCursorDuringBlockDrag_()},e.BlockDragger.prototype.endBlockDrag=function(t,n){this.dragBlock(t,n),this.dragIconData_=[],this.fireDragEndEvent_(),e.utils.dom.stopTextWidthCache(),e.blockAnimations.disconnectUiStop(),t=this.pixelsToWorkspaceUnits_(n),n=e.utils.Coordinate.sum(this.startXY_,t),this.draggingBlock_.moveOffDragSurface(n),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections(t.x,t.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(t=this.workspace_.getToolbox())&&"function"==typeof t.removeStyle&&(n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",t.removeStyle(n)),e.Events.setGroup(!1)},e.BlockDragger.prototype.fireDragEndEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));e.Events.fire(t)},e.BlockDragger.prototype.fireMoveEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_MOVE))(this.draggingBlock_);t.oldCoordinate=this.startXY_,t.recordNew(),e.Events.fire(t)},e.BlockDragger.prototype.maybeDeleteBlock_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBlock_?(t&&setTimeout(t.closeLid.bind(t),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),e.draggingConnections=[]):t&&t.closeLid(),this.wouldDeleteBlock_},e.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var t=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==e.DELETE_AREA_TRASH&&t&&t.setLidOpen(!0)):(this.draggingBlock_.setDeleteStyle(!1),t&&t.setLidOpen(!1))},e.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BlockDragger.prototype.dragIcons_=function(t){for(var n=0;n<this.dragIconData_.length;n++){var o=this.dragIconData_[n];o.icon.setIconLocation(e.utils.Coordinate.sum(o.location,t))}},e.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},e.IConnectionChecker=function(){},e.ConnectionChecker=function(){},e.ConnectionChecker.prototype.canConnect=function(t,n,o,r){return this.canConnectWithReason(t,n,o,r)==e.Connection.CAN_CONNECT},e.ConnectionChecker.prototype.canConnectWithReason=function(t,n,o,r){var i=this.doSafetyChecks(t,n);return i!=e.Connection.CAN_CONNECT?i:this.doTypeChecks(t,n)?o&&!this.doDragChecks(t,n,r||0)?e.Connection.REASON_DRAG_CHECKS_FAILED:e.Connection.CAN_CONNECT:e.Connection.REASON_CHECKS_FAILED},e.ConnectionChecker.prototype.getErrorMessage=function(t,n,o){switch(t){case e.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case e.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case e.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case e.Connection.REASON_TARGET_NULL:return"Target connection is null.";case e.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+o.getCheck();case e.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case e.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},e.ConnectionChecker.prototype.doSafetyChecks=function(t,n){if(!t||!n)return e.Connection.REASON_TARGET_NULL;if(t.isSuperior())var o=t.getSourceBlock(),r=n.getSourceBlock();else r=t.getSourceBlock(),o=n.getSourceBlock();return o==r?e.Connection.REASON_SELF_CONNECTION:n.type!=e.OPPOSITE_TYPE[t.type]?e.Connection.REASON_WRONG_TYPE:o.workspace!==r.workspace?e.Connection.REASON_DIFFERENT_WORKSPACES:o.isShadow()&&!r.isShadow()?e.Connection.REASON_SHADOW_PARENT:e.Connection.CAN_CONNECT},e.ConnectionChecker.prototype.doTypeChecks=function(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(var n=0;n<e.length;n++)if(-1!=t.indexOf(e[n]))return!0;return!1},e.ConnectionChecker.prototype.doDragChecks=function(t,n,o){if(t.distanceFrom(n)>o||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case e.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t,n);case e.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||t.isConnected())return!1;break;case e.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case e.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!t.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==e.draggingConnections.indexOf(n)},e.ConnectionChecker.prototype.canConnectToPrevious_=function(t,n){return!t.targetConnection&&-1==e.draggingConnections.indexOf(n)&&(!n.targetConnection||(t=n.targetBlock(),!!t.isInsertionMarker()&&!t.getPreviousBlock()))},e.registry.register(e.registry.Type.CONNECTION_CHECKER,e.registry.DEFAULT,e.ConnectionChecker),e.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},e.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},e.VariableMap.prototype.renameVariable=function(t,n){var o=this.getVariable(n,t.type),r=this.workspace.getAllBlocks(!1);e.Events.setGroup(!0);try{o&&o.getId()!=t.getId()?this.renameVariableWithConflict_(t,n,o,r):this.renameVariableAndUses_(t,n,r)}finally{e.Events.setGroup(!1)}},e.VariableMap.prototype.renameVariableById=function(e,t){var n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)},e.VariableMap.prototype.renameVariableAndUses_=function(t,n,o){for(e.Events.fire(new(e.Events.get(e.Events.VAR_RENAME))(t,n)),t.name=n,n=0;n<o.length;n++)o[n].updateVarName(t)},e.VariableMap.prototype.renameVariableWithConflict_=function(t,n,o,r){var i=t.type;for(n!=o.name&&this.renameVariableAndUses_(o,n,r),n=0;n<r.length;n++)r[n].renameVarById(t.getId(),o.getId());e.Events.fire(new(e.Events.get(e.Events.VAR_DELETE))(t)),t=this.getVariablesOfType(i).indexOf(t),this.variableMap_[i].splice(t,1)},e.VariableMap.prototype.createVariable=function(t,n,o){var r=this.getVariable(t,n);if(r){if(o&&r.getId()!=o)throw Error('Variable "'+t+'" is already in use and its id is "'+r.getId()+'" which conflicts with the passed in id, "'+o+'".');return r}if(o&&this.getVariableById(o))throw Error('Variable id, "'+o+'", is already in use.');return r=o||e.utils.genUid(),n=n||"",r=new e.VariableModel(this.workspace,t,n,r),t=this.variableMap_[n]||[],t.push(r),delete this.variableMap_[n],this.variableMap_[n]=t,r},e.VariableMap.prototype.deleteVariable=function(t){for(var n,o=this.variableMap_[t.type],r=0;n=o[r];r++)if(n.getId()==t.getId()){o.splice(r,1),e.Events.fire(new(e.Events.get(e.Events.VAR_DELETE))(t));break}},e.VariableMap.prototype.deleteVariableById=function(t){var n=this.getVariableById(t);if(n){var o=n.name,r=this.getVariableUsesById(t);t=0;for(var i;i=r[t];t++)if("procedures_defnoreturn"==i.type||"procedures_defreturn"==i.type)return t=i.getFieldValue("NAME"),o=e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",t),void e.alert(o);var s=this;1<r.length?(o=e.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",o),e.confirm(o,function(e){e&&n&&s.deleteVariableInternal(n,r)})):s.deleteVariableInternal(n,r)}else console.warn("Can't delete non-existent variable: "+t)},e.VariableMap.prototype.deleteVariableInternal=function(t,n){var o=e.Events.getGroup();o||e.Events.setGroup(!0);try{for(var r=0;r<n.length;r++)n[r].dispose(!0);this.deleteVariable(t)}finally{o||e.Events.setGroup(!1)}},e.VariableMap.prototype.getVariable=function(t,n){if(n=this.variableMap_[n||""])for(var o,r=0;o=n[r];r++)if(e.Names.equals(o.name,t))return o;return null},e.VariableMap.prototype.getVariableById=function(e){for(var t=Object.keys(this.variableMap_),n=0;n<t.length;n++)for(var o,r=t[n],i=0;o=this.variableMap_[r][i];i++)if(o.getId()==e)return o;return null},e.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},e.VariableMap.prototype.getVariableTypes=function(t){var n={};e.utils.object.mixin(n,this.variableMap_),t&&t.getPotentialVariableMap()&&e.utils.object.mixin(n,t.getPotentialVariableMap().variableMap_),t=Object.keys(n),n=!1;for(var o=0;o<t.length;o++)""==t[o]&&(n=!0);return n||t.push(""),t},e.VariableMap.prototype.getAllVariables=function(){var e,t=[];for(e in this.variableMap_)t=t.concat(this.variableMap_[e]);return t},e.VariableMap.prototype.getAllVariableNames=function(){var e,t=[];for(e in this.variableMap_)for(var n,o=this.variableMap_[e],r=0;n=o[r];r++)t.push(n.name);return t},e.VariableMap.prototype.getVariableUsesById=function(e){for(var t=[],n=this.workspace.getAllBlocks(!1),o=0;o<n.length;o++){var r=n[o].getVarModels();if(r)for(var i=0;i<r.length;i++)r[i].getId()==e&&t.push(n[o])}return t},e.Workspace=function(t){this.id=e.utils.genUid(),e.Workspace.WorkspaceDB_[this.id]=this,this.options=t||new e.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(e.registry.getClassFromOptions(e.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new e.VariableMap(this),this.potentialVariableMap_=null},e.Workspace.prototype.rendered=!1,e.Workspace.prototype.isClearing=!1,e.Workspace.prototype.MAX_UNDO=1024,e.Workspace.prototype.connectionDBList=null,e.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete e.Workspace.WorkspaceDB_[this.id]},e.Workspace.SCAN_ANGLE=3,e.Workspace.prototype.sortObjects_=function(t,n){return t=t.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),t.y+e.Workspace.prototype.sortObjects_.offset*t.x-(n.y+e.Workspace.prototype.sortObjects_.offset*n.x)},e.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},e.Workspace.prototype.removeTopBlock=function(t){if(!e.utils.arrayRemove(this.topBlocks_,t))throw Error("Block not present in workspace's list of top-most blocks.")},e.Workspace.prototype.getTopBlocks=function(t){var n=[].concat(this.topBlocks_);return t&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},e.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},e.Workspace.prototype.getBlocksByType=function(t,n){return this.typedBlocksDB_[t]?(t=this.typedBlocksDB_[t].slice(0),n&&1<t.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t):[]},e.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},e.Workspace.prototype.removeTopComment=function(t){if(!e.utils.arrayRemove(this.topComments_,t))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[t.id]},e.Workspace.prototype.getTopComments=function(t){var n=[].concat(this.topComments_);return t&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n].getDescendants(!0))}else for(t=this.getTopBlocks(!1),n=0;n<t.length;n++)t.push.apply(t,t[n].getChildren(!1));return t.filter(function(e){return!e.isInsertionMarker()})},e.Workspace.prototype.clear=function(){this.isClearing=!0;try{var t=e.Events.getGroup();for(t||e.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);t||e.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},e.Workspace.prototype.renameVariableById=function(e,t){this.variableMap_.renameVariableById(e,t)},e.Workspace.prototype.createVariable=function(e,t,n){return this.variableMap_.createVariable(e,t,n)},e.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},e.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},e.Workspace.prototype.getVariable=function(e,t){return this.variableMap_.getVariable(e,t)},e.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},e.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},e.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},e.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},e.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},e.Workspace.prototype.getWidth=function(){return 0},e.Workspace.prototype.newBlock=function(t,n){return new e.Block(this,t,n)},e.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},e.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0};return e.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var t,n=0;for(t in e){if(e[t]>this.remainingCapacityOfType(t))return!1;n+=e[t]}return!(n>this.remainingCapacity())},e.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},e.Workspace.prototype.getUndoStack=function(){return this.undoStack_},e.Workspace.prototype.getRedoStack=function(){return this.redoStack_},e.Workspace.prototype.undo=function(t){var n=t?this.redoStack_:this.undoStack_,o=t?this.undoStack_:this.redoStack_,r=n.pop();if(r){for(var i=[r];n.length&&r.group&&r.group==n[n.length-1].group;)i.push(n.pop());for(n=0;r=i[n];n++)o.push(r);i=e.Events.filter(i,t),e.Events.recordUndo=!1;try{for(n=0;r=i[n];n++)r.run(t)}finally{e.Events.recordUndo=!0}}},e.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,e.Events.clearPendingUndo()},e.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},e.Workspace.prototype.removeChangeListener=function(t){e.utils.arrayRemove(this.listeners_,t)},e.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t,n=0;t=this.listeners_[n];n++)t(e)},e.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},e.Workspace.prototype.setBlockById=function(e,t){this.blockDB_[e]=t},e.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},e.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},e.Workspace.prototype.allInputsFilled=function(e){for(var t,n=this.getTopBlocks(!1),o=0;t=n[o];o++)if(!t.allInputsFilled(e))return!1;return!0},e.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},e.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new e.VariableMap(this)},e.Workspace.prototype.getVariableMap=function(){return this.variableMap_},e.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},e.Workspace.WorkspaceDB_=Object.create(null),e.Workspace.getById=function(t){return e.Workspace.WorkspaceDB_[t]||null},e.Workspace.getAll=function(){var t,n=[];for(t in e.Workspace.WorkspaceDB_)n.push(e.Workspace.WorkspaceDB_[t]);return n},e.Bubble=function(t,n,o,r,i,s){this.workspace_=t,this.content_=n,this.shape_=o,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,o=e.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(o=-o),this.arrow_radians_=e.utils.math.toRadians(o),t.getBubbleCanvas().appendChild(this.createDom_(n,!(!i||!s))),this.setAnchorLocation(r),i&&s||(t=this.content_.getBBox(),i=t.width+2*e.Bubble.BORDER_WIDTH,s=t.height+2*e.Bubble.BORDER_WIDTH),this.setBubbleSize(i,s),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},e.Bubble.BORDER_WIDTH=6,e.Bubble.ARROW_THICKNESS=5,e.Bubble.ARROW_ANGLE=20,e.Bubble.ARROW_BEND=4,e.Bubble.ANCHOR_RADIUS=8,e.Bubble.onMouseUpWrapper_=null,e.Bubble.onMouseMoveWrapper_=null,e.Bubble.unbindDragEvents_=function(){e.Bubble.onMouseUpWrapper_&&(e.browserEvents.unbind(e.Bubble.onMouseUpWrapper_),e.Bubble.onMouseUpWrapper_=null),e.Bubble.onMouseMoveWrapper_&&(e.browserEvents.unbind(e.Bubble.onMouseMoveWrapper_),e.Bubble.onMouseMoveWrapper_=null)},e.Bubble.bubbleMouseUp_=function(t){e.Touch.clearTouchIdentifier(),e.Bubble.unbindDragEvents_()},e.Bubble.prototype.rendered_=!1,e.Bubble.prototype.anchorXY_=null,e.Bubble.prototype.relativeLeft_=0,e.Bubble.prototype.relativeTop_=0,e.Bubble.prototype.width_=0,e.Bubble.prototype.height_=0,e.Bubble.prototype.autoLayout_=!0,e.Bubble.prototype.createDom_=function(t,n){this.bubbleGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null);var o={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return e.utils.userAgent.JAVA_FX&&(o={}),o=e.utils.dom.createSvgElement(e.utils.Svg.G,o,this.bubbleGroup_),this.bubbleArrow_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{},o),this.bubbleBack_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:e.Bubble.BORDER_WIDTH,ry:e.Bubble.BORDER_WIDTH},o),n?(this.resizeGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),n=2*e.Bubble.BORDER_WIDTH,e.utils.dom.createSvgElement(e.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,n.toString())},this.resizeGroup_),e.utils.dom.createSvgElement(e.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),e.utils.dom.createSvgElement(e.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=e.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=e.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(t),this.bubbleGroup_},e.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},e.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},e.Bubble.prototype.bubbleMouseDown_=function(e){var t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)},e.Bubble.prototype.showContextMenu=function(e){},e.Bubble.prototype.isDeletable=function(){return!1},e.Bubble.prototype.setDeleteStyle=function(e){},e.Bubble.prototype.resizeMouseDown_=function(t){this.promote(),e.Bubble.unbindDragEvents_(),e.utils.isRightButton(t)||(this.workspace_.startDrag(t,new e.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),e.Bubble.onMouseUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",this,e.Bubble.bubbleMouseUp_),e.Bubble.onMouseMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),e.hideChaff()),t.stopPropagation()},e.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},e.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},e.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},e.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},e.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},e.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft_(e),n=this.getOptimalRelativeTop_(e),o=this.shape_.getBBox(),r={x:t,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},i={x:-this.width_-30,y:n};n={x:o.width,y:n};var s={x:t,y:o.height};t=o.width<o.height?n:s,o=o.width<o.height?s:n,n=this.getOverlap_(r,e),s=this.getOverlap_(i,e);var a=this.getOverlap_(t,e);e=this.getOverlap_(o,e),e=Math.max(n,s,a,e),n==e?(this.relativeLeft_=r.x,this.relativeTop_=r.y):s==e?(this.relativeLeft_=i.x,this.relativeTop_=i.y):a==e?(this.relativeLeft_=t.x,this.relativeTop_=t.y):(this.relativeLeft_=o.x,this.relativeTop_=o.y)},e.Bubble.prototype.getOverlap_=function(e,t){var n=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(n+this.width_,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.height_,t.top+t.height)-Math.max(e,t.top))/(this.width_*this.height_)))},e.Bubble.prototype.getOptimalRelativeLeft_=function(t){var n=-this.width_/4;if(this.width_>t.width)return n;if(this.workspace_.RTL)var o=this.anchorXY_.x-n,r=o-this.width_,i=t.left+t.width,s=t.left+e.Scrollbar.scrollbarThickness/this.workspace_.scale;else r=n+this.anchorXY_.x,o=r+this.width_,s=t.left,i=t.left+t.width-e.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?r<s?n=-(s-this.anchorXY_.x+this.width_):o>i&&(n=-(i-this.anchorXY_.x)):r<s?n=s-this.anchorXY_.x:o>i&&(n=i-this.anchorXY_.x-this.width_),n},e.Bubble.prototype.getOptimalRelativeTop_=function(t){var n=-this.height_/4;if(this.height_>t.height)return n;var o=this.anchorXY_.y+n,r=o+this.height_,i=t.top;t=t.top+t.height-e.Scrollbar.scrollbarThickness/this.workspace_.scale;var s=this.anchorXY_.y;return o<i?n=i-s:r>t&&(n=t-s-this.height_),n},e.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},e.Bubble.prototype.moveTo=function(e,t){this.bubbleGroup_.setAttribute("transform","translate("+e+","+t+")")},e.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},e.Bubble.prototype.getBubbleSize=function(){return new e.utils.Size(this.width_,this.height_)},e.Bubble.prototype.setBubbleSize=function(t,n){var o=2*e.Bubble.BORDER_WIDTH;t=Math.max(t,o+45),n=Math.max(n,o+20),this.width_=t,this.height_=n,this.bubbleBack_.setAttribute("width",t),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*e.Bubble.BORDER_WIDTH+","+(n-o)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(t-o)+","+(n-o)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},e.Bubble.prototype.renderArrow_=function(){var t=[],n=this.width_/2,o=this.height_/2,r=-this.relativeLeft_,i=-this.relativeTop_;if(n==r&&o==i)t.push("M "+n+","+o);else{i-=o,r-=n,this.workspace_.RTL&&(r*=-1);var s=Math.sqrt(i*i+r*r),a=Math.acos(r/s);0>i&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),p=this.getBubbleSize();l=(p.width+p.height)/e.Bubble.ARROW_THICKNESS,l=Math.min(l,p.width,p.height)/4,p=1-e.Bubble.ANCHOR_RADIUS/s,r=n+p*r,i=o+p*i,p=n+l*u;var h=o+l*c;n-=l*u,o-=l*c,c=a+this.arrow_radians_,c>2*Math.PI&&(c-=2*Math.PI),a=Math.sin(c)*s/e.Bubble.ARROW_BEND,s=Math.cos(c)*s/e.Bubble.ARROW_BEND,t.push("M"+p+","+h),t.push("C"+(p+s)+","+(h+a)+" "+r+","+i+" "+r+","+i),t.push("C"+r+","+i+" "+(n+s)+","+(o+a)+" "+n+","+o)}t.push("z"),this.bubbleArrow_.setAttribute("d",t.join(" "))},e.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},e.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&e.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&e.browserEvents.unbind(this.onMouseDownResizeWrapper_),e.Bubble.unbindDragEvents_(),e.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},e.Bubble.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x-this.anchorXY_.x,this.relativeTop_=t.y-this.anchorXY_.y,this.renderArrow_()},e.Bubble.prototype.getRelativeToSurfaceXY=function(){return new e.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},e.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},e.Bubble.textToDom=function(t){var n=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:e.Bubble.BORDER_WIDTH},null);t=t.split("\n");for(var o=0;o<t.length;o++){var r=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{dy:"1em",x:e.Bubble.BORDER_WIDTH},n),i=document.createTextNode(t[o]);r.appendChild(i)}return n},e.Bubble.createNonEditableBubble=function(t,n,o){if(o=new e.Bubble(n.workspace,t,n.pathObject.svgPath,o,null,null),o.setSvgId(n.id),n.RTL){n=t.getBBox().width;for(var r,i=0;r=t.childNodes[i];i++)r.setAttribute("text-anchor","end"),r.setAttribute("x",n+e.Bubble.BORDER_WIDTH)}return o},e.Events.CommentBase=function(t){this.commentId=(this.isBlank="undefined"==typeof t)?"":t.id,this.workspaceId=this.isBlank?"":t.workspace.id,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.utils.object.inherits(e.Events.CommentBase,e.Events.Abstract),e.Events.CommentBase.prototype.toJson=function(){var t=e.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(t.commentId=this.commentId),t},e.Events.CommentBase.prototype.fromJson=function(t){e.Events.CommentBase.superClass_.fromJson.call(this,t),this.commentId=t.commentId},e.Events.CommentChange=function(t,n,o){e.Events.CommentChange.superClass_.constructor.call(this,t),t&&(this.oldContents_="undefined"==typeof n?"":n,this.newContents_="undefined"==typeof o?"":o)},e.utils.object.inherits(e.Events.CommentChange,e.Events.CommentBase),e.Events.CommentChange.prototype.type=e.Events.COMMENT_CHANGE,e.Events.CommentChange.prototype.toJson=function(){var t=e.Events.CommentChange.superClass_.toJson.call(this);return t.oldContents=this.oldContents_,t.newContents=this.newContents_,t},e.Events.CommentChange.prototype.fromJson=function(t){e.Events.CommentChange.superClass_.fromJson.call(this,t),this.oldContents_=t.oldContents,this.newContents_=t.newContents},e.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},e.Events.CommentChange.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);t?t.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},e.Events.CommentCreate=function(t){e.Events.CommentCreate.superClass_.constructor.call(this,t),t&&(this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentCreate,e.Events.CommentBase),e.Events.CommentCreate.prototype.type=e.Events.COMMENT_CREATE,e.Events.CommentCreate.prototype.toJson=function(){var t=e.Events.CommentCreate.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t},e.Events.CommentCreate.prototype.fromJson=function(t){e.Events.CommentCreate.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml)},e.Events.CommentCreate.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,t)},e.Events.CommentCreateDeleteHelper=function(t,n){var o=t.getEventWorkspace_();n?(n=e.utils.xml.createElement("xml"),n.appendChild(t.xml),e.Xml.domToWorkspace(n,o)):(o=o.getCommentById(t.commentId))?o.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+t.commentId)},e.Events.CommentDelete=function(t){e.Events.CommentDelete.superClass_.constructor.call(this,t),t&&(this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentDelete,e.Events.CommentBase),e.Events.CommentDelete.prototype.type=e.Events.COMMENT_DELETE,e.Events.CommentDelete.prototype.toJson=function(){return e.Events.CommentDelete.superClass_.toJson.call(this)},e.Events.CommentDelete.prototype.fromJson=function(t){e.Events.CommentDelete.superClass_.fromJson.call(this,t)},e.Events.CommentDelete.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,!t)},e.Events.CommentMove=function(t){e.Events.CommentMove.superClass_.constructor.call(this,t),t&&(this.comment_=t,this.oldCoordinate_=t.getXY(),this.newCoordinate_=null)},e.utils.object.inherits(e.Events.CommentMove,e.Events.CommentBase),e.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},e.Events.CommentMove.prototype.type=e.Events.COMMENT_MOVE,e.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},e.Events.CommentMove.prototype.toJson=function(){var t=e.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(t.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(t.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),t},e.Events.CommentMove.prototype.fromJson=function(t){if(e.Events.CommentMove.superClass_.fromJson.call(this,t),t.oldCoordinate){var n=t.oldCoordinate.split(",");this.oldCoordinate_=new e.utils.Coordinate(Number(n[0]),Number(n[1]))}t.newCoordinate&&(n=t.newCoordinate.split(","),this.newCoordinate_=new e.utils.Coordinate(Number(n[0]),Number(n[1])))},e.Events.CommentMove.prototype.isNull=function(){return e.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},e.Events.CommentMove.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);if(t){e=e?this.newCoordinate_:this.oldCoordinate_;var n=t.getXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_CREATE,e.Events.CommentCreate),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_CHANGE,e.Events.CommentChange),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_MOVE,e.Events.CommentMove),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_DELETE,e.Events.CommentDelete),e.BubbleDragger=function(t,n){this.draggingBubble_=t,this.workspace_=n,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=e.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},e.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},e.BubbleDragger.prototype.startBubbleDrag=function(){e.Events.getGroup()||e.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var t=this.workspace_.getToolbox();if(t&&"function"==typeof t.addStyle){var n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";t.addStyle(n)}},e.BubbleDragger.prototype.dragBubble=function(t,n){n=this.pixelsToWorkspaceUnits_(n),n=e.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(t),this.updateCursorDuringBubbleDrag_())},e.BubbleDragger.prototype.maybeDeleteBubble_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBubble_?(e&&setTimeout(e.closeLid.bind(e),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):e&&e.closeLid(),this.wouldDeleteBubble_},e.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=e.DELETE_AREA_NONE;var t=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==e.DELETE_AREA_TRASH&&t&&t.setLidOpen(!0)):(this.draggingBubble_.setDeleteStyle(!1),t&&t.setLidOpen(!1))},e.BubbleDragger.prototype.endBubbleDrag=function(t,n){this.dragBubble(t,n),t=this.pixelsToWorkspaceUnits_(n),t=e.utils.Coordinate.sum(this.startXY_,t),this.draggingBubble_.moveTo(t.x,t.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(t=this.workspace_.getToolbox())&&"function"==typeof t.removeStyle&&(n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",t.removeStyle(n)),e.Events.setGroup(!1)},e.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var t=new(e.Events.get(e.Events.COMMENT_MOVE))(this.draggingBubble_);t.setOldCoordinate(this.startXY_),t.recordNew(),e.Events.fire(t)}},e.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},e.Events.Click=function(t,n,o){e.Events.Click.superClass_.constructor.call(this,t?t.workspace.id:n),this.blockId=t?t.id:null,this.targetType=o},e.utils.object.inherits(e.Events.Click,e.Events.UiBase),e.Events.Click.prototype.type=e.Events.CLICK,e.Events.Click.prototype.toJson=function(){var t=e.Events.Click.superClass_.toJson.call(this);return t.targetType=this.targetType,this.blockId&&(t.blockId=this.blockId),t},e.Events.Click.prototype.fromJson=function(t){e.Events.Click.superClass_.fromJson.call(this,t),this.targetType=t.targetType,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.CLICK,e.Events.Click),e.WorkspaceDragger=function(t){this.workspace_=t,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new e.utils.Coordinate(t.scrollX,t.scrollY)},e.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},e.WorkspaceDragger.prototype.startDrag=function(){e.selected&&e.selected.unselect(),this.workspace_.setupDragSurface()},e.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},e.WorkspaceDragger.prototype.drag=function(t){if(t=e.utils.Coordinate.sum(this.startScrollXY_,t),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(t.x,t.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(t.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,t.y)}},e.Gesture=function(t,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new e.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=t,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!e.DRAG_STACK},e.Gesture.prototype.dispose=function(){e.Touch.clearTouchIdentifier(),e.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&e.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&e.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},e.Gesture.prototype.updateFromEvent_=function(t){var n=new e.utils.Coordinate(t.clientX,t.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),e.longStop_()),this.mostRecentEvent_=t},e.Gesture.prototype.updateDragDelta_=function(t){return this.currentDragDeltaXY_=e.utils.Coordinate.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=e.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.FLYOUT_DRAG_RADIUS:e.DRAG_RADIUS))},e.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_))&&(!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),e.Events.getGroup()||e.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0))},e.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},e.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},e.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new e.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},e.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},e.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new e.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new e.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.doStart=function(t){e.utils.isTargetInput(t)?this.cancel():(this.hasStarted_=!0,e.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),e.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=t,e.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),e.utils.isRightButton(t)?this.handleRightClick(t):("touchstart"!=t.type.toLowerCase()&&"pointerdown"!=t.type.toLowerCase()||"mouse"==t.pointerType||e.longStart(t,this),this.mouseDownXY_=new e.utils.Coordinate(t.clientX,t.clientY),this.healStack_=t.altKey||t.ctrlKey||t.metaKey,this.bindMouseEvents(t)))},e.Gesture.prototype.bindMouseEvents=function(t){this.onMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),t.preventDefault(),t.stopPropagation()},e.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},e.Gesture.prototype.handleUp=function(t){this.updateFromEvent_(t),e.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(t,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(t,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(t),t.preventDefault(),t.stopPropagation(),this.dispose())},e.Gesture.prototype.cancel=function(){this.isEnding_||(e.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},e.Gesture.prototype.handleRightClick=function(t){this.targetBlock_?(this.bringBlockToFront_(),e.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(t)):this.startBubble_?this.startBubble_.showContextMenu(t):this.startWorkspace_&&!this.flyout_&&(e.hideChaff(),this.startWorkspace_.showContextMenu(t)),t.preventDefault(),t.stopPropagation(),this.dispose()},e.Gesture.prototype.handleWsStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)},e.Gesture.prototype.fireWorkspaceClick_=function(t){e.Events.fire(new(e.Events.get(e.Events.CLICK))(null,t.id,"workspace"))},e.Gesture.prototype.handleFlyoutStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())},e.Gesture.prototype.handleBlockStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e},e.Gesture.prototype.handleBubbleStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e},e.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},e.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},e.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(e.Events.getGroup()||e.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var t=new(e.Events.get(e.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");e.Events.fire(t)}this.bringBlockToFront_(),e.Events.setGroup(!1)},e.Gesture.prototype.doWorkspaceClick_=function(t){t=this.creatorWorkspace_,e.selected&&e.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||t)},e.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},e.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},e.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},e.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},e.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},e.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},e.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},e.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},e.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},e.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},e.Gesture.prototype.hasStarted=function(){return this.hasStarted_},e.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},e.Gesture.inProgress=function(){for(var t,n=e.Workspace.getAll(),o=0;t=n[o];o++)if(t.currentGesture_)return!0;return!1},e.Field=function(t,n,o){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new e.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,o&&this.configure_(o),this.setValue(t),n&&this.setValidator(n)},e.Field.prototype.DEFAULT_VALUE=null,e.Field.prototype.name=void 0,e.Field.prototype.disposed=!1,e.Field.prototype.maxDisplayLength=50,e.Field.prototype.sourceBlock_=null,e.Field.prototype.isDirty_=!0,e.Field.prototype.visible_=!0,e.Field.prototype.clickTarget_=null,e.Field.NBSP="\xa0",e.Field.prototype.EDITABLE=!0,e.Field.prototype.SERIALIZABLE=!1,e.Field.prototype.configure_=function(t){var n=t.tooltip;"string"==typeof n&&(n=e.utils.replaceMessageReferences(t.tooltip)),n&&this.setTooltip(n)},e.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},e.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},e.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},e.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},e.Field.prototype.initModel=function(){},e.Field.prototype.createBorderRect_=function(){this.borderRect_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},e.Field.prototype.createTextElement_=function(){this.textElement_=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},e.Field.prototype.bindEvents_=function(){e.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=e.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},e.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},e.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},e.Field.prototype.dispose=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hideIfOwner(this),e.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&e.browserEvents.unbind(this.mouseDownWrapper_),e.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},e.Field.prototype.updateEditable=function(){var t=this.fieldGroup_;this.EDITABLE&&t&&(this.sourceBlock_.isEditable()?(e.utils.dom.addClass(t,"blocklyEditableText"),e.utils.dom.removeClass(t,"blocklyNonEditableText"),t.style.cursor=this.CURSOR):(e.utils.dom.addClass(t,"blocklyNonEditableText"),e.utils.dom.removeClass(t,"blocklyEditableText"),t.style.cursor=""))},e.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},e.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},e.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},e.Field.prototype.isVisible=function(){return this.visible_},e.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none")}},e.Field.prototype.setValidator=function(e){this.validator_=e},e.Field.prototype.getValidator=function(){return this.validator_},e.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},e.Field.prototype.applyColour=function(){},e.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},e.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},e.Field.prototype.updateSize_=function(t){var n=this.getConstants();t=void 0!=t?t:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var o=2*t,r=n.FIELD_TEXT_HEIGHT,i=0;this.textElement_&&(i=e.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY),o+=i),this.borderRect_&&(r=Math.max(r,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=r,this.size_.width=o,this.positionTextElement_(t,i),this.positionBorderRect_()},e.Field.prototype.positionTextElement_=function(e,t){if(this.textElement_){var n=this.getConstants(),o=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-t-e:e),this.textElement_.setAttribute("y",n.FIELD_TEXT_BASELINE_CENTER?o:o-n.FIELD_TEXT_HEIGHT/2+n.FIELD_TEXT_BASELINE)}},e.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},e.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new e.utils.Size(0,0)},e.Field.prototype.getScaledBBox=function(){if(this.borderRect_)t=this.borderRect_.getBoundingClientRect(),o=e.utils.style.getPageOffset(this.borderRect_),r=t.width,t=t.height;else{var t=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,o=this.getAbsoluteXY_(),r=t.width*n;t=t.height*n,e.utils.userAgent.GECKO?(o.x+=1.5*n,o.y+=1.5*n):e.utils.userAgent.EDGE||e.utils.userAgent.IE||(o.x-=.5*n,o.y-=.5*n),r+=1*n,t+=1*n}return new e.utils.Rect(o.y,o.y+t,o.x,o.x+r)},e.Field.prototype.getDisplayText_=function(){var t=this.getText();return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+"\u2026"),t=t.replace(/\s/g,e.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(t+="\u200f"),t):e.Field.NBSP},e.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},e.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},e.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},e.Field.prototype.setValue=function(t){if(null!==t){var n=this.doClassValidation_(t);if(!((t=this.processValidation_(t,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,t),(t=this.processValidation_(t,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var o=this.getValue();o===t?this.doValueUpdate_(t):(n&&e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"field",this.name||null,o,t)),this.doValueUpdate_(t),this.isDirty_&&this.forceRerender())}}}},e.Field.prototype.processValidation_=function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)},e.Field.prototype.getValue=function(){return this.value_},e.Field.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e},e.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},e.Field.prototype.doValueInvalid_=function(e){},e.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},e.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e},e.Field.prototype.getTooltip=function(){var t=this.getClickTarget_();return t?e.Tooltip.getTooltipOfObject(t):e.Tooltip.getTooltipOfObject({tooltip:this.tooltip_})},e.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},e.Field.prototype.getAbsoluteXY_=function(){return e.utils.style.getPageOffset(this.getClickTarget_())},e.Field.prototype.referencesVariables=function(){return!1},e.Field.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,n=t.inputList,o=0;o<t.inputList.length;o++)for(var r=n[o],i=r.fieldRow,s=0;s<i.length;s++)if(i[s]===this){e=r;break}return e},e.Field.prototype.getFlipRtl=function(){return!1},e.Field.prototype.isTabNavigable=function(){return!1},e.Field.prototype.onShortcut=function(e){return!1},e.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},e.Field.prototype.updateMarkers_=function(){var t=this.sourceBlock_.workspace;t.keyboardAccessibilityMode&&this.cursorSvg_&&t.getCursor().draw(),t.keyboardAccessibilityMode&&this.markerSvg_&&t.getMarker(e.MarkerManager.LOCAL_MARKER).draw()},e.FieldLabel=function(t,n,o){this.class_=null,e.FieldLabel.superClass_.constructor.call(this,t,null,o),o||(this.class_=n||null)},e.utils.object.inherits(e.FieldLabel,e.Field),e.FieldLabel.prototype.DEFAULT_VALUE="",e.FieldLabel.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldLabel(n,void 0,t)},e.FieldLabel.prototype.EDITABLE=!1,e.FieldLabel.prototype.configure_=function(t){e.FieldLabel.superClass_.configure_.call(this,t),this.class_=t.class},e.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&e.utils.dom.addClass(this.textElement_,this.class_)},e.FieldLabel.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldLabel.prototype.setClass=function(t){this.textElement_&&(this.class_&&e.utils.dom.removeClass(this.textElement_,this.class_),t&&e.utils.dom.addClass(this.textElement_,t)),this.class_=t},e.fieldRegistry.register("field_label",e.FieldLabel),e.Input=function(t,n,o,r){if(t!=e.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=t,this.name=n,this.sourceBlock_=o,this.connection=r,this.fieldRow=[]},e.Input.prototype.align=e.constants.ALIGN.LEFT,e.Input.prototype.visible_=!0,e.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Input.prototype.appendField=function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this},e.Input.prototype.insertFieldAt=function(t,n,o){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");return n||""==n&&o?("string"==typeof n&&(n=e.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=o,n.setVisible(this.isVisible()),n.prefixField&&(t=this.insertFieldAt(t,n.prefixField)),this.fieldRow.splice(t,0,n),++t,n.suffixField&&(t=this.insertFieldAt(t,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),t):t},e.Input.prototype.removeField=function(e,t){for(var n,o=0;n=this.fieldRow[o];o++)if(n.name===e)return n.dispose(),this.fieldRow.splice(o,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')},e.Input.prototype.isVisible=function(){return this.visible_},e.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;this.visible_=e;for(var n,o=0;n=this.fieldRow[o];o++)n.setVisible(e);return this.connection&&(this.connection=this.connection,e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll(),o=this.connection.targetBlock())&&(o.getSvgRoot().style.display=e?"block":"none"),t},e.Input.prototype.markDirty=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.markDirty()},e.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},e.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},e.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},e.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},e.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},e.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},e.Block=function(t,n,o){if(e.Generator&&"undefined"!=typeof e.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=o&&!t.getBlockById(o)?o:e.utils.genUid(),t.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new e.utils.Size(160,80)},this.xy_=new e.utils.Coordinate(0,0),this.workspace=t,this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(o=e.Blocks[n])||"object"!=("undefined"===typeof o?"undefined":s(o)))throw TypeError("Unknown block type: "+n);e.utils.object.mixin(this,o)}t.addTopBlock(this),t.addTypedBlock(this),(t=e.Events.getGroup())||e.Events.setGroup(!0),n=e.Events.recordUndo;try{"function"==typeof this.init&&(e.Events.recordUndo=!1,this.init(),e.Events.recordUndo=n),e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(this))}finally{t||e.Events.setGroup(!1),e.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},e.Block.COLLAPSED_INPUT_NAME=e.constants.COLLAPSED_INPUT_NAME,e.Block.COLLAPSED_FIELD_NAME=e.constants.COLLAPSED_FIELD_NAME,e.Block.prototype.data=null,e.Block.prototype.disposed=!1,e.Block.prototype.hue_=null,e.Block.prototype.colour_="#000000",e.Block.prototype.styleName_=null,e.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_DELETE))(this)),e.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),e.selected==this&&(e.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var o;o=this.inputList[n];n++)o.dispose();this.inputList.length=0;var r=this.getConnections_(!0);n=0;for(var i;i=r[n];n++)i.dispose()}finally{e.Events.enable(),this.disposed=!0}}},e.Block.prototype.initModel=function(){for(var e,t=0;e=this.inputList[t];t++)for(var n,o=0;n=e.fieldRow[o];o++)n.initModel&&n.initModel()},e.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},e.Block.prototype.unplugFromRow_=function(e){var t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e.onFailedConnect(t))},e.Block.prototype.getOnlyValueConnection_=function(){for(var t=null,n=0;n<this.inputList.length;n++){var o=this.inputList[n].connection;if(o&&o.type==e.connectionTypes.INPUT_VALUE&&o.targetConnection){if(t)return null;t=o}}return t},e.Block.prototype.unplugFromStack_=function(e){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var n=this.getNextBlock();e&&n&&!n.isShadow()&&(e=this.nextConnection.targetConnection,e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e))},e.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e},e.Block.prototype.lastConnectionInStack=function(){for(var e=this.nextConnection;e;){var t=e.targetBlock();if(!t)return e;e=t.nextConnection}return null},e.Block.prototype.bumpNeighbours=function(){},e.Block.prototype.getParent=function(){return this.parentBlock_},e.Block.prototype.getInputWithBlock=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()==e)return t;return null},e.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==t);return e},e.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},e.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},e.Block.prototype.getFirstStatementConnection=function(){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.type==e.connectionTypes.NEXT_STATEMENT)return t.connection;return null},e.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},e.Block.prototype.getTopStackBlock=function(){var e=this;do{var t=e.getPreviousBlock()}while(t&&t.getNextBlock()==e&&(e=t));return e},e.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var t,n=0;t=this.inputList[n];n++)t.connection&&(t=t.connection.targetBlock())&&e.push(t);return(n=this.getNextBlock())&&e.push(n),e},e.Block.prototype.setParent=function(t){if(t!=this.parentBlock_){if(this.parentBlock_){if(e.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=t)?t.childBlocks_.push(this):this.workspace.addTopBlock(this)}},e.Block.prototype.getDescendants=function(e){for(var t,n=[this],o=this.getChildren(e),r=0;t=o[r];r++)n.push.apply(n,t.getDescendants(e));return n},e.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setDeletable=function(e){this.deletable_=e},e.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setMovable=function(e){this.movable_=e},e.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(e.utils.getBlockTypeCounts(this,!0))},e.Block.prototype.isShadow=function(){return this.isShadow_},e.Block.prototype.setShadow=function(e){this.isShadow_=e},e.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},e.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},e.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var n,o=0;n=t.fieldRow[o];o++)n.updateEditable()},e.Block.prototype.isDisposed=function(){return this.disposed},e.Block.prototype.getMatchingConnection=function(e,t){var n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!=e.length)throw Error("Connection lists did not match in length.");for(var o=0;o<e.length;o++)if(e[o]==t)return n[o];return null},e.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},e.Block.prototype.setTooltip=function(e){this.tooltip=e},e.Block.prototype.getTooltip=function(){return e.Tooltip.getTooltipOfObject(this)},e.Block.prototype.getColour=function(){return this.colour_},e.Block.prototype.getStyleName=function(){return this.styleName_},e.Block.prototype.getHue=function(){return this.hue_},e.Block.prototype.setColour=function(t){t=e.utils.parseBlockColour(t),this.hue_=t.hue,this.colour_=t.hex},e.Block.prototype.setStyle=function(e){this.styleName_=e},e.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},e.Block.prototype.getField=function(e){for(var t,n=0;t=this.inputList[n];n++)for(var o,r=0;o=t.fieldRow[r];r++)if(o.name==e)return o;return null},e.Block.prototype.getVars=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var o,r=0;o=e.fieldRow[r];r++)o.referencesVariables()&&t.push(o.getValue());return t},e.Block.prototype.getVarModels=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var o,r=0;o=e.fieldRow[r];r++)o.referencesVariables()&&(o=this.workspace.getVariableById(o.getValue()))&&t.push(o);return t},e.Block.prototype.updateVarName=function(e){for(var t,n=0;t=this.inputList[n];n++)for(var o,r=0;o=t.fieldRow[r];r++)o.referencesVariables()&&e.getId()==o.getValue()&&o.refreshVariableName()},e.Block.prototype.renameVarById=function(e,t){for(var n,o=0;n=this.inputList[o];o++)for(var r,i=0;r=n.fieldRow[i];i++)r.referencesVariables()&&e==r.getValue()&&r.setValue(t)},e.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},e.Block.prototype.setFieldValue=function(e,t){var n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)},e.Block.prototype.setPreviousStatement=function(t,n){if(t){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(e.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},e.Block.prototype.setNextStatement=function(t,n){if(t)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(e.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},e.Block.prototype.setOutput=function(t,n){if(t){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(e.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},e.Block.prototype.setInputsInline=function(t){this.inputsInline!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,t)),this.inputsInline=t)},e.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.inputTypes.DUMMY&&this.inputList[t].type==e.inputTypes.DUMMY)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.inputTypes.VALUE&&this.inputList[t].type==e.inputTypes.DUMMY)return!0;return!1},e.Block.prototype.setOutputShape=function(e){this.outputShape_=e},e.Block.prototype.getOutputShape=function(){return this.outputShape_},e.Block.prototype.isEnabled=function(){return!this.disabled},e.Block.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!t)),this.disabled=!t)},e.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},e.Block.prototype.isCollapsed=function(){return this.collapsed_},e.Block.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,t)),this.collapsed_=t)},e.Block.prototype.toString=function(t,n){function o(e){var t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!=t.indexOf("Boolean")||-1!=t.indexOf("Number"))}function r(){a&&a.getType()==l.getType()&&a.getLocation()==l.getLocation()&&(a=null)}var i=[];n=n||"?";var s=e.ASTNode.NAVIGATE_ALL_FIELDS;e.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var a=e.ASTNode.createBlockNode(this),l=a;a;){switch(a.getType()){case e.ASTNode.types.INPUT:var c=a.getLocation();a.in()?o(c)&&i.push("("):i.push(n);break;case e.ASTNode.types.FIELD:c=a.getLocation(),c.name!=e.constants.COLLAPSED_FIELD_NAME&&i.push(c.getText())}if(c=a,!(a=c.in()||c.next())){for(a=c.out(),r();a&&!a.next();)a=a.out(),r(),a&&a.getType()==e.ASTNode.types.INPUT&&o(a.getLocation())&&i.push(")");a&&(a=a.next())}}for(e.ASTNode.NAVIGATE_ALL_FIELDS=s,n=2,s=i.length;n<s;n++)"("==i[n-2]&&")"==i[n]&&(i[n-2]=i[n-1],i.splice(n-1,2),s-=2);return i=i.join(" ").replace(/(\() | (\))/gim,"$1$2").trim()||"???",t&&i.length>t&&(i=i.substring(0,t-3)+"..."),i},e.Block.prototype.appendValueInput=function(t){return this.appendInput_(e.inputTypes.VALUE,t)},e.Block.prototype.appendStatementInput=function(t){return this.appendInput_(e.inputTypes.STATEMENT,t)},e.Block.prototype.appendDummyInput=function(t){return this.appendInput_(e.inputTypes.DUMMY,t||"")},e.Block.prototype.jsonInit=function(t){var n=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(n+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,n):this.jsonInitColour_(t,n);for(var o=0;void 0!==t["message"+o];)this.interpolate_(t["message"+o],t["args"+o]||[],t["lastDummyAlign"+o],n),o++;if(void 0!==t.inputsInline&&this.setInputsInline(t.inputsInline),void 0!==t.output&&this.setOutput(!0,t.output),void 0!==t.outputShape&&this.setOutputShape(t.outputShape),void 0!==t.previousStatement&&this.setPreviousStatement(!0,t.previousStatement),void 0!==t.nextStatement&&this.setNextStatement(!0,t.nextStatement),void 0!==t.tooltip&&(o=t.tooltip,o=e.utils.replaceMessageReferences(o),this.setTooltip(o)),void 0!==t.enableContextMenu&&(o=t.enableContextMenu,this.contextMenu=!!o),void 0!==t.helpUrl&&(o=t.helpUrl,o=e.utils.replaceMessageReferences(o),this.setHelpUrl(o)),"string"==typeof t.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),void 0!==t.mutator&&e.Extensions.apply(t.mutator,this,!0),Array.isArray(t.extensions))for(t=t.extensions,n=0;n<t.length;++n)e.Extensions.apply(t[n],this,!1)},e.Block.prototype.jsonInitColour_=function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}},e.Block.prototype.jsonInitStyle_=function(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}},e.Block.prototype.mixin=function(t,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){n=[];for(var o in t)void 0!==this[o]&&n.push(o);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}e.utils.object.mixin(this,t)},e.Block.prototype.interpolate_=function(t,n,o,r){t=e.utils.tokenizeInterpolation(t),this.validateTokens_(t,n.length),n=this.interpolateArguments_(t,n,o),o=[],t=0;for(var i;i=n[t];t++)if(this.isInputKeyword_(i.type)){if(i=this.inputFromJson_(i,r)){for(var s,a=0;s=o[a];a++)i.appendField(s[0],s[1]);o.length=0}}else(a=this.fieldFromJson_(i))&&o.push([a,i.name])},e.Block.prototype.validateTokens_=function(e,t){for(var n=[],o=0,r=0;r<e.length;r++){var i=e[r];if("number"==typeof i){if(1>i||i>t)throw Error('Block "'+this.type+'": Message index %'+i+" out of range.");if(n[i])throw Error('Block "'+this.type+'": Message index %'+i+" duplicated.");n[i]=!0,o++}}if(o!=t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")},e.Block.prototype.interpolateArguments_=function(e,t,n){for(var o=[],r=0;r<e.length;r++){var i=e[r];"number"==typeof i&&(i=t[i-1]),("string"!=typeof i||(i=this.stringToFieldJson_(i)))&&o.push(i)}return(e=o.length)&&!this.isInputKeyword_(o[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),o.push(e)),o},e.Block.prototype.fieldFromJson_=function(t){var n=e.fieldRegistry.fromJson(t);return!n&&t.alt?"string"==typeof t.alt?(t=this.stringToFieldJson_(t.alt))?this.fieldFromJson_(t):null:this.fieldFromJson_(t.alt):n},e.Block.prototype.inputFromJson_=function(t,n){var o={LEFT:e.constants.ALIGN.LEFT,RIGHT:e.constants.ALIGN.RIGHT,CENTRE:e.constants.ALIGN.CENTRE,CENTER:e.constants.ALIGN.CENTRE},r=null;switch(t.type){case"input_value":r=this.appendValueInput(t.name);break;case"input_statement":r=this.appendStatementInput(t.name);break;case"input_dummy":r=this.appendDummyInput(t.name)}return r?(t.check&&r.setCheck(t.check),t.align&&(o=o[t.align.toUpperCase()],void 0===o?console.warn(n+"Illegal align value: ",t.align):r.setAlign(o)),r):null},e.Block.prototype.isInputKeyword_=function(e){return"input_value"==e||"input_statement"==e||"input_dummy"==e},e.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},e.Block.prototype.appendInput_=function(t,n){var o=null;return t!=e.inputTypes.VALUE&&t!=e.inputTypes.STATEMENT||(o=this.makeConnection_(t)),t==e.inputTypes.STATEMENT&&this.statementInputCount++,t=new e.Input(t,n,this,o),this.inputList.push(t),t},e.Block.prototype.moveInputBefore=function(e,t){if(e!=t){for(var n,o=-1,r=t?-1:this.inputList.length,i=0;n=this.inputList[i];i++)if(n.name==e){if(o=i,-1!=r)break}else if(t&&n.name==t&&(r=i,-1!=o))break;if(-1==o)throw Error('Named input "'+e+'" not found.');if(-1==r)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(o,r)}},e.Block.prototype.moveNumberedInputBefore=function(e,t){if(e==t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)},e.Block.prototype.removeInput=function(t,n){for(var o,r=0;o=this.inputList[r];r++)if(o.name==t)return o.type==e.inputTypes.STATEMENT&&this.statementInputCount--,o.dispose(),this.inputList.splice(r,1),!0;if(n)return!1;throw Error("Input not found: "+t)},e.Block.prototype.getInput=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.name==e)return t;return null},e.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},e.Block.prototype.getCommentText=function(){return this.commentModel.text},e.Block.prototype.setCommentText=function(t){this.commentModel.text!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,t)),this.comment=this.commentModel.text=t)},e.Block.prototype.setWarningText=function(e,t){},e.Block.prototype.setMutator=function(e){},e.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},e.Block.prototype.moveBy=function(t,n){if(this.parentBlock_)throw Error("Block has parent.");var o=new(e.Events.get(e.Events.BLOCK_MOVE))(this);this.xy_.translate(t,n),o.recordNew(),e.Events.fire(o)},e.Block.prototype.makeConnection_=function(t){return new e.Connection(this,t)},e.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&(!(t=t.connection.targetBlock())||!t.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},e.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},e.blockRendering.IPathObject=function(e,t){},e.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},e.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},e.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},e.Menu.prototype.render=function(t){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&e.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var o,r=0;o=this.menuItems_[r];r++)n.appendChild(o.createDom());this.mouseOverHandler_=e.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=e.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=e.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=e.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=e.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),t.appendChild(n)},e.Menu.prototype.getElement=function(){return this.element_},e.Menu.prototype.focus=function(){var t=this.getElement();t&&(t.focus({preventScroll:!0}),e.utils.dom.addClass(t,"blocklyFocused"))},e.Menu.prototype.blur_=function(){var t=this.getElement();t&&(t.blur(),e.utils.dom.removeClass(t,"blocklyFocused"))},e.Menu.prototype.setRole=function(e){this.roleName_=e},e.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(e.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(e.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(e.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(e.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(e.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var t,n=0;t=this.menuItems_[n];n++)t.dispose();this.element_=null},e.Menu.prototype.getMenuItem_=function(t){for(var n=this.getElement();t&&t!=n;){if(e.utils.dom.hasClass(t,"blocklyMenuItem"))for(var o,r=0;o=this.menuItems_[r];r++)if(o.getElement()==t)return o;t=t.parentElement}return null},e.Menu.prototype.setHighlighted=function(t){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),t&&(t.setHighlighted(!0),this.highlightedItem_=t,n=this.getElement(),e.utils.style.scrollIntoContainerView(t.getElement(),n),e.utils.aria.setState(n,e.utils.aria.State.ACTIVEDESCENDANT,t.getId()))},e.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},e.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},e.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},e.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},e.Menu.prototype.highlightHelper_=function(e,t){e+=t;for(var n;n=this.menuItems_[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}},e.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},e.Menu.prototype.handleClick_=function(t){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof t.clientX){var o=new e.utils.Coordinate(t.clientX,t.clientY);if(1>e.utils.Coordinate.distance(n,o))return}(t=this.getMenuItem_(t.target))&&t.performAction()},e.Menu.prototype.handleMouseEnter_=function(e){this.focus()},e.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},e.Menu.prototype.handleKeyEvent_=function(t){if(this.menuItems_.length&&!(t.shiftKey||t.ctrlKey||t.metaKey||t.altKey)){var n=this.highlightedItem_;switch(t.keyCode){case e.utils.KeyCodes.ENTER:case e.utils.KeyCodes.SPACE:n&&n.performAction();break;case e.utils.KeyCodes.UP:this.highlightPrevious();break;case e.utils.KeyCodes.DOWN:this.highlightNext();break;case e.utils.KeyCodes.PAGE_UP:case e.utils.KeyCodes.HOME:this.highlightFirst_();break;case e.utils.KeyCodes.PAGE_DOWN:case e.utils.KeyCodes.END:this.highlightLast_();break;default:return}t.preventDefault(),t.stopPropagation()}},e.Menu.prototype.getSize=function(){var t=this.getElement(),n=e.utils.style.getSize(t);return n.height=t.scrollHeight,n},e.MenuItem=function(e,t){this.content_=e,this.value_=t,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},e.MenuItem.prototype.createDom=function(){var t=document.createElement("div");t.id=e.utils.IdGenerator.getNextUniqueId(),this.element_=t,t.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var o=document.createElement("div");o.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(o)}return o=this.content_,"string"==typeof this.content_&&(o=document.createTextNode(this.content_)),n.appendChild(o),t.appendChild(n),this.roleName_&&e.utils.aria.setRole(t,this.roleName_),e.utils.aria.setState(t,e.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),e.utils.aria.setState(t,e.utils.aria.State.DISABLED,!this.enabled_),t},e.MenuItem.prototype.dispose=function(){this.element_=null},e.MenuItem.prototype.getElement=function(){return this.element_},e.MenuItem.prototype.getId=function(){return this.element_.id},e.MenuItem.prototype.getValue=function(){return this.value_},e.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},e.MenuItem.prototype.setRole=function(e){this.roleName_=e},e.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},e.MenuItem.prototype.setChecked=function(e){this.checked_=e},e.MenuItem.prototype.setHighlighted=function(t){this.highlight_=t;var n=this.getElement();n&&this.isEnabled()&&(t?(e.utils.dom.addClass(n,"blocklyMenuItemHighlight"),e.utils.dom.addClass(n,"goog-menuitem-highlight")):(e.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),e.utils.dom.removeClass(n,"goog-menuitem-highlight")))},e.MenuItem.prototype.isEnabled=function(){return this.enabled_},e.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},e.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},e.MenuItem.prototype.onAction=function(e,t){this.actionHandler_=e.bind(t)},e.WidgetDiv={},e.WidgetDiv.owner_=null,e.WidgetDiv.dispose_=null,e.WidgetDiv.rendererClassName_="",e.WidgetDiv.themeClassName_="",e.WidgetDiv.createDom=function(){e.WidgetDiv.DIV||(e.WidgetDiv.DIV=document.createElement("div"),e.WidgetDiv.DIV.className="blocklyWidgetDiv",(e.parentContainer||document.body).appendChild(e.WidgetDiv.DIV))},e.WidgetDiv.show=function(t,n,o){e.WidgetDiv.hide(),e.WidgetDiv.owner_=t,e.WidgetDiv.dispose_=o,t=e.WidgetDiv.DIV,t.style.direction=n?"rtl":"ltr",t.style.display="block",n=e.getMainWorkspace(),e.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),e.WidgetDiv.themeClassName_=n.getTheme().getClassName(),e.utils.dom.addClass(t,e.WidgetDiv.rendererClassName_),e.utils.dom.addClass(t,e.WidgetDiv.themeClassName_)},e.WidgetDiv.hide=function(){if(e.WidgetDiv.isVisible()){e.WidgetDiv.owner_=null;var t=e.WidgetDiv.DIV;t.style.display="none",t.style.left="",t.style.top="",e.WidgetDiv.dispose_&&e.WidgetDiv.dispose_(),e.WidgetDiv.dispose_=null,t.textContent="",e.WidgetDiv.rendererClassName_&&(e.utils.dom.removeClass(t,e.WidgetDiv.rendererClassName_),e.WidgetDiv.rendererClassName_=""),e.WidgetDiv.themeClassName_&&(e.utils.dom.removeClass(t,e.WidgetDiv.themeClassName_),e.WidgetDiv.themeClassName_=""),e.getMainWorkspace().markFocused()}},e.WidgetDiv.isVisible=function(){return!!e.WidgetDiv.owner_},e.WidgetDiv.hideIfOwner=function(t){e.WidgetDiv.owner_==t&&e.WidgetDiv.hide()},e.WidgetDiv.positionInternal_=function(t,n,o){e.WidgetDiv.DIV.style.left=t+"px",e.WidgetDiv.DIV.style.top=n+"px",e.WidgetDiv.DIV.style.height=o+"px"},e.WidgetDiv.positionWithAnchor=function(t,n,o,r){var i=e.WidgetDiv.calculateY_(t,n,o);t=e.WidgetDiv.calculateX_(t,n,o,r),0>i?e.WidgetDiv.positionInternal_(t,0,o.height+i):e.WidgetDiv.positionInternal_(t,i,o.height)},e.WidgetDiv.calculateX_=function(e,t,n,o){return o?(t=Math.max(t.right-n.width,e.left),Math.min(t,e.right-n.width)):(t=Math.min(t.left,e.right-n.width),Math.max(t,e.left))},e.WidgetDiv.calculateY_=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},e.ContextMenu={},e.ContextMenu.currentBlock=null,e.ContextMenu.menu_=null,e.ContextMenu.show=function(t,n,o){if(e.WidgetDiv.show(e.ContextMenu,o,e.ContextMenu.dispose),n.length){var r=e.ContextMenu.populate_(n,o);e.ContextMenu.menu_=r,e.ContextMenu.position_(r,t,o),setTimeout(function(){r.focus()},1),e.ContextMenu.currentBlock=null}else e.ContextMenu.hide()},e.ContextMenu.populate_=function(t,n){var o=new e.Menu;o.setRole(e.utils.aria.Role.MENU);for(var r,i=0;r=t[i];i++){var s=new e.MenuItem(r.text);s.setRightToLeft(n),s.setRole(e.utils.aria.Role.MENUITEM),o.addChild(s),s.setEnabled(r.enabled),r.enabled&&s.onAction(function(t){e.ContextMenu.hide(),this.callback(this.scope)},r)}return o},e.ContextMenu.position_=function(t,n,o){var r=e.utils.getViewportBBox();n=new e.utils.Rect(n.clientY+r.top,n.clientY+r.top,n.clientX+r.left,n.clientX+r.left),e.ContextMenu.createWidget_(t);var i=t.getSize();o&&(n.left+=i.width,n.right+=i.width,r.left+=i.width,r.right+=i.width),e.WidgetDiv.positionWithAnchor(r,n,i,o),t.focus()},e.ContextMenu.createWidget_=function(t){t.render(e.WidgetDiv.DIV);var n=t.getElement();e.utils.dom.addClass(n,"blocklyContextMenu"),e.browserEvents.conditionalBind(n,"contextmenu",null,e.utils.noEvent),t.focus()},e.ContextMenu.hide=function(){e.WidgetDiv.hideIfOwner(e.ContextMenu),e.ContextMenu.currentBlock=null},e.ContextMenu.dispose=function(){e.ContextMenu.menu_&&(e.ContextMenu.menu_.dispose(),e.ContextMenu.menu_=null)},e.ContextMenu.callbackFactory=function(t,n){return function(){e.Events.disable();try{var o=e.Xml.domToBlock(n,t.workspace),r=t.getRelativeToSurfaceXY();r.x=t.RTL?r.x-e.SNAP_RADIUS:r.x+e.SNAP_RADIUS,r.y+=2*e.SNAP_RADIUS,o.moveBy(r.x,r.y)}finally{e.Events.enable()}e.Events.isEnabled()&&!o.isShadow()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(o)),o.select()}},e.ContextMenu.commentDeleteOption=function(t){return{text:e.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){e.Events.setGroup(!0),t.dispose(!0,!0),e.Events.setGroup(!1)}}},e.ContextMenu.commentDuplicateOption=function(t){return{text:e.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){e.duplicate(t)}}},e.ContextMenu.workspaceCommentOption=function(t,n){if(!e.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var o={enabled:!e.utils.userAgent.IE};return o.text=e.Msg.ADD_COMMENT,o.callback=function(){var o=new e.WorkspaceCommentSvg(t,e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,e.WorkspaceCommentSvg.DEFAULT_SIZE,e.WorkspaceCommentSvg.DEFAULT_SIZE),r=t.getInjectionDiv().getBoundingClientRect();r=new e.utils.Coordinate(n.clientX-r.left,n.clientY-r.top);var i=t.getOriginOffsetInPixels();r=e.utils.Coordinate.difference(r,i),r.scale(1/t.scale),o.moveBy(r.x,r.y),t.rendered&&(o.initSvg(),o.render(),o.select())},o},e.ContextMenuRegistry=function(){e.ContextMenuRegistry.registry=this,this.registry_={}},e.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},e.ContextMenuRegistry.registry=null,e.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with id "'+e.id+'" is already registered.');this.registry_[e.id]=e},e.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with id "'+e+'" not found.');delete this.registry_[e]},e.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]?this.registry_[e]:null},e.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,t){var n=[],o=this.registry_;return Object.keys(o).forEach(function(r){if(r=o[r],e==r.scopeType){var i=r.preconditionFn(t);"hidden"!=i&&(r={text:"function"==typeof r.displayText?r.displayText(t):r.displayText,enabled:"enabled"==i,callback:r.callback,scope:t,weight:r.weight},n.push(r))}}),n.sort(function(e,t){return e.weight-t.weight}),n},new e.ContextMenuRegistry,e.Events.Selected=function(t,n,o){e.Events.Selected.superClass_.constructor.call(this,o),this.oldElementId=t,this.newElementId=n},e.utils.object.inherits(e.Events.Selected,e.Events.UiBase),e.Events.Selected.prototype.type=e.Events.SELECTED,e.Events.Selected.prototype.toJson=function(){var t=e.Events.Selected.superClass_.toJson.call(this);return t.oldElementId=this.oldElementId,t.newElementId=this.newElementId,t},e.Events.Selected.prototype.fromJson=function(t){e.Events.Selected.superClass_.fromJson.call(this,t),this.oldElementId=t.oldElementId,this.newElementId=t.newElementId},e.registry.register(e.registry.Type.EVENT,e.Events.SELECTED,e.Events.Selected),e.RenderedConnection=function(t,n){e.RenderedConnection.superClass_.constructor.call(this,t,n),this.db_=t.workspace.connectionDBList[n],this.dbOpposite_=t.workspace.connectionDBList[e.OPPOSITE_TYPE[n]],this.offsetInBlock_=new e.utils.Coordinate(0,0),this.trackedState_=e.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},e.utils.object.inherits(e.RenderedConnection,e.Connection),e.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},e.RenderedConnection.prototype.dispose=function(){e.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},e.RenderedConnection.prototype.getSourceBlock=function(){return e.RenderedConnection.superClass_.getSourceBlock.call(this)},e.RenderedConnection.prototype.targetBlock=function(){return e.RenderedConnection.superClass_.targetBlock.call(this)},e.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)},e.RenderedConnection.prototype.bumpAwayFrom=function(t){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var o=!1;if(!n.isMovable()){if(n=t.getSourceBlock().getRootBlock(),!n.isMovable())return;t=this,o=!0}var r=e.selected==n;r||n.addSelect();var i=t.x+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x,s=t.y+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.y;o&&(s=-s),n.RTL&&(i=t.x-e.SNAP_RADIUS-Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x),n.moveBy(i,s),r||n.removeSelect()}}},e.RenderedConnection.prototype.moveTo=function(t,n){this.trackedState_==e.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=e.RenderedConnection.TrackedState.TRACKED):this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=t,this.y=n},e.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x+e,this.y+t)},e.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},e.RenderedConnection.prototype.setOffsetInBlock=function(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t},e.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},e.RenderedConnection.prototype.tighten=function(){var t=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=t||0!=n){var o=this.targetBlock(),r=o.getSvgRoot();if(!r)throw Error("block is not rendered.");r=e.utils.getRelativeXY(r),o.getSvgRoot().setAttribute("transform","translate("+(r.x-t)+","+(r.y-n)+")"),o.moveConnections(-t,-n)}},e.RenderedConnection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},e.RenderedConnection.prototype.highlight=function(){var t=this.sourceBlock_.workspace.getRenderer().getConstants(),n=t.shapeFor(this);this.type==e.connectionTypes.INPUT_VALUE||this.type==e.connectionTypes.OUTPUT_VALUE?(t=t.TAB_OFFSET_FROM_TOP,n=e.utils.svgPaths.moveBy(0,-t)+e.utils.svgPaths.lineOnAxis("v",t)+n.pathDown+e.utils.svgPaths.lineOnAxis("v",t)):(t=t.NOTCH_OFFSET_LEFT-t.CORNER_RADIUS,n=e.utils.svgPaths.moveBy(-t,0)+e.utils.svgPaths.lineOnAxis("h",t)+n.pathLeft+e.utils.svgPaths.lineOnAxis("h",t)),t=this.sourceBlock_.getRelativeToSurfaceXY(),e.Connection.highlightedPath_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-t.x)+","+(this.y-t.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},e.RenderedConnection.prototype.unhighlight=function(){e.utils.dom.removeNode(e.Connection.highlightedPath_),delete e.Connection.highlightedPath_},e.RenderedConnection.prototype.setTracking=function(t){t&&this.trackedState_==e.RenderedConnection.TrackedState.TRACKED||!t&&this.trackedState_==e.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(t?(this.db_.addConnection(this,this.y),this.trackedState_=e.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=e.RenderedConnection.TrackedState.UNTRACKED))},e.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),t=0;t<e.length;t++){for(var n=e[t],o=n.getConnections_(!0),r=0;r<o.length;r++)o[r].setTracking(!1);for(n=n.getIcons(),r=0;r<n.length;r++)n[r].setVisible(!1)}},e.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var t=[];if(this.type!=e.connectionTypes.INPUT_VALUE&&this.type!=e.connectionTypes.NEXT_STATEMENT)return t;var n=this.targetBlock();if(n){if(n.isCollapsed()){var o=[];n.outputConnection&&o.push(n.outputConnection),n.nextConnection&&o.push(n.nextConnection),n.previousConnection&&o.push(n.previousConnection)}else o=n.getConnections_(!0);for(var r=0;r<o.length;r++)t.push.apply(t,o[r].startTrackingAll());t.length||(t[0]=n)}return t},e.RenderedConnection.prototype.isConnectionAllowed=function(t,n){return e.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(t)>n)&&e.RenderedConnection.superClass_.isConnectionAllowed.call(this,t)},e.RenderedConnection.prototype.onFailedConnect=function(e){this.bumpAwayFrom(e)},e.RenderedConnection.prototype.disconnectInternal_=function(t,n){e.RenderedConnection.superClass_.disconnectInternal_.call(this,t,n),t.rendered&&t.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},e.RenderedConnection.prototype.respawnShadow_=function(){e.RenderedConnection.superClass_.respawnShadow_.call(this);var t=this.targetBlock();t&&(t.initSvg(),t.render(!1),t=this.getSourceBlock(),t.rendered&&t.render())},e.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},e.RenderedConnection.prototype.connect_=function(t){e.RenderedConnection.superClass_.connect_.call(this,t);var n=this.getSourceBlock();t=t.getSourceBlock();var o=n.rendered,r=t.rendered;o&&n.updateDisabled(),r&&t.updateDisabled(),o&&r&&(this.type==e.connectionTypes.NEXT_STATEMENT||this.type==e.connectionTypes.PREVIOUS_STATEMENT?t.render():n.render()),(n=n.getInputWithBlock(t))&&(n=n.isVisible(),t.getSvgRoot().style.display=n?"block":"none")},e.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},e.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},e.Marker.prototype.setDrawer=function(e){this.drawer_=e},e.Marker.prototype.getDrawer=function(){return this.drawer_},e.Marker.prototype.getCurNode=function(){return this.curNode_},e.Marker.prototype.setCurNode=function(e){var t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)},e.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},e.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},e.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},e.Cursor=function(){e.Cursor.superClass_.constructor.call(this),this.type="cursor"},e.utils.object.inherits(e.Cursor,e.Marker),e.Cursor.prototype.next=function(){var t=this.getCurNode();if(!t)return null;for(t=t.next();t&&t.next()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.next();return t&&this.setCurNode(t),t},e.Cursor.prototype.in=function(){var t=this.getCurNode();return t?(t.getType()!=e.ASTNode.types.PREVIOUS&&t.getType()!=e.ASTNode.types.OUTPUT||(t=t.next()),(t=t.in())&&this.setCurNode(t),t):null},e.Cursor.prototype.prev=function(){var t=this.getCurNode();if(!t)return null;for(t=t.prev();t&&t.prev()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.prev();return t&&this.setCurNode(t),t},e.Cursor.prototype.out=function(){var t=this.getCurNode();return t?((t=t.out())&&t.getType()==e.ASTNode.types.BLOCK&&(t=t.prev()||t),t&&this.setCurNode(t),t):null},e.registry.register(e.registry.Type.CURSOR,e.registry.DEFAULT,e.Cursor),e.BasicCursor=function(){e.BasicCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.BasicCursor,e.Cursor),e.BasicCursor.registrationName="basicCursor",e.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},e.BasicCursor.prototype.in=function(){return this.next()},e.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},e.BasicCursor.prototype.out=function(){return this.prev()},e.BasicCursor.prototype.getNextNode_=function(e,t){if(!e)return null;var n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):(e=this.findSiblingOrParent_(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)},e.BasicCursor.prototype.getPreviousNode_=function(e,t){if(!e)return null;var n=e.prev();return n=n?this.getRightMostChild_(n):e.out(),t(n)?n:n?this.getPreviousNode_(n,t):null},e.BasicCursor.prototype.validNode_=function(t){var n=!1;return t=t&&t.getType(),t!=e.ASTNode.types.OUTPUT&&t!=e.ASTNode.types.INPUT&&t!=e.ASTNode.types.FIELD&&t!=e.ASTNode.types.NEXT&&t!=e.ASTNode.types.PREVIOUS&&t!=e.ASTNode.types.WORKSPACE||(n=!0),n},e.BasicCursor.prototype.findSiblingOrParent_=function(e){if(!e)return null;var t=e.next();return t||this.findSiblingOrParent_(e.out())},e.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},e.registry.register(e.registry.Type.CURSOR,e.BasicCursor.registrationName,e.BasicCursor),e.TabNavigateCursor=function(){e.TabNavigateCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.TabNavigateCursor,e.BasicCursor),e.TabNavigateCursor.prototype.validNode_=function(t){var n=!1,o=t&&t.getType();return t&&(t=t.getLocation(),o==e.ASTNode.types.FIELD&&t&&t.isTabNavigable()&&t.isClickable()&&(n=!0)),n},e.BlockSvg=function(t,n,o){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=t.getRenderer().getConstants().getBlockStyle(null),this.pathObject=t.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=t,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=e.utils.is3dSupported()&&!!t.getBlockDragSurface();var r=this.pathObject.svgPath;r.tooltip=this,e.Tooltip.bindMouseEvents(r),e.BlockSvg.superClass_.constructor.call(this,t,n,o),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:e.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},e.utils.object.inherits(e.BlockSvg,e.Block),e.BlockSvg.prototype.height=0,e.BlockSvg.prototype.width=0,e.BlockSvg.prototype.warningTextDb_=null,e.BlockSvg.INLINE=-1,e.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",e.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var t,n=0;t=this.inputList[n];n++)t.init();for(t=this.getIcons(),n=0;n<t.length;n++)t[n].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),n=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!n||e.browserEvents.conditionalBind(n,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,n.parentNode||this.workspace.getCanvas().appendChild(n)},e.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},e.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},e.BlockSvg.prototype.getColourShadow=function(){return e.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},e.BlockSvg.prototype.getColourBorder=function(){return e.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},e.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(e.selected!=this){var t=null;if(e.selected){t=e.selected.id,e.Events.disable();try{e.selected.unselect()}finally{e.Events.enable()}}t=new(e.Events.get(e.Events.SELECTED))(t,this.id,this.workspace.id),e.Events.fire(t),e.selected=this,this.addSelect()}},e.BlockSvg.prototype.unselect=function(){if(e.selected==this){var t=new(e.Events.get(e.Events.SELECTED))(this.id,null,this.workspace.id);t.workspaceId=this.workspace.id,e.Events.fire(t),e.selected=null,this.removeSelect()}},e.BlockSvg.prototype.mutator=null,e.BlockSvg.prototype.comment=null,e.BlockSvg.prototype.commentIcon_=null,e.BlockSvg.prototype.warning=null,e.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},e.BlockSvg.prototype.setParent=function(t){var n=this.parentBlock_;if(t!=n){e.utils.dom.startTextWidthCache(),e.BlockSvg.superClass_.setParent.call(this,t),e.utils.dom.stopTextWidthCache();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var r=this.getRelativeToSurfaceXY();t?(t.getSvgRoot().appendChild(o),t=this.getRelativeToSurfaceXY(),this.moveConnections(t.x-r.x,t.y-r.y)):n&&(this.workspace.getCanvas().appendChild(o),this.translate(r.x,r.y)),this.applyColour()}}},e.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,n=0,o=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,r=this.getSvgRoot();if(r)do{var i=e.utils.getRelativeXY(r);t+=i.x,n+=i.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==r&&(i=this.workspace.getBlockDragSurface().getSurfaceTranslation(),t+=i.x,n+=i.y),r=r.parentNode}while(r&&r!=this.workspace.getCanvas()&&r!=o);return new e.utils.Coordinate(t,n)},e.BlockSvg.prototype.moveBy=function(t,n){if(this.parentBlock_)throw Error("Block has parent.");var o=e.Events.isEnabled();if(o)var r=new(e.Events.get(e.Events.BLOCK_MOVE))(this);var i=this.getRelativeToSurfaceXY();this.translate(i.x+t,i.y+n),this.moveConnections(t,n),o&&(r.recordNew(),e.Events.fire(r)),this.workspace.resizeContents()},e.BlockSvg.prototype.translate=function(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},e.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},e.BlockSvg.prototype.moveTo=function(e){var t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)},e.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},e.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},e.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},e.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,o=this.getRelativeToSurfaceXY();e=Math.round((o.x-n)/t)*t+n-o.x,t=Math.round((o.y-n)/t)*t+n-o.y,e=Math.round(e),t=Math.round(t),0==e&&0==t||this.moveBy(e,t)}}},e.BlockSvg.prototype.getBoundingRectangle=function(){var t=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var o=t.x-n.width,r=t.x;else o=t.x,r=t.x+n.width;return new e.utils.Rect(t.y,t.y+n.height,o,r)},e.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var e,t=0;e=this.inputList[t];t++)e.markDirty()},e.BlockSvg.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.BlockSvg.superClass_.setCollapsed.call(this,t),t?this.rendered&&this.render():this.updateCollapsed_())},e.BlockSvg.prototype.updateCollapsed_=function(){for(var t,n=this.isCollapsed(),o=e.constants.COLLAPSED_INPUT_NAME,r=e.constants.COLLAPSED_FIELD_NAME,i=0;t=this.inputList[i];i++)t.name!=o&&t.setVisible(!n);if(n){for(t=this.getIcons(),i=0;n=t[i];i++)n.setVisible(!1);i=this.toString(e.COLLAPSE_CHARS),(t=this.getField(r))?t.setValue(i):(t=this.getInput(o)||this.appendDummyInput(o),t.appendField(new e.FieldLabel(i),r))}else this.updateDisabled(),this.removeInput(o)},e.BlockSvg.prototype.tab=function(t,n){var o=new e.TabNavigateCursor;o.setCurNode(e.ASTNode.createFieldNode(t)),t=o.getCurNode(),n?o.next():o.prev(),(n=o.getCurNode())&&n!==t&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},e.BlockSvg.prototype.onMouseDown_=function(e){var t=this.workspace&&this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)},e.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},e.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var t=e.ContextMenuRegistry.registry.getContextMenuOptions(e.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(t),t},e.BlockSvg.prototype.showContextMenu=function(t){var n=this.generateContextMenu();n&&n.length&&(e.ContextMenu.show(t,n,this.RTL),e.ContextMenu.currentBlock=this)},e.BlockSvg.prototype.moveConnections=function(e,t){if(this.rendered){for(var n=this.getConnections_(!1),o=0;o<n.length;o++)n[o].moveBy(e,t);for(n=this.getIcons(),o=0;o<n.length;o++)n[o].computeIconLocation();for(o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].moveConnections(e,t)}},e.BlockSvg.prototype.setDragging=function(t){if(t){var n=this.getSvgRoot();n.translate_="",n.skew_="",e.draggingConnections=e.draggingConnections.concat(this.getConnections_(!0)),e.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else e.draggingConnections=[],e.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(t)},e.BlockSvg.prototype.setMovable=function(t){e.BlockSvg.superClass_.setMovable.call(this,t),this.pathObject.updateMovable(t)},e.BlockSvg.prototype.setEditable=function(t){e.BlockSvg.superClass_.setEditable.call(this,t),t=this.getIcons();for(var n=0;n<t.length;n++)t[n].updateEditable()},e.BlockSvg.prototype.setShadow=function(t){e.BlockSvg.superClass_.setShadow.call(this,t),this.applyColour()},e.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},e.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.BlockSvg.prototype.dispose=function(t,n){if(this.workspace){e.Tooltip.dispose(),e.Tooltip.unbindMouseEvents(this.pathObject.svgPath),e.utils.dom.startTextWidthCache();var o=this.workspace;if(e.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),e.ContextMenu.currentBlock==this&&e.ContextMenu.hide(),n&&this.rendered&&(this.unplug(t),e.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var r in this.warningTextDb_)clearTimeout(this.warningTextDb_[r]);this.warningTextDb_=null}for(n=this.getIcons(),r=0;r<n.length;r++)n[r].dispose();e.BlockSvg.superClass_.dispose.call(this,!!t),e.utils.dom.removeNode(this.svgGroup_),o.resizeContents(),this.svgGroup_=null,e.utils.dom.stopTextWidthCache()}},e.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var t=e.Xml.blockToDom(this,!0);e.Xml.deleteNext(t);var n=this.getRelativeToSurfaceXY();return t.setAttribute("x",this.RTL?-n.x:n.x),t.setAttribute("y",n.y),{xml:t,source:this.workspace,typeCounts:e.utils.getBlockTypeCounts(this,!0)}},e.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(e=0;t=this.inputList[e];e++)for(var n,o=0;n=t.fieldRow[o];o++)n.applyColour()},e.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var t,n=0;t=e[n];n++)t.rendered&&t.updateDisabled()},e.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},e.BlockSvg.prototype.setCommentText=function(t){if(!e.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=t&&(e.BlockSvg.superClass_.setCommentText.call(this,t),t=null!=t,!!this.commentIcon_==t?this.commentIcon_.updateText():(t?this.comment=this.commentIcon_=new e.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},e.BlockSvg.prototype.setWarningText=function(t,n){if(!e.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var o=n||"";if(o)this.warningTextDb_[o]&&(clearTimeout(this.warningTextDb_[o]),delete this.warningTextDb_[o]);else for(var r in this.warningTextDb_)clearTimeout(this.warningTextDb_[r]),delete this.warningTextDb_[r];if(this.workspace.isDragging()){var i=this;this.warningTextDb_[o]=setTimeout(function(){i.workspace&&(delete i.warningTextDb_[o],i.setWarningText(t,o))},100)}else{if(this.isInFlyout&&(t=null),n=!1,"string"==typeof t){r=this.getSurroundParent();for(var s=null;r;)r.isCollapsed()&&(s=r),r=r.getSurroundParent();s&&s.setWarningText(e.Msg.COLLAPSED_WARNINGS_WARNING,e.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new e.Warning(this),n=!0),this.warning.setText(t,o)}else this.warning&&!o?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",o),(r=this.warning.getText())||this.warning.dispose(),n=n!=r);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},e.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.BlockSvg.superClass_.setEnabled.call(this,t),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},e.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},e.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},e.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},e.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},e.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},e.BlockSvg.prototype.setColour=function(t){e.BlockSvg.superClass_.setColour.call(this,t),t=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(t.style),this.style=t.style,this.styleName_=t.name,this.applyColour()},e.BlockSvg.prototype.setStyle=function(e){var t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()},e.BlockSvg.prototype.bringToFront=function(){var e=this;do{var t=e.getSvgRoot(),n=t.parentNode,o=n.childNodes;o[o.length-1]!==t&&n.appendChild(t),e=e.getParent()}while(e)},e.BlockSvg.prototype.setPreviousStatement=function(t,n){e.BlockSvg.superClass_.setPreviousStatement.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setNextStatement=function(t,n){e.BlockSvg.superClass_.setNextStatement.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setOutput=function(t,n){e.BlockSvg.superClass_.setOutput.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setInputsInline=function(t){e.BlockSvg.superClass_.setInputsInline.call(this,t),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.removeInput=function(t,n){return t=e.BlockSvg.superClass_.removeInput.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours()),t},e.BlockSvg.prototype.moveNumberedInputBefore=function(t,n){e.BlockSvg.superClass_.moveNumberedInputBefore.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.appendInput_=function(t,n){return t=e.BlockSvg.superClass_.appendInput_.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours()),t},e.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}},e.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var n;n=this.inputList[e];e++)n.connection&&t.push(n.connection)}return t},e.BlockSvg.prototype.lastConnectionInStack=function(){return e.BlockSvg.superClass_.lastConnectionInStack.call(this)},e.BlockSvg.prototype.getMatchingConnection=function(t,n){return e.BlockSvg.superClass_.getMatchingConnection.call(this,t,n)},e.BlockSvg.prototype.makeConnection_=function(t){return new e.RenderedConnection(this,t)},e.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var n,o=this.getConnections_(!1),r=0;n=o[r];r++){n.isConnected()&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var i,s=n.neighbours(e.SNAP_RADIUS),a=0;i=s[a];a++)n.isConnected()&&i.isConnected()||i.getSourceBlock().getRootBlock()!=t&&(n.isSuperior()?i.bumpAwayFrom(n):n.bumpAwayFrom(i))}}},e.BlockSvg.prototype.scheduleSnapAndBump=function(){var t=this,n=e.Events.getGroup();setTimeout(function(){e.Events.setGroup(n),t.snapToGrid(),e.Events.setGroup(!1)},e.BUMP_DELAY/2),setTimeout(function(){e.Events.setGroup(n),t.bumpNeighbours(),e.Events.setGroup(!1)},e.BUMP_DELAY)},e.BlockSvg.prototype.positionNearConnection=function(t,n){t.type!=e.connectionTypes.NEXT_STATEMENT&&t.type!=e.connectionTypes.INPUT_VALUE||this.moveBy(n.x-t.x,n.y-t.y)},e.BlockSvg.prototype.getParent=function(){return e.BlockSvg.superClass_.getParent.call(this)},e.BlockSvg.prototype.getRootBlock=function(){return e.BlockSvg.superClass_.getRootBlock.call(this)},e.BlockSvg.prototype.render=function(t){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,e.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==t){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}e.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},e.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(e.MarkerManager.LOCAL_MARKER).draw()},e.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.moveToOffset(e),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},e.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},e.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},e.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,n=this.getNextBlock();if(n){n=n.getHeightWidth();var o=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-o,t=Math.max(t,n.width)}return{height:e,width:t}},e.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},e.BlockSvg.prototype.highlightShapeForInput=function(e,t){this.pathObject.updateShapeForInputHighlight(e,t)},e.ConnectionDB=function(e){this.connections_=[],this.connectionChecker_=e},e.ConnectionDB.prototype.addConnection=function(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)},e.ConnectionDB.prototype.findIndexOfConnection_=function(e,t){if(!this.connections_.length)return-1;var n=this.calculateIndexForYPos_(t);if(n>=this.connections_.length)return-1;t=e.y;for(var o=n;0<=o&&this.connections_[o].y==t;){if(this.connections_[o]==e)return o;o--}for(;n<this.connections_.length&&this.connections_[n].y==t;){if(this.connections_[n]==e)return n;n++}return-1},e.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var t=0,n=this.connections_.length;t<n;){var o=Math.floor((t+n)/2);if(this.connections_[o].y<e)t=o+1;else{if(!(this.connections_[o].y>e)){t=o;break}n=o}}return t},e.ConnectionDB.prototype.removeConnection=function(e,t){if(-1==(e=this.findIndexOfConnection_(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},e.ConnectionDB.prototype.getNeighbours=function(e,t){function n(e){var n=r-o[e].x,s=i-o[e].y;return Math.sqrt(n*n+s*s)<=t&&l.push(o[e]),s<t}var o=this.connections_,r=e.x,i=e.y;e=0;for(var s=o.length-2,a=s;e<a;)o[a].y<i?e=a:s=a,a=Math.floor((e+s)/2);var l=[];if(s=e=a,o.length){for(;0<=e&&n(e);)e--;do{s++}while(s<o.length&&n(s))}return l},e.ConnectionDB.prototype.isInYRange_=function(e,t,n){return Math.abs(this.connections_[e].y-t)<=n},e.ConnectionDB.prototype.searchForClosest=function(e,t,n){if(!this.connections_.length)return{connection:null,radius:t};var o=e.y,r=e.x;e.x=r+n.x,e.y=o+n.y;var i=this.calculateIndexForYPos_(e.y);n=null;for(var s,a=t,l=i-1;0<=l&&this.isInYRange_(l,e.y,t);)s=this.connections_[l],this.connectionChecker_.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),l--;for(;i<this.connections_.length&&this.isInYRange_(i,e.y,t);)s=this.connections_[i],this.connectionChecker_.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),i++;return e.x=r,e.y=o,{connection:n,radius:a}},e.ConnectionDB.init=function(t){var n=[];return n[e.connectionTypes.INPUT_VALUE]=new e.ConnectionDB(t),n[e.connectionTypes.OUTPUT_VALUE]=new e.ConnectionDB(t),n[e.connectionTypes.NEXT_STATEMENT]=new e.ConnectionDB(t),n[e.connectionTypes.PREVIOUS_STATEMENT]=new e.ConnectionDB(t),n},e.Events.ThemeChange=function(t,n){e.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=t},e.utils.object.inherits(e.Events.ThemeChange,e.Events.UiBase),e.Events.ThemeChange.prototype.type=e.Events.THEME_CHANGE,e.Events.ThemeChange.prototype.toJson=function(){var t=e.Events.ThemeChange.superClass_.toJson.call(this);return t.themeName=this.themeName,t},e.Events.ThemeChange.prototype.fromJson=function(t){e.Events.ThemeChange.superClass_.fromJson.call(this,t),this.themeName=t.themeName},e.registry.register(e.registry.Type.EVENT,e.Events.THEME_CHANGE,e.Events.ThemeChange),e.Events.ViewportChange=function(t,n,o,r,i){e.Events.ViewportChange.superClass_.constructor.call(this,r),this.viewTop=t,this.viewLeft=n,this.scale=o,this.oldScale=i},e.utils.object.inherits(e.Events.ViewportChange,e.Events.UiBase),e.Events.ViewportChange.prototype.type=e.Events.VIEWPORT_CHANGE,e.Events.ViewportChange.prototype.toJson=function(){var t=e.Events.ViewportChange.superClass_.toJson.call(this);return t.viewTop=this.viewTop,t.viewLeft=this.viewLeft,t.scale=this.scale,t.oldScale=this.oldScale,t},e.Events.ViewportChange.prototype.fromJson=function(t){e.Events.ViewportChange.superClass_.fromJson.call(this,t),this.viewTop=t.viewTop,this.viewLeft=t.viewLeft,this.scale=t.scale,this.oldScale=t.oldScale},e.registry.register(e.registry.Type.EVENT,e.Events.VIEWPORT_CHANGE,e.Events.ViewportChange),e.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_={},this.workspace_=e},e.MarkerManager.LOCAL_MARKER="local_marker_1",e.MarkerManager.prototype.registerMarker=function(e,t){this.markers_[e]&&this.unregisterMarker(e),t.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers_[e]=t},e.MarkerManager.prototype.unregisterMarker=function(e){var t=this.markers_[e];if(!t)throw Error("Marker with id "+e+" does not exist. Can only unregistermarkers that exist.");t.dispose(),delete this.markers_[e]},e.MarkerManager.prototype.getCursor=function(){return this.cursor_},e.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]},e.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},e.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},e.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},e.MarkerManager.prototype.dispose=function(){for(var e,t=Object.keys(this.markers_),n=0;e=t[n];n++)this.unregisterMarker(e);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},e.IMetricsManager=function(){},e.MetricsManager=function(e){this.workspace_=e},e.MetricsManager.prototype.getDimensionsPx_=function(t){var n=0,o=0;return t&&(n=t.getWidth(),o=t.getHeight()),new e.utils.Size(n,o)},e.MetricsManager.prototype.getFlyoutMetrics=function(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},e.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},e.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},e.MetricsManager.prototype.getAbsoluteMetrics=function(){var t=0,n=this.getToolboxMetrics(),o=this.getFlyoutMetrics(!0),r=!!this.workspace_.getToolbox(),i=!!this.workspace_.getFlyout(!0),s=r?n.position:o.position,a=s==e.utils.toolbox.Position.LEFT;return s=s==e.utils.toolbox.Position.TOP,r&&a?t=n.width:i&&a&&(t=o.width),a=0,r&&s?a=n.height:i&&s&&(a=o.height),{top:a,left:t}},e.MetricsManager.prototype.getViewMetrics=function(t){t=t?this.workspace_.scale:1;var n=this.getSvgMetrics(),o=this.getToolboxMetrics(),r=this.getFlyoutMetrics(!0),i=this.workspace_.getToolbox()?o.position:r.position;return this.workspace_.getToolbox()?i==e.utils.toolbox.Position.TOP||i==e.utils.toolbox.Position.BOTTOM?n.height-=o.height:i!=e.utils.toolbox.Position.LEFT&&i!=e.utils.toolbox.Position.RIGHT||(n.width-=o.width):this.workspace_.getFlyout(!0)&&(i==e.utils.toolbox.Position.TOP||i==e.utils.toolbox.Position.BOTTOM?n.height-=r.height:i!=e.utils.toolbox.Position.LEFT&&i!=e.utils.toolbox.Position.RIGHT||(n.width-=r.width)),{height:n.height/t,width:n.width/t,top:-this.workspace_.scrollY/t,left:-this.workspace_.scrollX/t}},e.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}},e.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},e.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var o={};return n||(o.top=e.top,o.bottom=e.top+e.height),t||(o.left=e.left,o.right=e.left+e.width),o},e.MetricsManager.prototype.getPaddedContent_=function(e,t){var n=t.top+t.height,o=t.left+t.width,r=e.width;e=e.height;var i=r/2,s=e/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-i,o-r),right:Math.max(o+i,t.left+r)}},e.MetricsManager.prototype.getScrollMetrics=function(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var o=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,o),o=void 0!==n.top?n.top:t.top;var r=void 0!==n.left?n.left:t.left;return{top:o/e,left:r/e,width:((void 0!==n.right?n.right:t.right)-r)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-o)/e}},e.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},e.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),o=this.getAbsoluteMetrics(),r=this.getViewMetrics(),i=this.getContentMetrics(),s=this.getScrollMetrics(!1,r,i);return{contentHeight:i.height,contentWidth:i.width,contentTop:i.top,contentLeft:i.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:r.height,viewWidth:r.width,viewTop:r.top,viewLeft:r.left,absoluteTop:o.top,absoluteLeft:o.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}},e.registry.register(e.registry.Type.METRICS_MANAGER,e.registry.DEFAULT,e.MetricsManager),e.FlyoutMetricsManager=function(t,n){this.flyout_=n,e.FlyoutMetricsManager.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.FlyoutMetricsManager,e.MetricsManager),e.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e},e.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}},e.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}},e.FlyoutMetricsManager.prototype.getViewMetrics=function(e){var t=this.getSvgMetrics();if(e=e?this.workspace_.scale:1,this.flyout_.horizontalLayout){var n=t.width-2*this.flyout_.SCROLLBAR_PADDING;t=t.height-this.flyout_.SCROLLBAR_PADDING}else n=t.width-this.flyout_.SCROLLBAR_PADDING,t=t.height-2*this.flyout_.SCROLLBAR_PADDING;return{height:t/e,width:n/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},e.FlyoutMetricsManager.prototype.getAbsoluteMetrics=function(){var e=this.flyout_.SCROLLBAR_PADDING;return this.flyout_.horizontalLayout?{top:0,left:e}:{top:e,left:0}},e.PluginManager=function(){this.pluginData_={},this.typeToPluginIds_={}},e.PluginManager.prototype.addPlugin=function(e){this.pluginData_[e.id]=e;for(var t,n=0;t=e.types[n];n++)t=String(t).toLowerCase(),void 0===this.typeToPluginIds_[t]?this.typeToPluginIds_[t]=[e.id]:this.typeToPluginIds_[t].push(e.id)},e.PluginManager.prototype.getPlugin=function(e){return this.pluginData_[e]&&this.pluginData_[e].plugin},e.PluginManager.prototype.getPlugins=function(e,t){if(e=String(e).toLowerCase(),!(e=this.typeToPluginIds_[e]))return[];var n=[];if(t){var o=[],r=this.pluginData_;e.forEach(function(e){o.push(r[e])}),o.sort(function(e,t){return e.weight-t.weight}),o.forEach(function(e){n.push(e.plugin)})}else r=this.pluginData_,e.forEach(function(e){n.push(r[e].plugin)});return n},e.PluginManager.Type=function(e){this.name_=e},e.PluginManager.Type.prototype.toString=function(){return this.name_},e.PluginManager.Type.POSITIONABLE=new e.PluginManager.Type("positionable"),e.ThemeManager=function(e,t){this.workspace_=e,this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},e.ThemeManager.prototype.getTheme=function(){return this.theme_},e.ThemeManager.prototype.setTheme=function(t){var n=this.theme_;for(this.theme_=t,(t=this.workspace_.getInjectionDiv())&&(n&&e.utils.dom.removeClass(t,n.getClassName()),e.utils.dom.addClass(t,this.theme_.getClassName())),n=0;t=this.subscribedWorkspaces_[n];n++)t.refreshTheme();n=0,t=Object.keys(this.componentDB_);for(var o;o=t[n];n++)for(var r,i=0;r=this.componentDB_[o][i];i++){var s=r.element;r=r.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(o);s.style[r]=a||""}e.hideChaff()},e.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},e.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},e.ThemeManager.prototype.subscribe=function(e,t,n){this.componentDB_[t]||(this.componentDB_[t]=[]),this.componentDB_[t].push({element:e,propertyName:n}),t=this.theme_&&this.theme_.getComponentStyle(t),e.style[n]=t||""},e.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var t,n=Object.keys(this.componentDB_),o=0;t=n[o];o++){for(var r=this.componentDB_[t],i=r.length-1;0<=i;i--)r[i].element===e&&r.splice(i,1);this.componentDB_[t].length||delete this.componentDB_[t]}},e.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},e.TouchGesture=function(t,n){e.TouchGesture.superClass_.constructor.call(this,t,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},e.utils.object.inherits(e.TouchGesture,e.Gesture),e.TouchGesture.ZOOM_IN_MULTIPLIER=5,e.TouchGesture.ZOOM_OUT_MULTIPLIER=6,e.TouchGesture.prototype.doStart=function(t){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,e.TouchGesture.superClass_.doStart.call(this,t),!this.isEnding_&&e.Touch.isTouchEvent(t)&&this.handleTouchStart(t)},e.TouchGesture.prototype.bindMouseEvents=function(t){this.onStartWrapper_=e.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),t.preventDefault(),t.stopPropagation()},e.TouchGesture.prototype.handleStart=function(t){!this.isDragging()&&e.Touch.isTouchEvent(t)&&(this.handleTouchStart(t),this.isMultiTouch()&&e.longStop_())},e.TouchGesture.prototype.handleMove=function(t){this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleMove.call(this,t):this.isMultiTouch()?(e.Touch.isTouchEvent(t)&&this.handleTouchMove(t),e.longStop_()):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handleUp=function(t){e.Touch.isTouchEvent(t)&&!this.isDragging()&&this.handleTouchEnd(t),!this.isMultiTouch()||this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleUp.call(this,t):(t.preventDefault(),t.stopPropagation(),this.dispose())},e.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},e.TouchGesture.prototype.dispose=function(){e.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&e.browserEvents.unbind(this.onStartWrapper_)},e.TouchGesture.prototype.handleTouchStart=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[n]=this.getTouchPoint(t),n=Object.keys(this.cachedPoints_),2==n.length&&(this.startDistance_=e.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,t.preventDefault())},e.TouchGesture.prototype.handleTouchMove=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[n]=this.getTouchPoint(t),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(t):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handlePinch_=function(t){var n=Object.keys(this.cachedPoints_);if(n=e.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var o=n-this.previousScale_;o=0<o?o*e.TouchGesture.ZOOM_IN_MULTIPLIER:o*e.TouchGesture.ZOOM_OUT_MULTIPLIER;var r=this.startWorkspace_,i=e.utils.mouseToSvg(t,r.getParentSvg(),r.getInverseScreenCTM());r.zoom(i.x,i.y,o)}this.previousScale_=n,t.preventDefault()},e.TouchGesture.prototype.handleTouchEnd=function(t){t=e.Touch.getTouchIdentifierFromEvent(t),this.cachedPoints_[t]&&delete this.cachedPoints_[t],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},e.TouchGesture.prototype.getTouchPoint=function(t){return this.startWorkspace_?new e.utils.Coordinate(t.pageX?t.pageX:t.changedTouches[0].pageX,t.pageY?t.pageY:t.changedTouches[0].pageY):null},e.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},e.WorkspaceAudio.prototype.lastSound_=null,e.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},e.WorkspaceAudio.prototype.load=function(t,n){if(t.length){try{var o=new e.utils.global.Audio}catch(e){return}for(var r,i=0;i<t.length;i++){var s=t[i],a=s.match(/\.(\w+)$/);if(a&&o.canPlayType("audio/"+a[1])){r=new e.utils.global.Audio(s);break}}r&&r.play&&(this.SOUNDS_[n]=r)}},e.WorkspaceAudio.prototype.preload=function(){for(var t in this.SOUNDS_){var n=this.SOUNDS_[t];n.volume=.01;var o=n.play();if(void 0!==o?o.then(n.pause).catch(function(){}):n.pause(),e.utils.userAgent.IPAD||e.utils.userAgent.IPHONE)break}},e.WorkspaceAudio.prototype.play=function(t,n){var o=this.SOUNDS_[t];o?(t=new Date,null!=this.lastSound_&&t-this.lastSound_<e.SOUND_LIMIT||(this.lastSound_=t,o=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID?o:o.cloneNode(),o.volume=void 0===n?1:n,o.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(t,n)},e.WorkspaceSvg=function(t,n,o){e.WorkspaceSvg.superClass_.constructor.call(this,t),this.metricsManager_=new(e.registry.getClassFromOptions(e.registry.Type.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=t.setMetrics||e.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.pluginManager_=new e.PluginManager,this.connectionDBList=e.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),o&&(this.workspaceDragSurface_=o),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&e.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new e.WorkspaceAudio(t.parentWorkspace),this.grid_=this.options.gridPattern?new e.Grid(this.options.gridPattern,t.gridOptions):null,this.markerManager_=new e.MarkerManager(this),this.toolboxCategoryCallbacks_={},this.flyoutButtonCallbacks_={},e.Variables&&e.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_CATEGORY_NAME,e.Variables.flyoutCategory),e.VariablesDynamic&&e.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_DYNAMIC_CATEGORY_NAME,e.VariablesDynamic.flyoutCategory),e.Procedures&&e.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(e.PROCEDURE_CATEGORY_NAME,e.Procedures.flyoutCategory),this.addChangeListener(e.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new e.ThemeManager(this,this.options.theme||e.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=e.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.cachedParentSvgSize_=new e.utils.Size(0,0)},e.utils.object.inherits(e.WorkspaceSvg,e.Workspace),e.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,e.WorkspaceSvg.prototype.rendered=!0,e.WorkspaceSvg.prototype.isVisible_=!0,e.WorkspaceSvg.prototype.isFlyout=!1,e.WorkspaceSvg.prototype.isMutator=!1,e.WorkspaceSvg.prototype.resizesEnabled_=!0,e.WorkspaceSvg.prototype.scrollX=0,e.WorkspaceSvg.prototype.scrollY=0,e.WorkspaceSvg.prototype.startScrollX=0,e.WorkspaceSvg.prototype.startScrollY=0,e.WorkspaceSvg.prototype.dragDeltaXY_=null,e.WorkspaceSvg.prototype.scale=1,e.WorkspaceSvg.prototype.oldScale_=1,e.WorkspaceSvg.prototype.oldTop_=0,e.WorkspaceSvg.prototype.oldLeft_=0,e.WorkspaceSvg.prototype.trashcan=null,e.WorkspaceSvg.prototype.scrollbar=null,e.WorkspaceSvg.prototype.flyout_=null,e.WorkspaceSvg.prototype.toolbox_=null,e.WorkspaceSvg.prototype.currentGesture_=null,e.WorkspaceSvg.prototype.blockDragSurface_=null,e.WorkspaceSvg.prototype.workspaceDragSurface_=null,e.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,e.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,e.WorkspaceSvg.prototype.injectionDiv_=null,e.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,e.WorkspaceSvg.prototype.targetWorkspace=null,e.WorkspaceSvg.prototype.inverseScreenCTM_=null,e.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,e.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},e.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},e.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},e.WorkspaceSvg.prototype.getPluginManager=function(){return this.pluginManager_},e.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},e.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},e.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},e.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},e.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},e.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},e.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},e.WorkspaceSvg.prototype.setTheme=function(t){t||(t=e.Themes.Classic),this.themeManager_.setTheme(t)},e.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(e){return void 0!==e.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var t=new(e.Events.get(e.Events.THEME_CHANGE))(this.getTheme().name,this.id);e.Events.fire(t)},e.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var t,n=0;t=e[n];n++){var o=t.getStyleName();o&&(t.setStyle(o),t.mutator&&t.mutator.updateBlockStyle())}},e.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},e.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},e.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},e.WorkspaceSvg.prototype.getSvgXY=function(t){var n=0,o=0,r=1;(e.utils.dom.containsNode(this.getCanvas(),t)||e.utils.dom.containsNode(this.getBubbleCanvas(),t))&&(r=this.scale);do{var i=e.utils.getRelativeXY(t);t!=this.getCanvas()&&t!=this.getBubbleCanvas()||(r=1),n+=i.x*r,o+=i.y*r,t=t.parentNode}while(t&&t!=this.getParentSvg());return new e.utils.Coordinate(n,o)},e.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var t=this.cachedParentSvgSize_;return new e.utils.Size(t.width,t.height)},e.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return e.utils.getInjectionDivXY_(this.getCanvas())},e.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},e.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},e.WorkspaceSvg.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyWorkspace"},null),t&&(this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{height:"100%",width:"100%",class:t},this.svgGroup_),"blocklyMainBackground"==t&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(e.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),e.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(e.registry.getClassFromOptions(e.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),(t=e.registry.getClassFromOptions(e.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new t),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},e.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),e.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var t=this.getParentSvg();t&&t.parentNode&&e.utils.dom.removeNode(t.parentNode)}this.resizeHandlerWrapper_&&(e.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},e.WorkspaceSvg.prototype.newBlock=function(t,n){return new e.BlockSvg(this,t,n)},e.WorkspaceSvg.prototype.addTrashcan=function(){if(!e.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new e.Trashcan(this);var t=this.trashcan.createDom();this.svgGroup_.insertBefore(t,this.svgBlockCanvas_),this.pluginManager_.addPlugin({id:"trashcan",plugin:this.trashcan,weight:1,types:[e.PluginManager.Type.POSITIONABLE]})},e.WorkspaceSvg.prototype.addZoomControls=function(){if(!e.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new e.ZoomControls(this);var t=this.zoomControls_.createDom();this.svgGroup_.appendChild(t),this.pluginManager_.addPlugin({id:"zoomControls",plugin:this.zoomControls_,weight:2,types:[e.PluginManager.Type.POSITIONABLE]})},e.WorkspaceSvg.prototype.addFlyout=function(t){var n=new e.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(t)},e.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},e.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},e.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},e.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},e.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var t,n=this.pluginManager_.getPlugins(e.PluginManager.Type.POSITIONABLE,!0),o=this.getMetricsManager().getUiMetrics(),r=[],i=0;t=n[i];i++)t.position(o,r),r.push(t.getBoundingRectangle());this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},e.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var t=e.utils.getDocumentScroll();e.utils.Coordinate.equals(this.lastRecordedPageScroll_,t)||(this.lastRecordedPageScroll_=t,this.updateScreenCalculations_())},e.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,t){var n=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,n.cachedWidth_=e),t&&(this.cachedParentSvgSize_.height=t,n.cachedHeight_=t)},e.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},e.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},e.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(e.Events.isEnabled()){var t=this.scale,n=-this.scrollY,o=-this.scrollX;if(!(t==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(o-this.oldLeft_))){var r=new(e.Events.get(e.Events.VIEWPORT_CHANGE))(n,o,t,this.id,this.oldScale_);this.oldScale_=t,this.oldTop_=n,this.oldLeft_=o,e.Events.fire(r)}}},e.WorkspaceSvg.prototype.translate=function(e,t){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,t);else{var n="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,t,this.scale),this.grid_&&this.grid_.moveTo(e,t),this.maybeFireViewportChangeEvent()},e.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},e.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var t=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),o=parseInt(this.getParentSvg().getAttribute("height"),10),r=e.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),t,n,o,this.scale),this.workspaceDragSurface_.translateSurface(r.x,r.y)}},e.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},e.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},e.WorkspaceSvg.prototype.setVisible=function(t){if(this.isVisible_=t,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(t),this.getFlyout()&&this.getFlyout().setContainerVisible(t),this.getParentSvg().style.display=t?"block":"none",this.toolbox_&&this.toolbox_.setVisible(t),t){t=this.getAllBlocks(!1);for(var n=t.length-1;0<=n;n--)t[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else e.hideChaff(!0)},e.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager_.updateMarkers()},e.WorkspaceSvg.prototype.highlightBlock=function(t,n){if(void 0===n){for(var o,r=0;o=this.highlightedBlocks_[r];r++)o.setHighlighted(!1);this.highlightedBlocks_.length=0}(o=t?this.getBlockById(t):null)&&((t=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(o)&&this.highlightedBlocks_.push(o):e.utils.arrayRemove(this.highlightedBlocks_,o),o.setHighlighted(t))},e.WorkspaceSvg.prototype.paste=function(e){!this.rendered||!e.tagName||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},e.WorkspaceSvg.prototype.pasteBlock_=function(t){e.Events.disable();try{var n=e.Xml.domToBlock(t,this),o=parseInt(t.getAttribute("x"),10),r=parseInt(t.getAttribute("y"),10);if(!isNaN(o)&&!isNaN(r)){this.RTL&&(o=-o);do{t=!1;for(var i,s=this.getAllBlocks(!1),a=0;i=s[a];a++){var l=i.getRelativeToSurfaceXY();if(1>=Math.abs(o-l.x)&&1>=Math.abs(r-l.y)){t=!0;break}}if(!t){var c=n.getConnections_(!1);a=0;for(var u;u=c[a];a++)if(u.closest(e.SNAP_RADIUS,new e.utils.Coordinate(o,r)).connection){t=!0;break}}t&&(o=this.RTL?o-e.SNAP_RADIUS:o+e.SNAP_RADIUS,r+=2*e.SNAP_RADIUS)}while(t);n.moveBy(o,r)}}finally{e.Events.enable()}e.Events.isEnabled()&&!n.isShadow()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(n)),n.select()},e.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(t){e.Events.disable();try{var n=e.WorkspaceCommentSvg.fromXml(t,this),o=parseInt(t.getAttribute("x"),10),r=parseInt(t.getAttribute("y"),10);isNaN(o)||isNaN(r)||(this.RTL&&(o=-o),n.moveBy(o+50,r+50))}finally{e.Events.enable()}e.Events.isEnabled()&&e.WorkspaceComment.fireCreateEvent(n),n.select()},e.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},e.WorkspaceSvg.prototype.renameVariableById=function(t,n){e.WorkspaceSvg.superClass_.renameVariableById.call(this,t,n),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.deleteVariableById=function(t){e.WorkspaceSvg.superClass_.deleteVariableById.call(this,t),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.createVariable=function(t,n,o){return t=e.WorkspaceSvg.superClass_.createVariable.call(this,t,n,o),this.refreshToolboxSelection(),t},e.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_&&"function"==typeof this.toolbox_.getClientRect?this.toolbox_.getClientRect():null},e.WorkspaceSvg.prototype.isDeleteArea=function(t){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(t.clientX,t.clientY)?e.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(t.clientX,t.clientY)?e.DELETE_AREA_TOOLBOX:e.DELETE_AREA_NONE},e.WorkspaceSvg.prototype.onMouseDown_=function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)},e.WorkspaceSvg.prototype.startDrag=function(t,n){t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),t.x/=this.scale,t.y/=this.scale,this.dragDeltaXY_=e.utils.Coordinate.difference(n,t)},e.WorkspaceSvg.prototype.moveDrag=function(t){return t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),t.x/=this.scale,t.y/=this.scale,e.utils.Coordinate.sum(this.dragDeltaXY_,t)},e.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},e.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},e.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},e.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},e.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},e.WorkspaceSvg.prototype.onMouseWheel_=function(t){if(e.Gesture.inProgress())t.preventDefault(),t.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||o){var r=e.utils.getScrollDeltaPixels(t);!n||!t.ctrlKey&&o?(n=this.scrollX-r.x,o=this.scrollY-r.y,t.shiftKey&&!r.x&&(n=this.scrollX-r.y,o=this.scrollY),this.scroll(n,o)):(r=-r.y/50,n=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,r)),t.preventDefault()}}},e.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var t=this.getTopBoundedElements();if(!t.length)return new e.utils.Rect(0,0,0,0);for(var n=t[0].getBoundingRectangle(),o=1;o<t.length;o++){var r=t[o];r.isInsertionMarker&&r.isInsertionMarker()||(r=r.getBoundingRectangle(),r.top<n.top&&(n.top=r.top),r.bottom>n.bottom&&(n.bottom=r.bottom),r.left<n.left&&(n.left=r.left),r.right>n.right&&(n.right=r.right))}return n},e.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),e.Events.setGroup(!0);for(var t,n=this.getTopBlocks(!0),o=0,r=0;t=n[r];r++)if(t.isMovable()){var i=t.getRelativeToSurfaceXY();t.moveBy(-i.x,o-i.y),t.snapToGrid(),o=t.getRelativeToSurfaceXY().y+t.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}e.Events.setGroup(!1),this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.showContextMenu=function(t){if(!this.options.readOnly&&!this.isFlyout){var n=e.ContextMenuRegistry.registry.getContextMenuOptions(e.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,t),e.ContextMenu.show(t,n,this.RTL)}},e.WorkspaceSvg.prototype.updateToolbox=function(t){if(t=e.utils.toolbox.convertToolboxDefToJson(t)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(e.utils.toolbox.hasCategories(t)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=t,this.toolbox_.render(t)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=t,this.flyout_.show(t)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},e.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(e.mainWorkspace=this,this.setBrowserFocus())},e.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},e.WorkspaceSvg.prototype.zoom=function(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var o=this.scale*n;if(this.scale!=o){o>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:o<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var r=this.getCanvas().getCTM(),i=this.getParentSvg().createSVGPoint();i.x=e,i.y=t,i=i.matrixTransform(r.inverse()),e=i.x,t=i.y,r=r.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=r.e,this.scrollY=r.f,this.setScale(o)}},e.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();if(this.flyout_){var n=t.svgWidth?t.svgWidth/2:0;t=t.svgHeight?t.svgHeight/2:0}else n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop;this.zoom(n,t,e)},e.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var t=this.getMetrics(),n=t.viewWidth;t=t.viewHeight;var o=this.getBlocksBoundingBox(),r=o.right-o.left;if(o=o.bottom-o.top,r){this.flyout_&&(this.horizontalLayout?(t+=this.flyout_.getHeight(),o+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),r+=this.flyout_.getWidth()/this.scale)),n/=r,t/=o,e.Events.disable();try{this.setScale(Math.min(n,t)),this.scrollCenter()}finally{e.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.beginCanvasTransition=function(){e.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.endCanvasTransition=function(){e.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),o=this.scale;e=(t.x+(this.RTL?-1:1)*n.width/2)*o,t=(t.y+n.height/2)*o,n=this.getMetrics(),this.scroll(-(e-n.viewWidth/2),-(t-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.setScale=function(t){this.options.zoomOptions.maxScale&&t>this.options.zoomOptions.maxScale?t=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&t<this.options.zoomOptions.minScale&&(t=this.options.zoomOptions.minScale),this.scale=t,e.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),t=this.getMetrics(),this.scrollX-=t.absoluteLeft,this.scrollY-=t.absoluteTop,t.viewLeft+=t.absoluteLeft,t.viewTop+=t.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(t):this.scrollbar.resizeContent(t))},e.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},e.WorkspaceSvg.prototype.scroll=function(t,n){e.hideChaff(!0);var o=this.getMetrics();t=Math.min(t,-o.scrollLeft),n=Math.min(n,-o.scrollTop);var r=o.scrollTop+Math.max(0,o.scrollHeight-o.viewHeight);t=Math.max(t,-(o.scrollLeft+Math.max(0,o.scrollWidth-o.viewWidth))),n=Math.max(n,-r),this.scrollX=t,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(t+o.scrollLeft),-(n+o.scrollTop),!1),t+=o.absoluteLeft,n+=o.absoluteTop,this.translate(t,n)},e.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)},e.WorkspaceSvg.prototype.getBlockById=function(t){return e.WorkspaceSvg.superClass_.getBlockById.call(this,t)},e.WorkspaceSvg.prototype.getTopBlocks=function(t){return e.WorkspaceSvg.superClass_.getTopBlocks.call(this,t)},e.WorkspaceSvg.prototype.addTopBlock=function(t){this.addTopBoundedElement(t),e.WorkspaceSvg.superClass_.addTopBlock.call(this,t)},e.WorkspaceSvg.prototype.removeTopBlock=function(t){this.removeTopBoundedElement(t),e.WorkspaceSvg.superClass_.removeTopBlock.call(this,t)},e.WorkspaceSvg.prototype.addTopComment=function(t){this.addTopBoundedElement(t),e.WorkspaceSvg.superClass_.addTopComment.call(this,t)},e.WorkspaceSvg.prototype.removeTopComment=function(t){this.removeTopBoundedElement(t),e.WorkspaceSvg.superClass_.removeTopComment.call(this,t)},e.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},e.WorkspaceSvg.prototype.removeTopBoundedElement=function(t){e.utils.arrayRemove(this.topBoundedElements_,t)},e.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},e.WorkspaceSvg.prototype.setResizesEnabled=function(e){var t=!this.resizesEnabled_&&e;this.resizesEnabled_=e,t&&this.resizeContents()},e.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),e.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.registerButtonCallback=function(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=t},e.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},e.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},e.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=t},e.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},e.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},e.WorkspaceSvg.prototype.getGesture=function(t){var n="mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type,o=this.currentGesture_;return o?n&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:n?this.currentGesture_=new e.TouchGesture(t,this):null},e.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},e.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},e.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},e.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},e.inject=function(t,n){if(e.checkBlockColourConstants(),"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t||!e.utils.dom.containsNode(document,t))throw Error("Error: container is not in current document.");n=new e.Options(n||{});var o=document.createElement("div");o.className="injectionDiv",o.tabIndex=0,e.utils.aria.setState(o,e.utils.aria.State.LABEL,e.Msg.WORKSPACE_ARIA_LABEL),t.appendChild(o),t=e.createDom_(o,n);var r=new e.BlockDragSurfaceSvg(o),i=new e.WorkspaceDragSurfaceSvg(o),s=e.createMainWorkspace_(t,n,r,i);return e.init_(s),e.mainWorkspace=s,e.svgResize(s),o.addEventListener("focusin",function(){e.mainWorkspace=s}),s},e.createDom_=function(t,n){t.setAttribute("dir","LTR"),e.Css.inject(n.hasCss,n.pathToMedia),t=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},t);var o=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),r=String(Math.random()).substring(2);return n.gridPattern=e.Grid.createDom(r,n.gridOptions,o),t},e.createMainWorkspace_=function(t,n,o,r){return n.parentWorkspace=null,n=new e.WorkspaceSvg(n,o,r),o=n.options,n.scale=o.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground")),e.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),e.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!o.hasCategories&&o.languageTree&&(r=n.addFlyout(e.utils.Svg.SVG),e.utils.dom.insertAfter(r,t)),o.hasTrashcan&&n.addTrashcan(),o.zoomOptions&&o.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(e.bumpIntoBoundsHandler_(n)),e.svgResize(n),e.WidgetDiv.createDom(),e.DropDownDiv.createDom(),e.Tooltip.createDom(),n},e.extractObjectFromEvent_=function(t,n){var o=null;switch(n.type){case e.Events.BLOCK_CREATE:case e.Events.BLOCK_MOVE:(o=t.getBlockById(n.blockId))&&(o=o.getRootBlock());break;case e.Events.COMMENT_CREATE:case e.Events.COMMENT_MOVE:o=t.getCommentById(n.commentId)}return o},e.bumpTopObjectsIntoBounds_=function(t){var n=t.getMetricsManager();if(n.hasFixedEdges()&&!t.isDragging()){n=n.getScrollMetrics(!0);for(var o,r=t.getTopBoundedElements(),i=0;o=r[i];i++)e.bumpObjectIntoBounds_(t,n,o)}},e.bumpIntoBoundsHandler_=function(t){return function(n){var o=t.getMetricsManager();if(o.hasFixedEdges&&!t.isDragging())if(-1!==e.Events.BUMP_EVENTS.indexOf(n.type)){o=o.getScrollMetrics(!0);var r=e.extractObjectFromEvent_(t,n);if(r){var i=e.Events.getGroup();e.Events.setGroup(n.group),e.bumpObjectIntoBounds_(t,o,r)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==i&&e.Events.setGroup(i)}}else n.type===e.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&e.bumpTopObjectsIntoBounds_(t)}},e.bumpObjectIntoBounds_=function(t,n,o){var r=o.getBoundingRectangle(),i=r.right-r.left,s=e.utils.math.clamp(n.top,r.top,n.top+n.height-(r.bottom-r.top))-r.top,a=n.left;return n=n.left+n.width-i,t.RTL?a=Math.min(n,a):n=Math.max(a,n),!(!(t=e.utils.math.clamp(a,r.left,n)-r.left)&&!s)&&(o.moveBy(t,s),!0)},e.init_=function(t){var n=t.options,o=t.getParentSvg();if(e.browserEvents.conditionalBind(o.parentNode,"contextmenu",null,function(t){e.utils.isTargetInput(t)||t.preventDefault()}),o=e.browserEvents.conditionalBind(window,"resize",null,function(){e.hideChaff(!0),e.svgResize(t),e.bumpTopObjectsIntoBounds_(t)}),t.setResizeHandlerWrapper(o),e.inject.bindDocumentEvents_(),n.languageTree){o=t.getToolbox();var r=t.getFlyout(!0);o?o.init():r&&(r.init(t),r.show(n.languageTree),"function"==typeof r.scrollToStart&&r.scrollToStart())}o=e.Scrollbar.scrollbarThickness,n.hasTrashcan&&(o=t.trashcan.init(o)),n.zoomOptions&&n.zoomOptions.controls&&t.zoomControls_.init(o),n.moveOptions&&n.moveOptions.scrollbars?(t.scrollbar=new e.ScrollbarPair(t,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),n.hasSounds&&e.inject.loadSounds_(n.pathToMedia,t)},e.inject.bindDocumentEvents_=function(){e.documentEventsBound_||(e.browserEvents.conditionalBind(document,"scroll",null,function(){for(var t,n=e.Workspace.getAll(),o=0;t=n[o];o++)t.updateInverseScreenCTM&&t.updateInverseScreenCTM()}),e.browserEvents.conditionalBind(document,"keydown",null,e.onKeyDown),e.browserEvents.bind(document,"touchend",null,e.longStop_),e.browserEvents.bind(document,"touchcancel",null,e.longStop_),e.utils.userAgent.IPAD&&e.browserEvents.conditionalBind(window,"orientationchange",document,function(){e.svgResize(e.getMainWorkspace())})),e.documentEventsBound_=!0},e.inject.loadSounds_=function(t,n){var o=n.getAudioManager();o.load([t+"click.mp3",t+"click.wav",t+"click.ogg"],"click"),o.load([t+"disconnect.wav",t+"disconnect.mp3",t+"disconnect.ogg"],"disconnect"),o.load([t+"delete.mp3",t+"delete.ogg",t+"delete.wav"],"delete");var r=[];t=function(){for(;r.length;)e.browserEvents.unbind(r.pop());o.preload()},r.push(e.browserEvents.conditionalBind(document,"mousemove",null,t,!0)),r.push(e.browserEvents.conditionalBind(document,"touchstart",null,t,!0))},e.Names=function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),t=0;t<e.length;t++)this.reservedDict_[e[t]]=!0;this.reset()},e.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",e.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},e.Names.prototype.setVariableMap=function(e){this.variableMap_=e},e.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},e.Names.prototype.getName=function(t,n){if(n==e.VARIABLE_CATEGORY_NAME){var o=this.getNameForUserVariable_(t);o&&(t=o)}o=t.toLowerCase()+"_"+n;var r=n==e.VARIABLE_CATEGORY_NAME||n==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";return o in this.db_?r+this.db_[o]:(t=this.getDistinctName(t,n),this.db_[o]=t.substr(r.length),t)},e.Names.prototype.getDistinctName=function(t,n){t=this.safeName_(t);for(var o="";this.dbReverse_[t+o]||t+o in this.reservedDict_;)o=o?o+1:2;return t+=o,this.dbReverse_[t]=!0,(n==e.VARIABLE_CATEGORY_NAME||n==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+t},e.Names.prototype.safeName_=function(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(t[0])&&(t="my_"+t)):t=e.Msg.UNNAMED_KEY||"unnamed",t},e.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},e.Procedures={},e.Procedures.NAME_TYPE=e.PROCEDURE_CATEGORY_NAME,e.Procedures.DEFAULT_ARG="x",e.Procedures.allProcedures=function(t){var n=t.getBlocksByType("procedures_defnoreturn",!1).map(function(e){return e.getProcedureDef()});return t=t.getBlocksByType("procedures_defreturn",!1).map(function(e){return e.getProcedureDef()}),n.sort(e.Procedures.procTupleComparator_),t.sort(e.Procedures.procTupleComparator_),[n,t]},e.Procedures.procTupleComparator_=function(e,t){return e[0].toLowerCase().localeCompare(t[0].toLowerCase())},e.Procedures.findLegalName=function(t,n){if(n.isInFlyout)return t;for(t=t||e.Msg.UNNAMED_KEY||"unnamed";!e.Procedures.isLegalName_(t,n.workspace,n);){var o=t.match(/^(.*?)(\d+)$/);t=o?o[1]+(parseInt(o[2],10)+1):t+"2"}return t},e.Procedures.isLegalName_=function(t,n,o){return!e.Procedures.isNameUsed(t,n,o)},e.Procedures.isNameUsed=function(t,n,o){n=n.getAllBlocks(!1);for(var r=0;r<n.length;r++)if(n[r]!=o&&n[r].getProcedureDef){var i=n[r].getProcedureDef();if(e.Names.equals(i[0],t))return!0}return!1},e.Procedures.rename=function(t){t=t.trim();var n=e.Procedures.findLegalName(t,this.getSourceBlock()),o=this.getValue();if(o!=t&&o!=n){t=this.getSourceBlock().workspace.getAllBlocks(!1);for(var r=0;r<t.length;r++)t[r].renameProcedure&&t[r].renameProcedure(o,n)}return n},e.Procedures.flyoutCategory=function(t){function n(t,n){for(var r=0;r<t.length;r++){var i=t[r][0],s=t[r][1],a=e.utils.xml.createElement("block");a.setAttribute("type",n),a.setAttribute("gap",16);var l=e.utils.xml.createElement("mutation");for(l.setAttribute("name",i),a.appendChild(l),i=0;i<s.length;i++){var c=e.utils.xml.createElement("arg");c.setAttribute("name",s[i]),l.appendChild(c)}o.push(a)}}var o=[];if(e.Blocks.procedures_defnoreturn){var r=e.utils.xml.createElement("block");r.setAttribute("type","procedures_defnoreturn"),r.setAttribute("gap",16);var i=e.utils.xml.createElement("field");i.setAttribute("name","NAME"),i.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),r.appendChild(i),o.push(r)}return e.Blocks.procedures_defreturn&&(r=e.utils.xml.createElement("block"),r.setAttribute("type","procedures_defreturn"),r.setAttribute("gap",16),i=e.utils.xml.createElement("field"),i.setAttribute("name","NAME"),i.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),r.appendChild(i),o.push(r)),e.Blocks.procedures_ifreturn&&(r=e.utils.xml.createElement("block"),r.setAttribute("type","procedures_ifreturn"),r.setAttribute("gap",16),o.push(r)),o.length&&o[o.length-1].setAttribute("gap",24),t=e.Procedures.allProcedures(t),n(t[0],"procedures_callnoreturn"),n(t[1],"procedures_callreturn"),o},e.Procedures.updateMutatorFlyout_=function(t){for(var n,o=[],r=t.getBlocksByType("procedures_mutatorarg",!1),i=0;n=r[i];i++)o.push(n.getFieldValue("NAME"));r=e.utils.xml.createElement("xml"),i=e.utils.xml.createElement("block"),i.setAttribute("type","procedures_mutatorarg"),n=e.utils.xml.createElement("field"),n.setAttribute("name","NAME"),o=e.Variables.generateUniqueNameFromOptions(e.Procedures.DEFAULT_ARG,o),o=e.utils.xml.createTextNode(o),n.appendChild(o),i.appendChild(n),r.appendChild(i),t.updateToolbox(r)},e.Procedures.mutatorOpenListener=function(t){if(t.type==e.Events.BUBBLE_OPEN&&"mutator"===t.bubbleType&&t.isOpen){t=e.Workspace.getById(t.workspaceId).getBlockById(t.blockId);var n=t.type;"procedures_defnoreturn"!=n&&"procedures_defreturn"!=n||(t=t.mutator.getWorkspace(),e.Procedures.updateMutatorFlyout_(t),t.addChangeListener(e.Procedures.mutatorChangeListener_))}},e.Procedures.mutatorChangeListener_=function(t){t.type!=e.Events.BLOCK_CREATE&&t.type!=e.Events.BLOCK_DELETE&&t.type!=e.Events.BLOCK_CHANGE||(t=e.Workspace.getById(t.workspaceId),e.Procedures.updateMutatorFlyout_(t))},e.Procedures.getCallers=function(t,n){var o=[];n=n.getAllBlocks(!1);for(var r=0;r<n.length;r++)if(n[r].getProcedureCall){var i=n[r].getProcedureCall();i&&e.Names.equals(i,t)&&o.push(n[r])}return o},e.Procedures.mutateCallers=function(t){var n=e.Events.recordUndo,o=t.getProcedureDef()[0],r=t.mutationToDom(!0);t=e.Procedures.getCallers(o,t.workspace),o=0;for(var i;i=t[o];o++){var s=i.mutationToDom();s=s&&e.Xml.domToText(s),i.domToMutation(r);var a=i.mutationToDom();a=a&&e.Xml.domToText(a),s!=a&&(e.Events.recordUndo=!1,e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(i,"mutation",null,s,a)),e.Events.recordUndo=n)}},e.Procedures.getDefinition=function(t,n){n=n.getTopBlocks(!1);for(var o=0;o<n.length;o++)if(n[o].getProcedureDef){var r=n[o].getProcedureDef();if(r&&e.Names.equals(r[0],t))return n[o]}return null},e.ShortcutRegistry=function(){e.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},e.ShortcutRegistry.modifierKeys={Shift:e.utils.KeyCodes.SHIFT,Control:e.utils.KeyCodes.CTRL,Alt:e.utils.KeyCodes.ALT,Meta:e.utils.KeyCodes.META},e.ShortcutRegistry.prototype.register=function(e,t){if(this.registry_[e.name]&&!t)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},e.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},e.ShortcutRegistry.prototype.addKeyMapping=function(e,t,n){e=String(e);var o=this.keyMap_[e];if(o&&!n)throw Error('Shortcut with name "'+t+'" collides with shortcuts '+o.toString());o&&n?o.unshift(t):this.keyMap_[e]=[t]},e.ShortcutRegistry.prototype.removeKeyMapping=function(e,t,n){var o=this.keyMap_[e];if(!o&&!n)return console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1;var r=o.indexOf(t);return-1<r?(o.splice(r,1),0==o.length&&delete this.keyMap_[e],!0):(n||console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1)},e.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var t in this.keyMap_)this.removeKeyMapping(t,e,!0)},e.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},e.ShortcutRegistry.prototype.getKeyMap=function(){return e.utils.object.deepMerge(Object.create(null),this.keyMap_)},e.ShortcutRegistry.prototype.getRegistry=function(){return e.utils.object.deepMerge(Object.create(null),this.registry_)},e.ShortcutRegistry.prototype.onKeyDown=function(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(var o,r=0;o=n[r];r++)if(o=this.registry_[o],(!o.preconditionFn||o.preconditionFn(e))&&o.callback&&o.callback(e,t,o))return!0;return!1},e.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},e.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var t,n=[];for(t in this.keyMap_)-1<this.keyMap_[t].indexOf(e)&&n.push(t);return n},e.ShortcutRegistry.prototype.serializeKeyEvent_=function(t){var n,o="";for(n in e.ShortcutRegistry.modifierKeys)t.getModifierState(n)&&(""!=o&&(o+="+"),o+=n);return""!=o&&t.keyCode?o=o+"+"+t.keyCode:t.keyCode&&(o=t.keyCode.toString()),o},e.ShortcutRegistry.prototype.checkModifiers_=function(t){for(var n,o=e.utils.object.values(e.ShortcutRegistry.modifierKeys),r=0;n=t[r];r++)if(0>o.indexOf(n))throw Error(n+" is not a valid modifier key.")},e.ShortcutRegistry.prototype.createSerializedKey=function(t,n){var o="";if(n){this.checkModifiers_(n);for(var r in e.ShortcutRegistry.modifierKeys)-1<n.indexOf(e.ShortcutRegistry.modifierKeys[r])&&(""!=o&&(o+="+"),o+=r)}return""!=o&&t?o=o+"+"+t:t&&(o=t.toString()),o},new e.ShortcutRegistry,e.VariableModel=function(t,n,o,r){this.workspace=t,this.name=n,this.type=o||"",this.id_=r||e.utils.genUid(),e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(this))},e.VariableModel.prototype.getId=function(){return this.id_},e.VariableModel.compareByName=function(e,t){return e=e.name.toLowerCase(),t=t.name.toLowerCase(),e<t?-1:e==t?0:1},e.Variables={},e.Variables.NAME_TYPE=e.VARIABLE_CATEGORY_NAME,e.Variables.allUsedVarModels=function(e){var t=e.getAllBlocks(!1);e=Object.create(null);for(var n=0;n<t.length;n++){var o=t[n].getVarModels();if(o)for(var r=0;r<o.length;r++){var i=o[r],s=i.getId();s&&(e[s]=i)}}t=[];for(s in e)t.push(e[s]);return t},e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},e.Variables.allDeveloperVariables=function(t){t=t.getAllBlocks(!1);for(var n,o=Object.create(null),r=0;n=t[r];r++){var i=n.getDeveloperVariables;if(!i&&n.getDeveloperVars&&(i=n.getDeveloperVars,e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+n.type+"')"),e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]=!0)),i)for(n=i(),i=0;i<n.length;i++)o[n[i]]=!0}return Object.keys(o)},e.Variables.flyoutCategory=function(t){var n=[],o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace())}),n.push(o),t=e.Variables.flyoutCategoryBlocks(t),n=n.concat(t)},e.Variables.flyoutCategoryBlocks=function(t){t=t.getVariablesOfType("");var n=[];if(0<t.length){var o=t[t.length-1];if(e.Blocks.variables_set){var r=e.utils.xml.createElement("block");r.setAttribute("type","variables_set"),r.setAttribute("gap",e.Blocks.math_change?8:24),r.appendChild(e.Variables.generateVariableFieldDom(o)),n.push(r)}if(e.Blocks.math_change&&(r=e.utils.xml.createElement("block"),r.setAttribute("type","math_change"),r.setAttribute("gap",e.Blocks.variables_get?20:8),r.appendChild(e.Variables.generateVariableFieldDom(o)),o=e.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),r.appendChild(o),n.push(r)),e.Blocks.variables_get){t.sort(e.VariableModel.compareByName),o=0;for(var i;i=t[o];o++)r=e.utils.xml.createElement("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap",8),r.appendChild(e.Variables.generateVariableFieldDom(i)),n.push(r)}}return n},e.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",e.Variables.generateUniqueName=function(t){return e.Variables.generateUniqueNameFromOptions(e.Variables.VAR_LETTER_OPTIONS.charAt(0),t.getAllVariableNames())},e.Variables.generateUniqueNameFromOptions=function(t,n){if(!n.length)return t;for(var o=e.Variables.VAR_LETTER_OPTIONS,r="",i=o.indexOf(t);;){for(var s=!1,a=0;a<n.length;a++)if(n[a].toLowerCase()==t){s=!0;break}if(!s)return t;i++,i==o.length&&(i=0,r=Number(r)+1),t=o.charAt(i)+r}},e.Variables.createVariableButtonHandler=function(t,n,o){var r=o||"";!function o(i){e.Variables.promptName(e.Msg.NEW_VARIABLE_TITLE,i,function(i){if(i){var s=e.Variables.nameUsedWithAnyType(i,t);if(s){if(s.type==r)var a=e.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s.name);else a=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,a=a.replace("%1",s.name).replace("%2",s.type);e.alert(a,function(){o(i)})}else t.createVariable(i,r),n&&n(i)}else n&&n(null)})}("")},e.Variables.createVariable=e.Variables.createVariableButtonHandler,e.Variables.renameVariable=function(t,n,o){!function r(i){var s=e.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);e.Variables.promptName(s,i,function(i){if(i){var s=e.Variables.nameUsedWithOtherType_(i,n.type,t);s?(s=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.name).replace("%2",s.type),e.alert(s,function(){r(i)})):(t.renameVariableById(n.getId(),i),o&&o(i))}else o&&o(null)})}("")},e.Variables.promptName=function(t,n,o){e.prompt(t,n,function(t){t&&((t=t.replace(/[\s\xa0]+/g," ").trim())==e.Msg.RENAME_VARIABLE||t==e.Msg.NEW_VARIABLE)&&(t=null),o(t)})},e.Variables.nameUsedWithOtherType_=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var o,r=0;o=n[r];r++)if(o.name.toLowerCase()==e&&o.type!=t)return o;return null},e.Variables.nameUsedWithAnyType=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,o=0;n=t[o];o++)if(n.name.toLowerCase()==e)return n;return null},e.Variables.generateVariableFieldDom=function(t){var n=e.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",t.getId()),n.setAttribute("variabletype",t.type),t=e.utils.xml.createTextNode(t.name),n.appendChild(t),n},e.Variables.getOrCreateVariablePackage=function(t,n,o,r){var i=e.Variables.getVariable(t,n,o,r);return i||(i=e.Variables.createVariable_(t,n,o,r)),i},e.Variables.getVariable=function(e,t,n,o){var r=e.getPotentialVariableMap(),i=null;if(t&&(i=e.getVariableById(t),!i&&r&&(i=r.getVariableById(t)),i))return i;if(n){if(void 0==o)throw Error("Tried to look up a variable by name without a type");i=e.getVariable(n,o),!i&&r&&(i=r.getVariable(n,o))}return i},e.Variables.createVariable_=function(t,n,o,r){var i=t.getPotentialVariableMap();return o||(o=e.Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),i?i.createVariable(o,r,n):t.createVariable(o,r,n)},e.Variables.getAddedVariables=function(e,t){e=e.getAllVariables();var n=[];if(t.length!=e.length)for(var o=0;o<e.length;o++){var r=e[o];-1==t.indexOf(r)&&n.push(r)}return n},e.VERSION="5.20210325.1",e.mainWorkspace=null,e.selected=null,e.draggingConnections=[],e.clipboardXml_=null,e.clipboardSource_=null,e.clipboardTypeCounts_=null,e.cache3dSupported_=null,e.parentContainer=null,e.svgSize=function(t){return e.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new e.utils.Size(t.cachedWidth_,t.cachedHeight_)},e.resizeSvgContents=function(e){e.resizeContents()},e.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),n=e.getCachedParentSvgSize(),o=t.parentNode;if(o){var r=o.offsetWidth;o=o.offsetHeight,n.width!=r&&(t.setAttribute("width",r+"px"),e.setCachedParentSvgSize(r,null)),n.height!=o&&(t.setAttribute("height",o+"px"),e.setCachedParentSvgSize(null,o)),e.resize()}},e.onKeyDown=function(t){var n=e.mainWorkspace;n&&!(e.utils.isTargetInput(t)||n.rendered&&!n.isVisible())&&e.ShortcutRegistry.registry.onKeyDown(n,t)},e.deleteBlock=function(t){t.workspace.isFlyout||(e.Events.setGroup(!0),e.hideChaff(),t.dispose(!0,!0),e.Events.setGroup(!1))},e.copy=function(t){(t=t.toCopyData())&&(e.clipboardXml_=t.xml,e.clipboardSource_=t.source,e.clipboardTypeCounts_=t.typeCounts)},e.paste=function(){if(!e.clipboardXml_)return!1;var t=e.clipboardSource_;return t.isFlyout&&(t=t.targetWorkspace),!(!e.clipboardTypeCounts_||!t.isCapacityAvailable(e.clipboardTypeCounts_))&&(e.Events.setGroup(!0),t.paste(e.clipboardXml_),e.Events.setGroup(!1),!0)},e.duplicate=function(t){var n=e.clipboardXml_,o=e.clipboardSource_;e.copy(t),t.workspace.paste(e.clipboardXml_),e.clipboardXml_=n,e.clipboardSource_=o},e.onContextMenu_=function(t){e.utils.isTargetInput(t)||t.preventDefault()},e.hideChaff=function(t){e.Tooltip.hide(),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation(),t||(t=e.getMainWorkspace(),t.trashcan&&t.trashcan.flyout&&t.trashcan.closeFlyout(),(t=t.getToolbox())&&t.getFlyout()&&t.getFlyout().autoClose&&t.clearSelection())},e.getMainWorkspace=function(){return e.mainWorkspace},e.alert=function(e,t){alert(e),t&&t()},e.confirm=function(e,t){t(confirm(e))},e.prompt=function(e,t,n){n(prompt(e,t))},e.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},e.defineBlocksWithJsonArray=function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o){var r=o.type;null==r||""===r?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(e.Blocks[r]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+r+'".'),e.Blocks[r]={init:e.jsonInitFactory_(o)})}else console.warn("Block definition #"+n+" in JSON array is "+o+". Skipping.")}},e.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},e.hueToHex=function(t){return e.utils.colour.hsvToHex(t,e.HSV_SATURATION,255*e.HSV_VALUE)},e.checkBlockColourConstants=function(){e.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),e.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),e.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),e.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),e.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),e.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),e.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),e.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),e.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),e.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),e.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),e.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),e.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),e.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),e.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),e.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},e.checkBlockColourConstant_=function(t,n,o){for(var r="Blockly",i=e,s=0;s<n.length;++s)r+="."+n[s],i&&(i=i[n[s]]);i&&i!==o&&(t=(void 0===o?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",r).replace("%2",t),console.warn(t))},e.setParentContainer=function(t){e.parentContainer=t},e.bindEvent_=e.browserEvents.bind,e.unbindEvent_=e.browserEvents.unbind,e.bindEventWithChecks_=e.browserEvents.conditionalBind,e.ALIGN_LEFT=e.constants.ALIGN.LEFT,e.ALIGN_CENTRE=e.constants.ALIGN.CENTRE,e.ALIGN_RIGHT=e.constants.ALIGN.RIGHT,e.INPUT_VALUE=e.connectionTypes.INPUT_VALUE,e.OUTPUT_VALUE=e.connectionTypes.OUTPUT_VALUE,e.NEXT_STATEMENT=e.connectionTypes.NEXT_STATEMENT,e.PREVIOUS_STATEMENT=e.connectionTypes.PREVIOUS_STATEMENT,e.DUMMY_INPUT=e.inputTypes.DUMMY,e.TOOLBOX_AT_TOP=e.utils.toolbox.Position.TOP,e.TOOLBOX_AT_BOTTOM=e.utils.toolbox.Position.BOTTOM,e.TOOLBOX_AT_LEFT=e.utils.toolbox.Position.LEFT,e.TOOLBOX_AT_RIGHT=e.utils.toolbox.Position.RIGHT,e.Events.BubbleOpen=function(t,n,o){e.Events.BubbleOpen.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.isOpen=n,this.bubbleType=o},e.utils.object.inherits(e.Events.BubbleOpen,e.Events.UiBase),e.Events.BubbleOpen.prototype.type=e.Events.BUBBLE_OPEN,e.Events.BubbleOpen.prototype.toJson=function(){var t=e.Events.BubbleOpen.superClass_.toJson.call(this);return t.isOpen=this.isOpen,t.bubbleType=this.bubbleType,t.blockId=this.blockId,t},e.Events.BubbleOpen.prototype.fromJson=function(t){e.Events.BubbleOpen.superClass_.fromJson.call(this,t),this.isOpen=t.isOpen,this.bubbleType=t.bubbleType,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.BUBBLE_OPEN,e.Events.BubbleOpen),e.Icon=function(e){this.block_=e,this.iconGroup_=null},e.Icon.prototype.collapseHidden=!0,e.Icon.prototype.SIZE=17,e.Icon.prototype.bubble_=null,e.Icon.prototype.iconXY_=null,e.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),e.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},e.Icon.prototype.dispose=function(){e.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},e.Icon.prototype.updateEditable=function(){},e.Icon.prototype.isVisible=function(){return!!this.bubble_},e.Icon.prototype.iconClick_=function(t){this.block_.workspace.isDragging()||this.block_.isInFlyout||e.utils.isRightButton(t)||this.setVisible(!this.isVisible())},e.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},e.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},e.Icon.prototype.computeIconLocation=function(){var t=this.block_.getRelativeToSurfaceXY(),n=e.utils.getRelativeXY(this.iconGroup_);t=new e.utils.Coordinate(t.x+n.x+this.SIZE/2,t.y+n.y+this.SIZE/2),e.utils.Coordinate.equals(this.getIconLocation(),t)||this.setIconLocation(t)},e.Icon.prototype.getIconLocation=function(){return this.iconXY_},e.Icon.prototype.getCorrectedSize=function(){return new e.utils.Size(e.Icon.prototype.SIZE,e.Icon.prototype.SIZE-2)},e.Warning=function(t){e.Warning.superClass_.constructor.call(this,t),this.createIcon(),this.text_={}},e.utils.object.inherits(e.Warning,e.Icon),e.Warning.prototype.collapseHidden=!1,e.Warning.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},t)},e.Warning.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"warning")),t?this.createBubble_():this.disposeBubble_())},e.Warning.prototype.createBubble_=function(){this.paragraphElement_=e.Bubble.textToDom(this.getText()),this.bubble_=e.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},e.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},e.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},e.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},e.Warning.prototype.dispose=function(){this.block_.warning=null,e.Icon.prototype.dispose.call(this)},e.Comment=function(t){e.Comment.superClass_.constructor.call(this,t),this.model_=t.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},e.utils.object.inherits(e.Comment,e.Icon),e.Comment.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},t)},e.Comment.prototype.createEditor_=function(){this.foreignObject_=e.utils.dom.createSvgElement(e.utils.Svg.FOREIGNOBJECT,{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null);var t=document.createElementNS(e.utils.dom.HTML_NS,"body");t.setAttribute("xmlns",e.utils.dom.HTML_NS),t.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(e.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),t.appendChild(n),this.foreignObject_.appendChild(t),this.onMouseUpWrapper_=e.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=e.browserEvents.conditionalBind(n,"wheel",this,function(e){e.stopPropagation()}),this.onChangeWrapper_=e.browserEvents.conditionalBind(n,"change",this,function(t){this.cachedText_!=this.model_.text&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=e.browserEvents.conditionalBind(n,"input",this,function(e){this.model_.text=n.value}),setTimeout(n.focus.bind(n),0),this.foreignObject_},e.Comment.prototype.updateEditable=function(){e.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},e.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},e.Comment.prototype.resizeTextarea_=function(){var t=this.model_.size,n=2*e.Bubble.BORDER_WIDTH,o=t.width-n;t=t.height-n,this.foreignObject_.setAttribute("width",o),this.foreignObject_.setAttribute("height",t),this.textarea_.style.width=o-4+"px",this.textarea_.style.height=t-4+"px"},e.Comment.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"comment")),(this.model_.pinned=t)?this.createBubble_():this.disposeBubble_())},e.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||e.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},e.Comment.prototype.createEditableBubble_=function(){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},e.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=e.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=e.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},e.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(e.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(e.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(e.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(e.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},e.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},e.Comment.prototype.getBubbleSize=function(){return this.model_.size},e.Comment.prototype.setBubbleSize=function(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model_.size.width=e,this.model_.size.height=t)},e.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},e.Comment.prototype.dispose=function(){this.block_.comment=null,e.Icon.prototype.dispose.call(this)},e.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),e.Flyout=function(t){t.setMetrics=this.setMetrics_.bind(this),this.workspace_=new e.WorkspaceSvg(t),this.workspace_.setMetricsManager(new e.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.RTL=!!t.RTL,this.horizontalLayout=!1,this.toolboxPosition_=t.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},e.Flyout.prototype.autoClose=!0,e.Flyout.prototype.isVisible_=!1,e.Flyout.prototype.containerVisible_=!0,e.Flyout.prototype.CORNER_RADIUS=8,e.Flyout.prototype.MARGIN=e.Flyout.prototype.CORNER_RADIUS,e.Flyout.prototype.GAP_X=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.GAP_Y=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.SCROLLBAR_PADDING=2,e.Flyout.prototype.width_=0,e.Flyout.prototype.height_=0,e.Flyout.prototype.dragAngleRange_=70,e.Flyout.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(t,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},e.Flyout.prototype.init=function(t){this.targetWorkspace=t,this.workspace_.targetWorkspace=t,this.workspace_.scrollbar=new e.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,e.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,e.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap()},e.Flyout.prototype.dispose=function(){this.hide(),e.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},e.Flyout.prototype.getWidth=function(){return this.width_},e.Flyout.prototype.getHeight=function(){return this.height_},e.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},e.Flyout.prototype.getWorkspace=function(){return this.workspace_},e.Flyout.prototype.isVisible=function(){return this.isVisible_},e.Flyout.prototype.setVisible=function(e){var t=e!=this.isVisible();this.isVisible_=e,t&&this.updateDisplay_()},e.Flyout.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},e.Flyout.prototype.positionAt_=function(t,n,o,r){this.svgGroup_.setAttribute("width",t),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(t,n),"svg"==this.svgGroup_.tagName?e.utils.dom.setCssTransform(this.svgGroup_,"translate("+o+"px,"+r+"px)"):this.svgGroup_.setAttribute("transform","translate("+o+","+r+")"),(t=this.workspace_.scrollbar)&&(t.setOrigin(o,r),t.resize(),t.hScroll&&t.hScroll.setPosition(t.hScroll.position.x,t.hScroll.position.y),t.vScroll&&t.vScroll.setPosition(t.vScroll.position.x,t.vScroll.position.y))},e.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var t,n=0;t=this.listeners_[n];n++)e.browserEvents.unbind(t);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},e.Flyout.prototype.show=function(t){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof t&&(t=this.getDynamicCategoryContents_(t)),this.setVisible(!0),t=e.utils.toolbox.convertFlyoutDefToJsonArray(t),t=this.createFlyoutInfo_(t),this.layout_(t.contents,t.gaps),this.listeners_.push(e.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,function(){for(var e,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)e.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.createFlyoutInfo_=function(t){var n=[],o=[];this.permanentlyDisabled_.length=0;for(var r,i=this.horizontalLayout?this.GAP_X:this.GAP_Y,s=0;r=t[s];s++)switch(r.custom&&(r=this.getDynamicCategoryContents_(r.custom),r=e.utils.toolbox.convertFlyoutDefToJsonArray(r),t.splice.apply(t,[s,1].concat(r)),r=t[s]),r.kind.toUpperCase()){case"BLOCK":var a=r,l=this.getBlockXml_(a);r=this.createBlock_(l),a=parseInt(a.gap||l.getAttribute("gap"),10),o.push(isNaN(a)?i:a),n.push({type:"block",block:r});break;case"SEP":this.addSeparatorGap_(r,o,i);break;case"LABEL":r=this.createButton_(r,!0),n.push({type:"button",button:r}),o.push(i);break;case"BUTTON":r=this.createButton_(r,!1),n.push({type:"button",button:r}),o.push(i)}return{contents:n,gaps:o}},e.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw new TypeError("Result of toolbox category callback must be an array.");return e},e.Flyout.prototype.createButton_=function(t,n){if(!e.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new e.FlyoutButton(this.workspace_,this.targetWorkspace,t,n)},e.Flyout.prototype.createBlock_=function(t){return t=e.Xml.domToBlock(t,this.workspace_),t.isEnabled()||this.permanentlyDisabled_.push(t),t},e.Flyout.prototype.getBlockXml_=function(t){var n=null,o=t.blockxml;if(o&&"string"!=typeof o?n=o:o&&"string"==typeof o?(n=e.Xml.textToDom(o),t.blockxml=n):t.type&&(n=e.utils.xml.createElement("xml"),n.setAttribute("type",t.type),n.setAttribute("disabled",t.disabled),t.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},e.Flyout.prototype.addSeparatorGap_=function(e,t,n){e=parseInt(e.gap,10),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)},e.Flyout.prototype.clearOldBlocks_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),o=0;t=n[o];o++)t.workspace==this.workspace_&&t.dispose(!1,!1);for(o=0;o<this.mats_.length;o++)(n=this.mats_[o])&&(e.Tooltip.unbindMouseEvents(n),e.utils.dom.removeNode(n));for(o=this.mats_.length=0;n=this.buttons_[o];o++)n.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},e.Flyout.prototype.addBlockListeners_=function(t,n,o){this.listeners_.push(e.browserEvents.conditionalBind(t,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(e.browserEvents.conditionalBind(o,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(e.browserEvents.bind(t,"mouseenter",n,n.addSelect)),this.listeners_.push(e.browserEvents.bind(t,"mouseleave",n,n.removeSelect)),this.listeners_.push(e.browserEvents.bind(o,"mouseenter",n,n.addSelect)),this.listeners_.push(e.browserEvents.bind(o,"mouseleave",n,n.removeSelect))},e.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(n){var o=t.targetWorkspace.getGesture(n);o&&(o.setStartBlock(e),o.handleFlyoutStart(n,t))}},e.Flyout.prototype.onMouseDown_=function(e){var t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)},e.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},e.Flyout.prototype.createBlock=function(t){var n=null;e.Events.disable();var o=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(t)}finally{e.Events.enable()}if(e.hideChaff(),t=e.Variables.getAddedVariables(this.targetWorkspace,o),e.Events.isEnabled()){for(e.Events.setGroup(!0),o=0;o<t.length;o++){var r=t[o];e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(r))}e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},e.Flyout.prototype.initFlyoutButton_=function(t,n,o){var r=t.createDom();t.moveTo(n,o),t.show(),this.listeners_.push(e.browserEvents.conditionalBind(r,"mousedown",this,this.onMouseDown_)),this.buttons_.push(t)},e.Flyout.prototype.createRect_=function(t,n,o,r,i){return n=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{"fill-opacity":0,x:n,y:o,height:r.height,width:r.width},null),n.tooltip=t,e.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,t.getSvgRoot()),t.flyoutRect_=n,this.mats_[i]=n},e.Flyout.prototype.moveRectToBlock_=function(e,t){var n=t.getHeightWidth();e.setAttribute("width",n.width),e.setAttribute("height",n.height),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y),e.setAttribute("x",this.RTL?t.x-n.width:t.x)},e.Flyout.prototype.filterForCapacity_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),o=0;t=n[o];o++)if(-1==this.permanentlyDisabled_.indexOf(t))for(var r=this.targetWorkspace.isCapacityAvailable(e.utils.getBlockTypeCounts(t));t;)t.setEnabled(r),t=t.getNextBlock()},e.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},e.Flyout.prototype.placeNewBlock_=function(t){var n=this.targetWorkspace;if(!t.getSvgRoot())throw Error("oldBlock is not rendered.");var o=e.Xml.blockToDom(t,!0);if(n.setResizesEnabled(!1),o=e.Xml.domToBlock(o,n),!o.getSvgRoot())throw Error("block is not rendered.");var r=n.getOriginOffsetInPixels(),i=this.workspace_.getOriginOffsetInPixels();return t=t.getRelativeToSurfaceXY(),t.scale(this.workspace_.scale),t=e.utils.Coordinate.sum(i,t),r=e.utils.Coordinate.difference(t,r),r.scale(1/n.scale),o.moveBy(r.x,r.y),o},e.HorizontalFlyout=function(t){e.HorizontalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout=!0},e.utils.object.inherits(e.HorizontalFlyout,e.Flyout),e.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),o=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-o.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},e.HorizontalFlyout.prototype.getX=function(){return 0},e.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager(),n=t.getAbsoluteMetrics(),o=t.getViewMetrics();t=t.getToolboxMetrics();var r=this.toolboxPosition_==e.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?r?t.height:o.height-this.height_:r?0:o.height:r?0:o.height+n.top-this.height_},e.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},e.HorizontalFlyout.prototype.setBackgroundPath_=function(t,n){var o=this.toolboxPosition_==e.utils.toolbox.Position.TOP,r=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(r.push("h",t+2*this.CORNER_RADIUS),r.push("v",n),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",-t),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),r.push("h",t),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",n),r.push("h",-t-2*this.CORNER_RADIUS)),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))},e.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},e.HorizontalFlyout.prototype.wheel_=function(t){var n=e.utils.getScrollDeltaPixels(t);if(n=n.x||n.y){var o=this.workspace_.getMetricsManager(),r=o.getScrollMetrics();n=o.getViewMetrics().left-r.left+n,this.workspace_.scrollbar.setX(n),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()}t.preventDefault(),t.stopPropagation()},e.HorizontalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN,o=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(var r,i=0;r=e[i];i++)if("block"==r.type){r=r.block;for(var s,a=r.getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;r.render(),a=r.getSvgRoot(),l=r.getHeightWidth(),s=r.outputConnection?this.tabWidth_:0,s=this.RTL?o+l.width:o-s,r.moveBy(s,n),s=this.createRect_(r,s,n,l,i),o+=l.width+t[i],this.addBlockListeners_(a,r,s)}else"button"==r.type&&(this.initFlyoutButton_(r.button,o,n),o+=r.button.width+t[i])},e.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t},e.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.top;return this.toolboxPosition_==e.utils.toolbox.Position.TOP?new e.utils.Rect(-1e9,n+t.height,-1e9,1e9):new e.utils.Rect(n,1e9,-1e9,1e9)},e.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var t,n=0,o=this.workspace_.getTopBlocks(!1),r=0;t=o[r];r++)n=Math.max(n,t.getHeightWidth().height);if(n+=1.5*this.MARGIN,n*=this.workspace_.scale,n+=e.Scrollbar.scrollbarThickness,this.height_!=n){for(r=0;t=o[r];r++)t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=e.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+n),this.height_=n,this.position()}},e.registry.register(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,e.registry.DEFAULT,e.HorizontalFlyout),e.VerticalFlyout=function(t){e.VerticalFlyout.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.VerticalFlyout,e.Flyout),e.VerticalFlyout.registryName="verticalFlyout",e.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),o=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-o.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},e.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager(),n=t.getAbsoluteMetrics(),o=t.getViewMetrics();return t=t.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==e.utils.toolbox.Position.LEFT?t.width:o.width-this.width_:this.toolboxPosition_==e.utils.toolbox.Position.LEFT?0:o.width:this.toolboxPosition_==e.utils.toolbox.Position.LEFT?0:o.width+n.left-this.width_},e.VerticalFlyout.prototype.getY=function(){return 0},e.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},e.VerticalFlyout.prototype.setBackgroundPath_=function(t,n){var o=this.toolboxPosition_==e.utils.toolbox.Position.RIGHT,r=t+this.CORNER_RADIUS;r=["M "+(o?r:0)+",0"],r.push("h",o?-t:t),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",Math.max(0,n)),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",o?t:-t),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))},e.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},e.VerticalFlyout.prototype.wheel_=function(t){var n=e.utils.getScrollDeltaPixels(t);if(n.y){var o=this.workspace_.getMetricsManager(),r=o.getScrollMetrics();n=o.getViewMetrics().top-r.top+n.y,this.workspace_.scrollbar.setY(n),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()}t.preventDefault(),t.stopPropagation()},e.VerticalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;for(var n,o=this.MARGIN,r=this.RTL?o:o+this.tabWidth_,i=0;n=e[i];i++)if("block"==n.type){n=n.block;for(var s,a=n.getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;n.render(),a=n.getSvgRoot(),l=n.getHeightWidth(),s=n.outputConnection?r-this.tabWidth_:r,n.moveBy(s,o),s=this.createRect_(n,this.RTL?s-l.width:s,o,l,i),this.addBlockListeners_(a,n,s),o+=l.height+t[i]}else"button"==n.type&&(this.initFlyoutButton_(n.button,r,o),o+=n.button.height+t[i])},e.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t},e.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.left;return this.toolboxPosition_==e.utils.toolbox.Position.LEFT?new e.utils.Rect(-1e9,1e9,-1e9,n+t.width):new e.utils.Rect(-1e9,1e9,n,1e9)},e.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var t,n=0,o=this.workspace_.getTopBlocks(!1),r=0;t=o[r];r++){var i=t.getHeightWidth().width;t.outputConnection&&(i-=this.tabWidth_),n=Math.max(n,i)}for(r=0;t=this.buttons_[r];r++)n=Math.max(n,t.width);if(n+=1.5*this.MARGIN+this.tabWidth_,n*=this.workspace_.scale,n+=e.Scrollbar.scrollbarThickness,this.width_!=n){for(r=0;t=o[r];r++){if(this.RTL){i=t.getRelativeToSurfaceXY().x;var s=n/this.workspace_.scale-this.MARGIN;t.outputConnection||(s-=this.tabWidth_),t.moveBy(s-i,0)}t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t)}if(this.RTL)for(r=0;t=this.buttons_[r];r++)o=t.getPosition().y,t.moveTo(n/this.workspace_.scale-t.width-this.MARGIN-this.tabWidth_,o);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=e.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+n,this.targetWorkspace.scrollY),this.width_=n,this.position()}},e.registry.register(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.registry.DEFAULT,e.VerticalFlyout),e.FlyoutButton=function(t,n,o,r){this.workspace_=t,this.targetWorkspace_=n,this.text_=o.text,this.position_=new e.utils.Coordinate(0,0),this.isLabel_=r,this.callbackKey_=o.callbackKey||o.callbackkey,this.cssClass_=o["web-class"]||null,this.onMouseUpWrapper_=null,this.info=o},e.FlyoutButton.MARGIN_X=5,e.FlyoutButton.MARGIN_Y=2,e.FlyoutButton.prototype.width=0,e.FlyoutButton.prototype.height=0,e.FlyoutButton.prototype.createDom=function(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:t},this.workspace_.getCanvas()),!this.isLabel_)var n=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);t=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var o=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),r=e.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(r+="\u200f"),o.textContent=r,this.isLabel_&&(this.svgText_=o,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var i=e.utils.style.getComputedStyle(o,"fontSize"),s=e.utils.style.getComputedStyle(o,"fontWeight"),a=e.utils.style.getComputedStyle(o,"fontFamily");return this.width=e.utils.dom.getFastTextWidthWithSizeString(o,i,s,a),r=e.utils.dom.measureFontMetrics(r,i,s,a),this.height=r.height,this.isLabel_||(this.width+=2*e.FlyoutButton.MARGIN_X,this.height+=2*e.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),o.setAttribute("x",this.width/2),o.setAttribute("y",this.height/2-r.height/2+r.baseline),this.updateTransform_(),this.onMouseUpWrapper_=e.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},e.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},e.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},e.FlyoutButton.prototype.moveTo=function(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()},e.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},e.FlyoutButton.prototype.getPosition=function(){return this.position_},e.FlyoutButton.prototype.getButtonText=function(){return this.text_},e.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},e.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&e.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},e.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},e.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),e.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},e.Generator.NAME_TYPE="generated_function",e.Generator.prototype.INFINITE_LOOP_TRAP=null,e.Generator.prototype.STATEMENT_PREFIX=null,e.Generator.prototype.STATEMENT_SUFFIX=null,e.Generator.prototype.INDENT="  ",e.Generator.prototype.COMMENT_WRAP=60,e.Generator.prototype.ORDER_OVERRIDES=[],e.Generator.prototype.isInitialized=null,e.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=e.getMainWorkspace());var n=[];this.init(t),t=t.getTopBlocks(!0);for(var o,r=0;o=t[r];r++){var i=this.blockToCode(o);Array.isArray(i)&&(i=i[0]),i&&(o.outputConnection&&(i=this.scrubNakedValue(i),this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(i=this.injectId(this.STATEMENT_PREFIX,o)+i),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(i+=this.injectId(this.STATEMENT_SUFFIX,o))),n.push(i))}return n=n.join("\n"),n=this.finish(n),n=n.replace(/^\s+\n/,""),n=n.replace(/\n\s+$/,"\n"),n=n.replace(/[ \t]+\n/g,"\n")},e.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},e.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants(!0);for(var n=0;n<e.length;n++){var o=e[n].getCommentText();o&&t.push(o)}return t.length&&t.push(""),t.join("\n")},e.Generator.prototype.blockToCode=function(e,t){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!=typeof n)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+e.type+'".');if(n=n.call(e,e),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)},e.Generator.prototype.valueToCode=function(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var o=e.getInputTargetBlock(t);if(!o)return"";if(""===(t=this.blockToCode(o)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+o.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+o.type);if(!e)return"";o=!1;var r=Math.floor(n),i=Math.floor(t);if(r<=i&&(r!=i||0!=r&&99!=r))for(o=!0,r=0;r<this.ORDER_OVERRIDES.length;r++)if(this.ORDER_OVERRIDES[r][0]==n&&this.ORDER_OVERRIDES[r][1]==t){o=!1;break}return o&&(e="("+e+")"),e},e.Generator.prototype.statementToCode=function(e,t){if(e=e.getInputTargetBlock(t),"string"!=typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t},e.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e},e.Generator.prototype.injectId=function(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")},e.Generator.prototype.RESERVED_WORDS_="",e.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},e.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",e.Generator.prototype.provideFunction_=function(t,n){if(!this.definitions_[t]){var o=this.variableDB_.getDistinctName(t,e.PROCEDURE_CATEGORY_NAME);this.functionNames_[t]=o,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);for(var r;r!=n;)r=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]},e.Generator.prototype.init=function(e){},e.Generator.prototype.scrub_=function(e,t,n){return t},e.Generator.prototype.finish=function(e){return e},e.Generator.prototype.scrubNakedValue=function(e){return e},e.ToolboxItem=function(t,n,o){this.id_=t.toolboxitemid||e.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=o||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=t,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},e.ToolboxItem.prototype.init=function(){},e.ToolboxItem.prototype.getDiv=function(){return null},e.ToolboxItem.prototype.getId=function(){return this.id_},e.ToolboxItem.prototype.getParent=function(){return null},e.ToolboxItem.prototype.getLevel=function(){return this.level_},e.ToolboxItem.prototype.isSelectable=function(){return!1},e.ToolboxItem.prototype.isCollapsible=function(){return!1},e.ToolboxItem.prototype.dispose=function(){},e.ToolboxCategory=function(t,n,o){e.ToolboxCategory.superClass_.constructor.call(this,t,n,o),this.name_=e.utils.replaceMessageReferences(t.name),this.colour_=this.getColour_(t),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),e.utils.object.mixin(this.cssConfig_,t.cssconfig||t.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(t)},e.utils.object.inherits(e.ToolboxCategory,e.ToolboxItem),e.ToolboxCategory.registrationName="category",e.ToolboxCategory.nestedPadding=19,e.ToolboxCategory.borderWidth=8,e.ToolboxCategory.defaultBackgroundColour="#57e",e.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},e.ToolboxCategory.prototype.parseContents_=function(e){var t=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(t){e=0;for(var n;n=t[e];e++)this.flyoutItems_.push(n)}},e.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},e.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),e.utils.aria.setRole(this.htmlDiv_,e.utils.aria.Role.TREEITEM),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.SELECTED,!1),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),e.utils.aria.setRole(this.iconDom_,e.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},e.ToolboxCategory.prototype.createContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.container),t},e.ToolboxCategory.prototype.createRowContainer_=function(){var t=document.createElement("div");e.utils.dom.addClass(t,this.cssConfig_.row);var n=e.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?t.style.paddingRight=n:t.style.paddingLeft=n,t},e.ToolboxCategory.prototype.createRowContentsContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.rowcontentcontainer),t},e.ToolboxCategory.prototype.createIconDom_=function(){var t=document.createElement("span");return this.parentToolbox_.isHorizontal()||e.utils.dom.addClass(t,this.cssConfig_.icon),t.style.display="inline-block",t},e.ToolboxCategory.prototype.createLabelDom_=function(t){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=t,e.utils.dom.addClass(n,this.cssConfig_.label),n},e.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},e.ToolboxCategory.prototype.addColourBorder_=function(t){t&&(t=e.ToolboxCategory.borderWidth+"px solid "+(t||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=t:this.rowDiv_.style.borderLeft=t)},e.ToolboxCategory.prototype.getColour_=function(e){var t=e.categorystyle||e.categoryStyle;return(e=e.colour)&&t?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):t?this.getColourfromStyle_(t):this.parseColour_(e)},e.ToolboxCategory.prototype.getColourfromStyle_=function(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},e.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},e.ToolboxCategory.prototype.parseColour_=function(t){if(null==(t=e.utils.replaceMessageReferences(t))||""===t)return"";var n=Number(t);return isNaN(n)?(n=e.utils.colour.parse(t))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+t),""):e.hueToHex(n)},e.ToolboxCategory.prototype.openIcon_=function(t){t&&(e.utils.dom.removeClasses(t,this.cssConfig_.closedicon),e.utils.dom.addClass(t,this.cssConfig_.openicon))},e.ToolboxCategory.prototype.closeIcon_=function(t){t&&(e.utils.dom.removeClasses(t,this.cssConfig_.openicon),e.utils.dom.addClass(t,this.cssConfig_.closedicon))},e.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},e.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},e.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},e.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},e.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0},e.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},e.ToolboxCategory.prototype.onClick=function(e){},e.ToolboxCategory.prototype.setSelected=function(t){if(t){var n=this.parseColour_(e.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,e.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",e.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.SELECTED,t)},e.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},e.ToolboxCategory.prototype.getName=function(){return this.name_},e.ToolboxCategory.prototype.getParent=function(){return this.parent_},e.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},e.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},e.ToolboxCategory.prototype.updateFlyoutContents=function(t){this.flyoutItems_=[],"string"==typeof t?this.toolboxItemDef_.custom=t:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=e.utils.toolbox.convertFlyoutDefToJsonArray(t)),this.parseContents_(this.toolboxItemDef_)},e.ToolboxCategory.prototype.dispose=function(){e.utils.dom.removeNode(this.htmlDiv_)},e.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.ToolboxCategory.registrationName,e.ToolboxCategory),e.ToolboxSeparator=function(t,n){e.ToolboxSeparator.superClass_.constructor.call(this,t,n),this.cssConfig_={container:"blocklyTreeSeparator"},e.utils.object.mixin(this.cssConfig_,t.cssconfig||t.cssConfig)},e.utils.object.inherits(e.ToolboxSeparator,e.ToolboxItem),e.ToolboxSeparator.registrationName="sep",e.ToolboxSeparator.prototype.init=function(){this.createDom_()},e.ToolboxSeparator.prototype.createDom_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.container),this.htmlDiv_=t},e.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},e.ToolboxSeparator.prototype.dispose=function(){e.utils.dom.removeNode(this.htmlDiv_)},e.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.ToolboxSeparator.registrationName,e.ToolboxSeparator),e.CollapsibleToolboxCategory=function(t,n,o){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],e.CollapsibleToolboxCategory.superClass_.constructor.call(this,t,n,o)},e.utils.object.inherits(e.CollapsibleToolboxCategory,e.ToolboxCategory),e.CollapsibleToolboxCategory.registrationName="collapsibleCategory",e.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var t=e.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return t.contents="blocklyToolboxContents",t},e.CollapsibleToolboxCategory.prototype.parseContents_=function(t){var n=t.contents,o=!0;if(t.custom)this.flyoutItems_=t.custom;else if(n){t=0;for(var r;r=n[t];t++)!e.registry.hasItem(e.registry.Type.TOOLBOX_ITEM,r.kind)||r.kind.toLowerCase()==e.ToolboxSeparator.registrationName&&o?(this.flyoutItems_.push(r),o=!0):(this.createToolboxItem_(r),o=!1)}},e.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(t){var n=t.kind;"CATEGORY"==n.toUpperCase()&&e.utils.toolbox.isCategoryCollapsible(t)&&(n=e.CollapsibleToolboxCategory.registrationName),t=new(e.registry.getClass(e.registry.Type.TOOLBOX_ITEM,n))(t,this.parentToolbox_,this),this.toolboxItems_.push(t)},e.CollapsibleToolboxCategory.prototype.init=function(){e.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},e.CollapsibleToolboxCategory.prototype.createDom_=function(){e.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var t=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(t),e.utils.aria.setRole(this.subcategoriesDiv_,e.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},e.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var t=document.createElement("span");return this.parentToolbox_.isHorizontal()||(e.utils.dom.addClass(t,this.cssConfig_.icon),t.style.visibility="visible"),t.style.display="inline-block",t},e.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(t){var n=document.createElement("div");e.utils.dom.addClass(n,this.cssConfig_.contents);for(var o=0;o<t.length;o++){var r=t[o];r.init();var i=r.getDiv();n.appendChild(i),r.getClickTarget&&r.getClickTarget().setAttribute("id",r.getId())}return n},e.CollapsibleToolboxCategory.prototype.setExpanded=function(t){this.expanded_!=t&&((this.expanded_=t)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.EXPANDED,t),this.parentToolbox_.handleToolboxItemResize())},e.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var t,n=0;t=this.getChildToolboxItems()[n];n++)t.setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},e.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},e.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},e.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},e.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},e.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},e.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.CollapsibleToolboxCategory.registrationName,e.CollapsibleToolboxCategory),e.Events.ToolboxItemSelect=function(t,n,o){e.Events.ToolboxItemSelect.superClass_.constructor.call(this,o),this.oldItem=t,this.newItem=n},e.utils.object.inherits(e.Events.ToolboxItemSelect,e.Events.UiBase),e.Events.ToolboxItemSelect.prototype.type=e.Events.TOOLBOX_ITEM_SELECT,e.Events.ToolboxItemSelect.prototype.toJson=function(){var t=e.Events.ToolboxItemSelect.superClass_.toJson.call(this);return t.oldItem=this.oldItem,t.newItem=this.newItem,t},e.Events.ToolboxItemSelect.prototype.fromJson=function(t){e.Events.ToolboxItemSelect.superClass_.fromJson.call(this,t),this.oldItem=t.oldItem,this.newItem=t.newItem},e.registry.register(e.registry.Type.EVENT,e.Events.TOOLBOX_ITEM_SELECT,e.Events.ToolboxItemSelect),e.Toolbox=function(e){this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.contents_=[],this.height_=this.width_=0,this.RTL=e.options.RTL,this.flyout_=null,this.contentMap_={},this.toolboxPosition=e.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},e.Toolbox.prototype.onShortcut=function(e){return!1},e.Toolbox.prototype.init=function(){var t=this.workspace_,n=t.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),e.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.flyout_.init(t),this.render(this.toolboxDef_),t=t.getThemeManager(),t.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),t.subscribe(this.HtmlDiv,"toolboxForegroundColour","color")},e.Toolbox.prototype.createDom_=function(t){t=t.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,e.utils.aria.setRole(this.contentsDiv_,e.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),t.parentNode.insertBefore(n,t),this.attachEvents_(n,this.contentsDiv_),n},e.Toolbox.prototype.createContainer_=function(){var t=document.createElement("div");return t.setAttribute("layout",this.isHorizontal()?"h":"v"),e.utils.dom.addClass(t,"blocklyToolboxDiv"),e.utils.dom.addClass(t,"blocklyNonSelectable"),t.setAttribute("dir",this.RTL?"RTL":"LTR"),t},e.Toolbox.prototype.createContentsContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,"blocklyToolboxContents"),this.isHorizontal()&&(t.style.flexDirection="row"),t},e.Toolbox.prototype.attachEvents_=function(t,n){t=e.browserEvents.conditionalBind(t,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(t),n=e.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},e.Toolbox.prototype.onClick_=function(t){if(e.utils.isRightButton(t)||t.target==this.HtmlDiv)e.hideChaff(!1);else{var n=t.target.getAttribute("id");n&&(n=this.getToolboxItemById(n),n.isSelectable()&&(this.setSelectedItem(n),n.onClick(t))),e.hideChaff(!0)}e.Touch.clearTouchIdentifier()},e.Toolbox.prototype.onKeyDown_=function(t){var n=!1;switch(t.keyCode){case e.utils.KeyCodes.DOWN:n=this.selectNext_();break;case e.utils.KeyCodes.UP:n=this.selectPrevious_();break;case e.utils.KeyCodes.LEFT:n=this.selectParent_();break;case e.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case e.utils.KeyCodes.ENTER:case e.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(t)),n&&t.preventDefault()},e.Toolbox.prototype.createFlyout_=function(){var t=this.workspace_,n=new e.Options({parentWorkspace:t,rtl:t.RTL,oneBasedIndex:t.options.oneBasedIndex,horizontalLayout:t.horizontalLayout,renderer:t.options.renderer,rendererOverrides:t.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=t.options.toolboxPosition,new(t.horizontalLayout?e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.options,!0):e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.options,!0))(n)},e.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var t=0;t<this.contents_.length;t++){var n=this.contents_[t];n&&n.dispose()}this.contents_=[],this.contentMap_={},this.renderContents_(e.contents),this.position()},e.Toolbox.prototype.renderContents_=function(e){for(var t,n=document.createDocumentFragment(),o=0;t=e[o];o++)this.createToolboxItem_(t,n);this.contentsDiv_.appendChild(n)},e.Toolbox.prototype.createToolboxItem_=function(t,n){var o=t.kind;"CATEGORY"==o.toUpperCase()&&e.utils.toolbox.isCategoryCollapsible(t)&&(o=e.CollapsibleToolboxCategory.registrationName),(o=e.registry.getClass(e.registry.Type.TOOLBOX_ITEM,o.toLowerCase()))&&(t=new o(t,this),this.addToolboxItem_(t),t.init(),(o=t.getDiv())&&n.appendChild(o),t.getClickTarget&&t.getClickTarget().setAttribute("id",t.getId()))},e.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible())for(var t,n=0;t=e.getChildToolboxItems()[n];n++)this.addToolboxItem_(t)},e.Toolbox.prototype.getToolboxItems=function(){return this.contents_},e.Toolbox.prototype.addStyle=function(t){e.utils.dom.addClass(this.HtmlDiv,t)},e.Toolbox.prototype.removeStyle=function(t){e.utils.dom.removeClass(this.HtmlDiv,t)},e.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var t=this.HtmlDiv.getBoundingClientRect(),n=t.top,o=n+t.height,r=t.left;return t=r+t.width,this.toolboxPosition==e.utils.toolbox.Position.TOP?new e.utils.Rect(-1e7,o,-1e7,1e7):this.toolboxPosition==e.utils.toolbox.Position.BOTTOM?new e.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==e.utils.toolbox.Position.LEFT?new e.utils.Rect(-1e7,1e7,-1e7,t):new e.utils.Rect(-1e7,1e7,r,1e7)},e.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]},e.Toolbox.prototype.getWidth=function(){return this.width_},e.Toolbox.prototype.getHeight=function(){return this.height_},e.Toolbox.prototype.getFlyout=function(){return this.flyout_},e.Toolbox.prototype.getWorkspace=function(){return this.workspace_},e.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},e.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},e.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},e.Toolbox.prototype.position=function(){var t=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=t.viewWidth,this.toolboxPosition==e.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==e.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=t.viewHeight),this.flyout_.position())},e.Toolbox.prototype.handleToolboxItemResize=function(){var t=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();t.translate(this.toolboxPosition==e.utils.toolbox.Position.LEFT?t.scrollX+n.width:t.scrollX,this.toolboxPosition==e.utils.toolbox.Position.TOP?t.scrollY+n.height:t.scrollY),e.svgResize(t)},e.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},e.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}},e.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},e.Toolbox.prototype.setVisible=function(e){this.HtmlDiv.style.display=e?"block":"none"},e.Toolbox.prototype.setSelectedItem=function(e){var t=this.selectedItem_;!e&&!t||e&&!e.isSelectable()||(this.shouldDeselectItem_(t,e)&&null!=t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!=e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))},e.Toolbox.prototype.shouldDeselectItem_=function(e,t){return null!=e&&(!e.isCollapsible()||e!=t)},e.Toolbox.prototype.shouldSelectItem_=function(e,t){return null!=t&&t!=e},e.Toolbox.prototype.deselectItem_=function(t){this.selectedItem_=null,this.previouslySelectedItem_=t,t.setSelected(!1),e.utils.aria.setState(this.contentsDiv_,e.utils.aria.State.ACTIVEDESCENDANT,"")},e.Toolbox.prototype.selectItem_=function(t,n){this.selectedItem_=n,this.previouslySelectedItem_=t,n.setSelected(!0),e.utils.aria.setState(this.contentsDiv_,e.utils.aria.State.ACTIVEDESCENDANT,n.getId())},e.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))},e.Toolbox.prototype.updateFlyout_=function(e,t){(e!=t||t.isCollapsible())&&t&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},e.Toolbox.prototype.fireSelectEvent_=function(t,n){var o=t&&t.getName(),r=n&&n.getName();t==n&&(r=null),t=new(e.Events.get(e.Events.TOOLBOX_ITEM_SELECT))(o,r,this.workspace_.id),e.Events.fire(t)},e.Toolbox.prototype.selectParent_=function(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),!0):!(!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))},e.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},e.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},e.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},e.Toolbox.prototype.dispose=function(){this.flyout_.dispose();for(var t=0;t<this.contents_.length;t++)this.contents_[t].dispose();for(t=0;t<this.boundEvents_.length;t++)e.browserEvents.unbind(this.boundEvents_[t]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),e.utils.dom.removeNode(this.HtmlDiv)},e.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),e.registry.register(e.registry.Type.TOOLBOX,e.registry.DEFAULT,e.Toolbox),e.Events.TrashcanOpen=function(t,n){e.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=t},e.utils.object.inherits(e.Events.TrashcanOpen,e.Events.UiBase),e.Events.TrashcanOpen.prototype.type=e.Events.TRASHCAN_OPEN,e.Events.TrashcanOpen.prototype.toJson=function(){var t=e.Events.TrashcanOpen.superClass_.toJson.call(this);return t.isOpen=this.isOpen,t},e.Events.TrashcanOpen.prototype.fromJson=function(t){e.Events.TrashcanOpen.superClass_.fromJson.call(this,t),this.isOpen=t.isOpen},e.registry.register(e.registry.Type.EVENT,e.Events.TRASHCAN_OPEN,e.Events.TrashcanOpen),e.IPlugin=function(){},e.IPositionable=function(){},e.Trashcan=function(t){this.workspace_=t,this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(t=new e.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(t.toolboxPosition=this.workspace_.toolboxPosition==e.utils.toolbox.Position.TOP?e.utils.toolbox.Position.BOTTOM:e.utils.toolbox.Position.TOP,this.flyout=new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(t)):(t.toolboxPosition=this.workspace_.toolboxPosition==e.utils.toolbox.Position.RIGHT?e.utils.toolbox.Position.LEFT:e.utils.toolbox.Position.RIGHT,this.flyout=new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(t)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},e.Trashcan.prototype.WIDTH_=47,e.Trashcan.prototype.BODY_HEIGHT_=44,e.Trashcan.prototype.LID_HEIGHT_=16,e.Trashcan.prototype.MARGIN_BOTTOM_=20,e.Trashcan.prototype.MARGIN_SIDE_=20,e.Trashcan.prototype.MARGIN_HOTSPOT_=10,e.Trashcan.prototype.SPRITE_LEFT_=0,e.Trashcan.prototype.SPRITE_TOP_=32,e.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,e.Trashcan.ANIMATION_LENGTH_=80,e.Trashcan.ANIMATION_FRAMES_=4,e.Trashcan.OPACITY_MIN_=.4,e.Trashcan.OPACITY_MAX_=.8,e.Trashcan.MAX_LID_ANGLE_=45,e.Trashcan.prototype.isLidOpen=!1,e.Trashcan.prototype.minOpenness_=0,e.Trashcan.prototype.svgGroup_=null,e.Trashcan.prototype.svgLid_=null,e.Trashcan.prototype.lidTask_=0,e.Trashcan.prototype.lidOpen_=0,e.Trashcan.prototype.left_=0,e.Trashcan.prototype.top_=0,e.Trashcan.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyTrash"},null);var t=String(Math.random()).substring(2),n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var o=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return o.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),e.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),e.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),e.browserEvents.bind(o,"mouseover",this,this.mouseOver_),e.browserEvents.bind(o,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},e.Trashcan.prototype.init=function(t){return 0<this.workspace_.options.maxTrashcanContents&&(e.utils.dom.insertAfter(this.flyout.createDom(e.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.setLidOpen(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},e.Trashcan.prototype.dispose=function(){this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},e.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},e.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},e.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){for(var t,n=[],o=0;t=this.contents_[o];o++)n[o]=e.Xml.textToDom(t);this.flyout.show(n),this.fireUiEvent_(!0)}},e.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},e.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},e.Trashcan.prototype.position=function(t,n){if(this.verticalSpacing_){this.left_=t.toolboxMetrics.position==e.utils.toolbox.Position.LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?t.viewMetrics.width+t.absoluteMetrics.left-this.WIDTH_-this.MARGIN_SIDE_-e.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+e.Scrollbar.scrollbarThickness;var o=this.BODY_HEIGHT_+this.LID_HEIGHT_,r=this.top_=t.absoluteMetrics.top+this.verticalSpacing_,i=t.absoluteMetrics.top+t.viewMetrics.height-o-this.verticalSpacing_;this.top_=(t=t.toolboxMetrics.position!==e.utils.toolbox.Position.BOTTOM)?i:r;for(var s,a=this.getBoundingRectangle(),l=0;s=n[l];l++)a.intersects(s)&&(this.top_=t?s.top-o-this.MARGIN_BOTTOM_:s.bottom+this.MARGIN_BOTTOM_,a=this.getBoundingRectangle(),l=-1);this.top_=e.utils.math.clamp(r,this.top_,i),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},e.Trashcan.prototype.getBoundingRectangle=function(){return new e.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},e.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return t=t.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new e.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,t,t+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},e.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!=e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},e.Trashcan.prototype.animateLid_=function(){var t=e.Trashcan.ANIMATION_FRAMES_,n=1/(t+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*e.Trashcan.MAX_LID_ANGLE_),n=e.Trashcan.OPACITY_MIN_,this.svgGroup_.style.opacity=n+this.lidOpen_*(e.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),e.Trashcan.ANIMATION_LENGTH_/t))},e.Trashcan.prototype.setLidAngle_=function(t){var n=this.workspace_.toolboxPosition==e.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-t:t)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},e.Trashcan.prototype.setMinOpenness_=function(t){this.minOpenness_=t,this.isLidOpen||this.setLidAngle_(t*e.Trashcan.MAX_LID_ANGLE_)},e.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},e.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},e.Trashcan.prototype.fireUiEvent_=function(t){t=new(e.Events.get(e.Events.TRASHCAN_OPEN))(t,this.workspace_.id),e.Events.fire(t)},e.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},e.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},e.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},e.Trashcan.prototype.onDelete_=function(t){if(!(0>=this.workspace_.options.maxTrashcanContents)&&t.type==e.Events.BLOCK_DELETE&&t.oldXml.tagName&&"shadow"!=t.oldXml.tagName.toLowerCase()&&(t=this.cleanBlockXML_(t.oldXml),-1==this.contents_.indexOf(t))){for(this.contents_.unshift(t);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},e.Trashcan.prototype.cleanBlockXML_=function(t){for(var n=t=t.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var o=n.firstChild||n.nextSibling;if(!o)for(o=n.parentNode;o;){if(o.nextSibling){o=o.nextSibling;break}o=o.parentNode}n=o}return e.Xml.domToText(t)},e.VariablesDynamic={},e.VariablesDynamic.onCreateVariableButtonClick_String=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"String")},e.VariablesDynamic.onCreateVariableButtonClick_Number=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"Number")},e.VariablesDynamic.onCreateVariableButtonClick_Colour=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"Colour")},e.VariablesDynamic.flyoutCategory=function(t){var n=[],o=document.createElement("button");return o.setAttribute("text",e.Msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(o),o=document.createElement("button"),o.setAttribute("text",e.Msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(o),o=document.createElement("button"),o.setAttribute("text",e.Msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(o),t.registerButtonCallback("CREATE_VARIABLE_STRING",e.VariablesDynamic.onCreateVariableButtonClick_String),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",e.VariablesDynamic.onCreateVariableButtonClick_Number),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",e.VariablesDynamic.onCreateVariableButtonClick_Colour),t=e.VariablesDynamic.flyoutCategoryBlocks(t),n=n.concat(t)},e.VariablesDynamic.flyoutCategoryBlocks=function(t){t=t.getAllVariables();var n=[];if(0<t.length){if(e.Blocks.variables_set_dynamic){var o=t[t.length-1],r=e.utils.xml.createElement("block");r.setAttribute("type","variables_set_dynamic"),r.setAttribute("gap",24),r.appendChild(e.Variables.generateVariableFieldDom(o)),n.push(r)}if(e.Blocks.variables_get_dynamic){t.sort(e.VariableModel.compareByName),o=0;for(var i;i=t[o];o++)r=e.utils.xml.createElement("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap",8),r.appendChild(e.Variables.generateVariableFieldDom(i)),n.push(r)}}return n},e.ZoomControls=function(e){this.workspace_=e,this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.verticalSpacing_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},e.ZoomControls.prototype.WIDTH_=32,e.ZoomControls.prototype.HEIGHT_=110,e.ZoomControls.prototype.MARGIN_BOTTOM_=20,e.ZoomControls.prototype.MARGIN_SIDE_=20,e.ZoomControls.prototype.svgGroup_=null,e.ZoomControls.prototype.left_=0,e.ZoomControls.prototype.top_=0,e.ZoomControls.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null);var t=String(Math.random()).substring(2);return this.createZoomOutSvg_(t),this.createZoomInSvg_(t),this.workspace_.isMovable()&&this.createZoomResetSvg_(t),this.svgGroup_},e.ZoomControls.prototype.init=function(e){return this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.verticalSpacing_+this.HEIGHT_},e.ZoomControls.prototype.dispose=function(){this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&e.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&e.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&e.browserEvents.unbind(this.onZoomOutWrapper_)},e.ZoomControls.prototype.getBoundingRectangle=function(){return new e.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)},e.ZoomControls.prototype.position=function(t,n){if(this.verticalSpacing_){this.left_=t.toolboxMetrics.position==e.utils.toolbox.Position.LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?t.viewMetrics.width+t.absoluteMetrics.left-this.WIDTH_-this.MARGIN_SIDE_-e.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+e.Scrollbar.scrollbarThickness;var o=this.top_=t.absoluteMetrics.top+this.verticalSpacing_,r=t.absoluteMetrics.top+t.viewMetrics.height-this.HEIGHT_-this.verticalSpacing_;this.top_=(t=t.toolboxMetrics.position!==e.utils.toolbox.Position.BOTTOM)?r:o,t?(this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")):(this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)"));for(var i,s=this.getBoundingRectangle(),a=0;i=n[a];a++)s.intersects(i)&&(this.top_=t?i.top-this.HEIGHT_-this.MARGIN_BOTTOM_:i.bottom+this.MARGIN_BOTTOM_,s=this.getBoundingRectangle(),a=-1);this.top_=e.utils.math.clamp(o,this.top_,r),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},e.ZoomControls.prototype.createZoomOutSvg_=function(t){this.zoomOutGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomOutWrapper_=e.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},e.ZoomControls.prototype.createZoomInSvg_=function(t){this.zoomInGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+t},this.zoomInGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomInWrapper_=e.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},e.ZoomControls.prototype.zoom_=function(t,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(t),this.fireZoomEvent_(),e.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},e.ZoomControls.prototype.createZoomResetSvg_=function(t){this.zoomResetGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomResetWrapper_=e.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},e.ZoomControls.prototype.resetZoom_=function(t){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),e.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()},e.ZoomControls.prototype.fireZoomEvent_=function(){var t=new(e.Events.get(e.Events.CLICK))(null,this.workspace_.id,"zoom_controls");e.Events.fire(t)},e.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),e.ShortcutItems={},e.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},e.ShortcutItems.registerEscape=function(){var t={name:e.ShortcutItems.names.ESCAPE,preconditionFn:function(e){return!e.options.readOnly},callback:function(){return e.hideChaff(),!0}};e.ShortcutRegistry.registry.register(t),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.ESC,t.name)},e.ShortcutItems.registerDelete=function(){var t={name:e.ShortcutItems.names.DELETE,preconditionFn:function(t){return!t.options.readOnly&&e.selected&&e.selected.isDeletable()},callback:function(t,n){return n.preventDefault(),!e.Gesture.inProgress()&&(e.deleteBlock(e.selected),!0)}};e.ShortcutRegistry.registry.register(t),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.DELETE,t.name),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.BACKSPACE,t.name)},e.ShortcutItems.registerCopy=function(){var t={name:e.ShortcutItems.names.COPY,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()&&e.selected&&e.selected.isDeletable()&&e.selected.isMovable()},callback:function(){return e.hideChaff(),e.copy(e.selected),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerCut=function(){var t={name:e.ShortcutItems.names.CUT,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()&&e.selected&&e.selected.isDeletable()&&e.selected.isMovable()&&!e.selected.workspace.isFlyout},callback:function(){return e.copy(e.selected),e.deleteBlock(e.selected),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerPaste=function(){var t={name:e.ShortcutItems.names.PASTE,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()},callback:function(){return e.paste()}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerUndo=function(){var t={name:e.ShortcutItems.names.UNDO,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()},callback:function(t){return e.hideChaff(),t.undo(!1),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerRedo=function(){var t={name:e.ShortcutItems.names.REDO,preconditionFn:function(t){return!e.Gesture.inProgress()&&!t.options.readOnly},callback:function(t){return e.hideChaff(),t.undo(!0),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Y,[e.utils.KeyCodes.CTRL]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerDefaultShortcuts=function(){e.ShortcutItems.registerEscape(),e.ShortcutItems.registerDelete(),e.ShortcutItems.registerCopy(),e.ShortcutItems.registerCut(),e.ShortcutItems.registerPaste(),e.ShortcutItems.registerUndo(),e.ShortcutItems.registerRedo()},e.ShortcutItems.registerDefaultShortcuts(),e.ContextMenuItems={},e.ContextMenuItems.registerUndo=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},e.ContextMenuItems.registerRedo=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},e.ContextMenuItems.registerCleanup=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},e.ContextMenuItems.toggleOption_=function(e,t){for(var n=0,o=0;o<t.length;o++)for(var r=t[o];r;)setTimeout(r.setCollapsed.bind(r,e),n),r=r.getNextBlock(),n+=10},e.ContextMenuItems.registerCollapse=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(t){e.ContextMenuItems.toggleOption_(!0,t.workspace.getTopBlocks(!0))},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},e.ContextMenuItems.registerExpand=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(t){e.ContextMenuItems.toggleOption_(!1,t.workspace.getTopBlocks(!0))},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},e.ContextMenuItems.addDeletableBlocks_=function(t,n){if(t.isDeletable())Array.prototype.push.apply(n,t.getDescendants(!1));else{t=t.getChildren(!1);for(var o=0;o<t.length;o++)e.ContextMenuItems.addDeletableBlocks_(t[o],n)}},e.ContextMenuItems.getDeletableBlocks_=function(t){var n=[];t=t.getTopBlocks(!0);for(var o=0;o<t.length;o++)e.ContextMenuItems.addDeletableBlocks_(t[o],n);return n},e.ContextMenuItems.deleteNext_=function(t,n){e.Events.setGroup(n);var o=t.shift();o&&(o.workspace?(o.dispose(!1,!0),setTimeout(e.ContextMenuItems.deleteNext_,10,t,n)):e.ContextMenuItems.deleteNext_(t,n)),e.Events.setGroup(!1)},e.ContextMenuItems.registerDeleteAll=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){if(t.workspace)return t=e.ContextMenuItems.getDeletableBlocks_(t.workspace).length,1==t?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(t){if(t.workspace)return 0<e.ContextMenuItems.getDeletableBlocks_(t.workspace).length?"enabled":"disabled"},callback:function(t){if(t.workspace){t.workspace.cancelCurrentGesture();var n=e.ContextMenuItems.getDeletableBlocks_(t.workspace),o=e.utils.genUid();2>n.length?e.ContextMenuItems.deleteNext_(n,o):e.confirm(e.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),function(t){t&&e.ContextMenuItems.deleteNext_(n,o)})}},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},e.ContextMenuItems.registerWorkspaceOptions_=function(){e.ContextMenuItems.registerUndo(),e.ContextMenuItems.registerRedo(),e.ContextMenuItems.registerCleanup(),e.ContextMenuItems.registerCollapse(),e.ContextMenuItems.registerExpand(),e.ContextMenuItems.registerDeleteAll()},e.ContextMenuItems.registerDuplicate=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(t){t.block&&e.duplicate(t.block)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},e.ContextMenuItems.registerComment=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getCommentIcon()?e.Msg.REMOVE_COMMENT:e.Msg.ADD_COMMENT},preconditionFn:function(t){return t=t.block,e.utils.userAgent.IE||t.isInFlyout||!t.workspace.options.comments||t.isCollapsed()||!t.isEditable()?"hidden":"enabled"},callback:function(e){e=e.block,e.getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},e.ContextMenuItems.registerInline=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getInputsInline()?e.Msg.EXTERNAL_INPUTS:e.Msg.INLINE_INPUTS},preconditionFn:function(t){if(t=t.block,!t.isInFlyout&&t.isMovable()&&!t.isCollapsed())for(var n=1;n<t.inputList.length;n++)if(t.inputList[n-1].type!=e.inputTypes.STATEMENT&&t.inputList[n].type!=e.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},e.ContextMenuItems.registerCollapseExpandBlock=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isCollapsed()?e.Msg.EXPAND_BLOCK:e.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return e=e.block,!e.isInFlyout&&e.isMovable()?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},e.ContextMenuItems.registerDisable=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isEnabled()?e.Msg.DISABLE_BLOCK:e.Msg.ENABLE_BLOCK},preconditionFn:function(e){return e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(t){t=t.block;var n=e.Events.getGroup();n||e.Events.setGroup(!0),t.setEnabled(!t.isEnabled()),n||e.Events.setGroup(!1)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},e.ContextMenuItems.registerDelete=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){var n=t.block;return t=n.getDescendants(!1).length,(n=n.getNextBlock())&&(t-=n.getDescendants(!1).length),1==t?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(t){e.Events.setGroup(!0),t.block.dispose(!0,!0),e.Events.setGroup(!1)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},e.ContextMenuItems.registerHelp=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.HELP},preconditionFn:function(e){return e=e.block,("function"==typeof e.helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},e.ContextMenuItems.registerBlockOptions_=function(){e.ContextMenuItems.registerDuplicate(),e.ContextMenuItems.registerComment(),e.ContextMenuItems.registerInline(),e.ContextMenuItems.registerCollapseExpandBlock(),e.ContextMenuItems.registerDisable(),e.ContextMenuItems.registerDelete(),e.ContextMenuItems.registerHelp()},e.ContextMenuItems.registerDefaultOptions=function(){e.ContextMenuItems.registerWorkspaceOptions_(),e.ContextMenuItems.registerBlockOptions_()},e.ContextMenuItems.registerDefaultOptions(),e.Mutator=function(t){e.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=t},e.utils.object.inherits(e.Mutator,e.Icon),e.Mutator.prototype.workspaceWidth_=0,e.Mutator.prototype.workspaceHeight_=0,e.Mutator.prototype.setBlock=function(e){this.block_=e},e.Mutator.prototype.getWorkspace=function(){return this.workspace_},e.Mutator.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},t),e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},t)},e.Mutator.prototype.iconClick_=function(t){this.block_.isEditable()&&e.Icon.prototype.iconClick_.call(this,t)},e.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var t,n=e.utils.xml.createElement("xml"),o=0;t=this.quarkNames_[o];o++){var r=e.utils.xml.createElement("block");r.setAttribute("type",t),n.appendChild(r)}else n=null;return o=new e.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides}),o.toolboxPosition=this.block_.RTL?e.utils.toolbox.Position.RIGHT:e.utils.toolbox.Position.LEFT,(t=!!n)&&(o.languageTree=e.utils.toolbox.convertToolboxDefToJson(n)),this.workspace_=new e.WorkspaceSvg(o),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(e.Events.disableOrphans),n=t?this.workspace_.addFlyout(e.utils.Svg.G):null,o=this.workspace_.createDom("blocklyMutatorBackground"),n&&o.insertBefore(n,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(o),this.svgDialog_},e.Mutator.prototype.updateEditable=function(){e.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&e.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},e.Mutator.prototype.resizeBubble_=function(){var t=2*e.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),o=n.width+n.x,r=n.height+3*t,i=this.workspace_.getFlyout();if(i){var s=i.getWorkspace().getMetricsManager().getScrollMetrics();r=Math.max(r,s.height+20),o+=i.getWidth()}this.block_.RTL&&(o=-n.x),o+=3*t,(Math.abs(this.workspaceWidth_-o)>t||Math.abs(this.workspaceHeight_-r)>t)&&(this.workspaceWidth_=o,this.workspaceHeight_=r,this.bubble_.setBubbleSize(o+t,r+t),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(t="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",t)),this.workspace_.resize()},e.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDeleteAreas()},e.Mutator.prototype.setVisible=function(t){if(t!=this.isVisible())if(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"mutator")),t){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;t=this.workspace_.getFlyout(),n&&(t.init(this.workspace_),t.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var o,r=0;o=n[r];r++)o.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),t?(n=2*t.CORNER_RADIUS,t=this.rootBlock_.RTL?t.getWidth()+n:n):t=n=16,this.block_.RTL&&(t=-t),this.rootBlock_.moveBy(t,n),this.block_.saveConnections){var i=this,s=this.block_;s.saveConnections(this.rootBlock_),this.sourceListener_=function(){s.saveConnections(i.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},e.Mutator.prototype.workspaceChanged_=function(t){if(!(t.isUiEvent||t.type==e.Events.CHANGE&&"disabled"==t.element)){if(!this.workspace_.isDragging()){t=this.workspace_.getTopBlocks(!1);for(var n,o=0;n=t[o];o++){var r=n.getRelativeToSurfaceXY();if(20>r.y&&n.moveBy(0,20-r.y),n.RTL){var i=-20,s=this.workspace_.getFlyout();s&&(i-=s.getWidth()),r.x>i&&n.moveBy(i-r.x,0)}else 20>r.x&&n.moveBy(20-r.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(e.Events.setGroup(!0),n=this.block_,t=(t=n.mutationToDom())&&e.Xml.domToText(t),o=n.rendered,n.rendered=!1,n.compose(this.rootBlock_),n.rendered=o,n.initSvg(),n.rendered&&n.render(),o=(o=n.mutationToDom())&&e.Xml.domToText(o),t!=o){e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"mutation",null,t,o));var a=e.Events.getGroup();setTimeout(function(){e.Events.setGroup(a),n.bumpNeighbours(),e.Events.setGroup(!1)},e.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),e.Events.setGroup(!1)}}},e.Mutator.prototype.dispose=function(){this.block_.mutator=null,e.Icon.prototype.dispose.call(this)},e.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var t=e.getAllBlocks(!1),n=0;n<t.length;n++){var o=t[n];o.setStyle(o.getStyleName())}if(n=e.getFlyout())for(e=n.workspace_.getAllBlocks(!1),n=0;n<e.length;n++)o=e[n],o.setStyle(o.getStyleName())}},e.Mutator.reconnect=function(e,t,n){if(!e||!e.getSourceBlock().workspace)return!1;n=t.getInput(n).connection;var o=e.targetBlock();return!(o&&o!=t||n.targetConnection==e)&&(n.isConnected()&&n.disconnect(),n.connect(e),!0)},e.Mutator.findParentWs=function(e){var t=null;if(e&&e.options){var n=e.options.parentWorkspace;e.isFlyout?n&&n.options&&(t=n.options.parentWorkspace):n&&(t=n)}return t},e.FieldTextInput=function(t,n,o){this.spellcheck_=!0,e.FieldTextInput.superClass_.constructor.call(this,t,n,o),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},e.utils.object.inherits(e.FieldTextInput,e.Field),e.FieldTextInput.prototype.DEFAULT_VALUE="",e.FieldTextInput.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldTextInput(n,void 0,t)},e.FieldTextInput.prototype.SERIALIZABLE=!0,e.FieldTextInput.BORDERRADIUS=4,e.FieldTextInput.prototype.CURSOR="text",e.FieldTextInput.prototype.configure_=function(t){e.FieldTextInput.superClass_.configure_.call(this,t),"boolean"==typeof t.spellcheck&&(this.spellcheck_=t.spellcheck)},e.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var e,t=0,n=0,o=0;e=this.sourceBlock_.inputList[o];o++){for(var r=0;e.fieldRow[r];r++)t++;e.connection&&n++}this.fullBlockClickTarget_=1>=t&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},e.FieldTextInput.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldTextInput.prototype.doValueInvalid_=function(t){this.isBeingEdited_&&(this.isTextValid_=!1,t=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,t,this.value_)))},e.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},e.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},e.FieldTextInput.prototype.render_=function(){if(e.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var t=this.htmlInput_;this.isTextValid_?(e.utils.dom.removeClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!1)):(e.utils.dom.addClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!0))}},e.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},e.FieldTextInput.prototype.showEditor_=function(t,n){this.workspace_=this.sourceBlock_.workspace,t=n||!1,!t&&(e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(t)},e.FieldTextInput.prototype.showPromptEditor_=function(){e.prompt(e.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){this.setValue(this.getValueFromEditorText_(e))}.bind(this))},e.FieldTextInput.prototype.showInlineEditor_=function(t){e.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,t||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},e.FieldTextInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV;e.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var o=this.workspace_.getScale(),r=this.getConstants().FIELD_TEXT_FONTSIZE*o+"pt";if(t.style.fontSize=r,n.style.fontSize=r,r=e.FieldTextInput.BORDERRADIUS*o+"px",this.fullBlockClickTarget_){r=this.getScaledBBox(),r=(r.bottom-r.top)/2+"px";var i=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*o+"px solid "+i,t.style.borderRadius=r,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*o+"px")}return n.style.borderRadius=r,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},e.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var t=e.WidgetDiv.DIV.style;t.width="auto",t.height="auto",t.fontSize="",t.transition="",t.boxShadow="",this.htmlInput_=null,e.utils.dom.removeClass(this.getClickTarget_(),"editing")},e.FieldTextInput.prototype.bindInputEvents_=function(t){this.onKeyDownWrapper_=e.browserEvents.conditionalBind(t,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=e.browserEvents.conditionalBind(t,"input",this,this.onHtmlInputChange_)},e.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(e.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(e.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},e.FieldTextInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode==e.utils.KeyCodes.ENTER?(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.TAB&&(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!t.shiftKey),t.preventDefault())},e.FieldTextInput.prototype.onHtmlInputChange_=function(t){(t=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=t,e.Events.setGroup(!0),t=this.getValueFromEditorText_(t),this.setValue(t),this.forceRerender(),this.resizeEditor_(),e.Events.setGroup(!1))},e.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},e.FieldTextInput.prototype.resizeEditor_=function(){var t=e.WidgetDiv.DIV,n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",n=new e.utils.Coordinate(this.sourceBlock_.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=n.x+"px",t.style.top=n.y+"px"},e.FieldTextInput.prototype.isTabNavigable=function(){return!0},e.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},e.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},e.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},e.fieldRegistry.register("field_input",e.FieldTextInput),e.FieldAngle=function(t,n,o){this.clockwise_=e.FieldAngle.CLOCKWISE,this.offset_=e.FieldAngle.OFFSET,this.wrap_=e.FieldAngle.WRAP,this.round_=e.FieldAngle.ROUND,e.FieldAngle.superClass_.constructor.call(this,t,n,o),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=null},e.utils.object.inherits(e.FieldAngle,e.FieldTextInput),e.FieldAngle.prototype.DEFAULT_VALUE=0,e.FieldAngle.fromJson=function(t){return new e.FieldAngle(t.angle,void 0,t)},e.FieldAngle.prototype.SERIALIZABLE=!0,e.FieldAngle.ROUND=15,e.FieldAngle.HALF=50,e.FieldAngle.CLOCKWISE=!1,e.FieldAngle.OFFSET=0,e.FieldAngle.WRAP=360,e.FieldAngle.RADIUS=e.FieldAngle.HALF-1,e.FieldAngle.prototype.configure_=function(t){switch(e.FieldAngle.superClass_.configure_.call(this,t),t.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=t.clockwise;"boolean"==typeof n&&(this.clockwise_=n),n=t.offset,null!=n&&(n=Number(n),isNaN(n)||(this.offset_=n)),n=t.wrap,null!=n&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(t=t.round)&&(t=Number(t),isNaN(t)||(this.round_=t))},e.FieldAngle.prototype.initView=function(){e.FieldAngle.superClass_.initView.call(this),this.symbol_=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},e.FieldAngle.prototype.render_=function(){e.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},e.FieldAngle.prototype.showEditor_=function(t){e.FieldAngle.superClass_.showEditor_.call(this,t,e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD),t=this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(t),e.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},e.FieldAngle.prototype.dropdownCreate_=function(){var t=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",height:2*e.FieldAngle.HALF+"px",width:2*e.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{cx:e.FieldAngle.HALF,cy:e.FieldAngle.HALF,r:e.FieldAngle.RADIUS,class:"blocklyAngleCircle"},t);this.gauge_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyAngleGauge"},t),this.line_=e.utils.dom.createSvgElement(e.utils.Svg.LINE,{x1:e.FieldAngle.HALF,y1:e.FieldAngle.HALF,class:"blocklyAngleLine"},t);for(var o=0;360>o;o+=15)e.utils.dom.createSvgElement(e.utils.Svg.LINE,{x1:e.FieldAngle.HALF+e.FieldAngle.RADIUS,y1:e.FieldAngle.HALF,x2:e.FieldAngle.HALF+e.FieldAngle.RADIUS-(0==o%45?10:5),y2:e.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+e.FieldAngle.HALF+","+e.FieldAngle.HALF+")"},t);return this.clickWrapper_=e.browserEvents.conditionalBind(t,"click",this,this.hide_),this.clickSurfaceWrapper_=e.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=e.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),t},e.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(e.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(e.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(e.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},e.FieldAngle.prototype.hide_=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hide()},e.FieldAngle.prototype.onMouseMove_=function(t){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=t.clientX-n.left-e.FieldAngle.HALF;t=t.clientY-n.top-e.FieldAngle.HALF,n=Math.atan(-t/o),isNaN(n)||(n=e.utils.math.toDegrees(n),0>o?n+=180:0<t&&(n+=360),n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n),this.displayMouseOrKeyboardValue_(n))},e.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},e.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var t=Number(this.getText())+this.offset_,n=e.utils.math.toRadians(t%360);t=["M ",e.FieldAngle.HALF,",",e.FieldAngle.HALF];var o=e.FieldAngle.HALF,r=e.FieldAngle.HALF;if(!isNaN(n)){var i=Number(this.clockwise_),s=e.utils.math.toRadians(this.offset_),a=Math.cos(s)*e.FieldAngle.RADIUS,l=Math.sin(s)*-e.FieldAngle.RADIUS;i&&(n=2*s-n),o+=Math.cos(n)*e.FieldAngle.RADIUS,r-=Math.sin(n)*e.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-s)/Math.PI)%2),i&&(n=1-n),t.push(" l ",a,",",l," A ",e.FieldAngle.RADIUS,",",e.FieldAngle.RADIUS," 0 ",n," ",i," ",o,",",r," z")}this.gauge_.setAttribute("d",t.join("")),this.line_.setAttribute("x2",o),this.line_.setAttribute("y2",r)}},e.FieldAngle.prototype.onHtmlInputKeyDown_=function(t){e.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,t);var n;if(t.keyCode===e.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:t.keyCode===e.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:t.keyCode===e.utils.KeyCodes.DOWN?n=-1:t.keyCode===e.utils.KeyCodes.UP&&(n=1),n){var o=this.getValue();this.displayMouseOrKeyboardValue_(o+n*this.round_),t.preventDefault(),t.stopPropagation()}},e.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},e.FieldAngle.prototype.wrapValue_=function(e){return e%=360,0>e&&(e+=360),e>this.wrap_&&(e-=360),e},e.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),e.fieldRegistry.register("field_angle",e.FieldAngle),e.FieldCheckbox=function(t,n,o){this.checkChar_=null,e.FieldCheckbox.superClass_.constructor.call(this,t,n,o)},e.utils.object.inherits(e.FieldCheckbox,e.Field),e.FieldCheckbox.prototype.DEFAULT_VALUE=!1,e.FieldCheckbox.fromJson=function(t){return new e.FieldCheckbox(t.checked,void 0,t)},e.FieldCheckbox.CHECK_CHAR="\u2713",e.FieldCheckbox.prototype.SERIALIZABLE=!0,e.FieldCheckbox.prototype.CURSOR="default",e.FieldCheckbox.prototype.configure_=function(t){e.FieldCheckbox.superClass_.configure_.call(this,t),t.checkCharacter&&(this.checkChar_=t.checkCharacter)},e.FieldCheckbox.prototype.initView=function(){e.FieldCheckbox.superClass_.initView.call(this),e.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},e.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},e.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||e.FieldCheckbox.CHECK_CHAR},e.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},e.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},e.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},e.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},e.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},e.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},e.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},e.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},e.fieldRegistry.register("field_checkbox",e.FieldCheckbox),e.FieldColour=function(t,n,o){e.FieldColour.superClass_.constructor.call(this,t,n,o),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},e.utils.object.inherits(e.FieldColour,e.Field),e.FieldColour.fromJson=function(t){return new e.FieldColour(t.colour,void 0,t)},e.FieldColour.prototype.SERIALIZABLE=!0,e.FieldColour.prototype.CURSOR="default",e.FieldColour.prototype.isDirty_=!1,e.FieldColour.prototype.colours_=null,e.FieldColour.prototype.titles_=null,e.FieldColour.prototype.columns_=0,e.FieldColour.prototype.configure_=function(t){e.FieldColour.superClass_.configure_.call(this,t),t.colourOptions&&(this.colours_=t.colourOptions,this.titles_=t.colourTitles),t.columns&&(this.columns_=t.columns)},e.FieldColour.prototype.initView=function(){this.size_=new e.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},e.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},e.FieldColour.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:e.utils.colour.parse(t)},e.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},e.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},e.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),e.FieldColour.prototype.DEFAULT_VALUE=e.FieldColour.COLOURS[0],e.FieldColour.TITLES=[],e.FieldColour.COLUMNS=7,e.FieldColour.prototype.setColours=function(e,t){return this.colours_=e,t&&(this.titles_=t),this},e.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},e.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(this.picker_),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},e.FieldColour.prototype.onClick_=function(t){null!==(t=(t=t.target)&&t.label)&&(this.setValue(t),e.DropDownDiv.hideIfOwner(this))},e.FieldColour.prototype.onKeyDown_=function(t){var n=!1;t.keyCode===e.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):t.keyCode===e.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):t.keyCode===e.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):t.keyCode===e.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):t.keyCode===e.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),e.DropDownDiv.hideWithoutAnimation(),n=!0),n&&t.stopPropagation()},e.FieldColour.prototype.moveHighlightBy_=function(t,n){var o=this.colours_||e.FieldColour.COLOURS,r=this.columns_||e.FieldColour.COLUMNS,i=this.highlightedIndex_%r,s=Math.floor(this.highlightedIndex_/r);i+=t,s+=n,0>t?0>i&&0<s?(i=r-1,s--):0>i&&(i=0):0<t?i>r-1&&s<Math.floor(o.length/r)-1?(i=0,s++):i>r-1&&i--:0>n?0>s&&(s=0):0<n&&s>Math.floor(o.length/r)-1&&(s=Math.floor(o.length/r)-1),this.setHighlightedCell_(this.picker_.childNodes[s].childNodes[i],s*r+i)},e.FieldColour.prototype.onMouseMove_=function(e){var t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)},e.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},e.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var t=this.getHighlighted_();t&&e.utils.dom.removeClass(t,"blocklyColourHighlighted")},e.FieldColour.prototype.getHighlighted_=function(){var t=this.columns_||e.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/t)];return n?n.childNodes[this.highlightedIndex_%t]:null},e.FieldColour.prototype.setHighlightedCell_=function(t,n){var o=this.getHighlighted_();o&&e.utils.dom.removeClass(o,"blocklyColourHighlighted"),e.utils.dom.addClass(t,"blocklyColourHighlighted"),this.highlightedIndex_=n,e.utils.aria.setState(this.picker_,e.utils.aria.State.ACTIVEDESCENDANT,t.getAttribute("id"))},e.FieldColour.prototype.dropdownCreate_=function(){var t=this.columns_||e.FieldColour.COLUMNS,n=this.colours_||e.FieldColour.COLOURS,o=this.titles_||e.FieldColour.TITLES,r=this.getValue(),i=document.createElement("table");i.className="blocklyColourTable",i.tabIndex=0,i.dir="ltr",e.utils.aria.setRole(i,e.utils.aria.Role.GRID),e.utils.aria.setState(i,e.utils.aria.State.EXPANDED,!0),e.utils.aria.setState(i,e.utils.aria.State.ROWCOUNT,Math.floor(n.length/t)),e.utils.aria.setState(i,e.utils.aria.State.COLCOUNT,t);for(var s,a=0;a<n.length;a++){0==a%t&&(s=document.createElement("tr"),e.utils.aria.setRole(s,e.utils.aria.Role.ROW),i.appendChild(s));var l=document.createElement("td");s.appendChild(l),l.label=n[a],l.title=o[a]||n[a],l.id=e.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),e.utils.aria.setRole(l,e.utils.aria.Role.GRIDCELL),e.utils.aria.setState(l,e.utils.aria.State.LABEL,n[a]),e.utils.aria.setState(l,e.utils.aria.State.SELECTED,n[a]==r),l.style.backgroundColor=n[a],n[a]==r&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}return this.onClickWrapper_=e.browserEvents.conditionalBind(i,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=e.browserEvents.conditionalBind(i,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=e.browserEvents.conditionalBind(i,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=e.browserEvents.conditionalBind(i,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=e.browserEvents.conditionalBind(i,"keydown",this,this.onKeyDown_),i},e.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(e.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(e.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(e.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(e.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(e.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},e.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),e.fieldRegistry.register("field_colour",e.FieldColour),e.FieldDropdown=function(t,n,o){"function"!=typeof t&&e.FieldDropdown.validateOptions_(t),this.menuGenerator_=t,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],e.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,o),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},e.utils.object.inherits(e.FieldDropdown,e.Field),e.FieldDropdown.fromJson=function(t){return new e.FieldDropdown(t.options,void 0,t)},e.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},e.FieldDropdown.prototype.SERIALIZABLE=!0,e.FieldDropdown.CHECKMARK_OVERHANG=25,e.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,e.FieldDropdown.IMAGE_Y_OFFSET=5,e.FieldDropdown.IMAGE_Y_PADDING=2*e.FieldDropdown.IMAGE_Y_OFFSET,e.FieldDropdown.ARROW_CHAR=e.utils.userAgent.ANDROID?"\u25bc":"\u25be",e.FieldDropdown.prototype.CURSOR="default",e.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&e.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},e.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},e.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?e.FieldDropdown.ARROW_CHAR+" ":" "+e.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},e.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},e.FieldDropdown.prototype.showEditor_=function(t){if(this.menu_=this.dropdownCreate_(),this.menu_.openingCoords=t&&"number"===typeof t.clientX?new e.utils.Coordinate(t.clientX,t.clientY):null,this.menu_.render(e.DropDownDiv.getContentDiv()),t=this.menu_.getElement(),e.utils.dom.addClass(t,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){t=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;e.DropDownDiv.setColour(t,n)}e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},e.FieldDropdown.prototype.dropdownCreate_=function(){var t=new e.Menu;t.setRole(e.utils.aria.Role.LISTBOX);var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var o=0;o<n.length;o++){var r=n[o][0],i=n[o][1];if("object"==("undefined"===typeof r?"undefined":s(r))){var a=new Image(r.width,r.height);a.src=r.src,a.alt=r.alt||"",r=a}r=new e.MenuItem(r,i),r.setRole(e.utils.aria.Role.OPTION),r.setRightToLeft(this.sourceBlock_.RTL),r.setCheckable(!0),t.addChild(r),r.setChecked(i==this.value_),i==this.value_&&(this.selectedMenuItem_=r),r.onAction(this.handleMenuActionEvent_,this)}return t},e.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},e.FieldDropdown.prototype.handleMenuActionEvent_=function(t){e.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,t)},e.FieldDropdown.prototype.onItemSelected_=function(e,t){this.setValue(t.getValue())},e.FieldDropdown.prototype.trimOptions_=function(){var t=this.menuGenerator_;if(Array.isArray(t)){for(var n=!1,o=0;o<t.length;o++){var r=t[o][0];"string"==typeof r?t[o][0]=e.utils.replaceMessageReferences(r):(null!=r.alt&&(t[o][0].alt=e.utils.replaceMessageReferences(r.alt)),n=!0)}if(!(n||2>t.length)){for(n=[],o=0;o<t.length;o++)n.push(t[o][0]);o=e.utils.string.shortestStringLength(n),r=e.utils.string.commonWordPrefix(n,o);var i=e.utils.string.commonWordSuffix(n,o);!r&&!i||o<=r+i||(r&&(this.prefixField=n[0].substring(0,r-1)),i&&(this.suffixField=n[0].substr(1-i)),this.menuGenerator_=e.FieldDropdown.applyTrim_(t,r,i))}}},e.FieldDropdown.applyTrim_=function(e,t,n){for(var o=[],r=0;r<e.length;r++){var i=e[r][0],s=e[r][1];i=i.substring(t,i.length-n),o[r]=[i,s]}return o},e.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},e.FieldDropdown.prototype.getOptions=function(t){return this.isOptionListDynamic()?(this.generatedOptions_&&t||(this.generatedOptions_=this.menuGenerator_.call(this),e.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},e.FieldDropdown.prototype.doClassValidation_=function(e){for(var t,n=!1,o=this.getOptions(!0),r=0;t=o[r];r++)if(t[1]==e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},e.FieldDropdown.prototype.doValueUpdate_=function(t){e.FieldDropdown.superClass_.doValueUpdate_.call(this,t),t=this.getOptions(!0);for(var n,o=0;n=t[o];o++)n[1]==this.value_&&(this.selectedOption_=n)},e.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},e.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==("undefined"===typeof e?"undefined":s(e))?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},e.FieldDropdown.prototype.renderSelectedImage_=function(t){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",t.src),this.imageElement_.setAttribute("height",t.height),this.imageElement_.setAttribute("width",t.width);var n=Number(t.height);t=Number(t.width);var o=!!this.borderRect_,r=Math.max(o?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+e.FieldDropdown.IMAGE_Y_PADDING);o=o?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=this.svgArrow_?this.positionSVGArrow_(t+o,r/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):e.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=t+i+2*o,this.size_.height=r;var s=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",o+i):(s=t+i,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",o)),this.imageElement_.setAttribute("y",r/2-n/2),this.positionTextElement_(s+o,t+i)},e.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),e.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var t=!!this.borderRect_,n=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),o=e.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var r=0;this.svgArrow_&&(r=this.positionSVGArrow_(o+t,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=o+r+2*t,this.size_.height=n,this.positionTextElement_(t,o)},e.FieldDropdown.prototype.positionSVGArrow_=function(e,t){if(!this.svgArrow_)return 0;var n=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?n:e+o)+","+t+")"),r+o},e.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==("undefined"===typeof e?"undefined":s(e))?e.alt:e},e.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,n=0;n<e.length;++n){var o=e[n];Array.isArray(o)?"string"!=typeof o[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+o[1]+" in: ",o)):o[0]&&"string"!=typeof o[0]&&"string"!=typeof o[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+o[0]+" in: ",o)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",o))}if(t)throw TypeError("Found invalid FieldDropdown options.")},e.fieldRegistry.register("field_dropdown",e.FieldDropdown),e.FieldLabelSerializable=function(t,n,o){e.FieldLabelSerializable.superClass_.constructor.call(this,t,n,o)},e.utils.object.inherits(e.FieldLabelSerializable,e.FieldLabel),e.FieldLabelSerializable.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldLabelSerializable(n,void 0,t)},e.FieldLabelSerializable.prototype.EDITABLE=!1,e.FieldLabelSerializable.prototype.SERIALIZABLE=!0,e.fieldRegistry.register("field_label_serializable",e.FieldLabelSerializable),e.FieldImage=function(t,n,o,r,i,s,a){if(!t)throw Error("Src value of an image field is required");if(t=e.utils.replaceMessageReferences(t),o=Number(e.utils.replaceMessageReferences(o)),n=Number(e.utils.replaceMessageReferences(n)),isNaN(o)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=o||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",e.FieldImage.superClass_.constructor.call(this,t,null,a),a||(this.flipRtl_=!!s,this.altText_=e.utils.replaceMessageReferences(r)||""),this.size_=new e.utils.Size(n,o+e.FieldImage.Y_PADDING),this.imageHeight_=o,this.clickHandler_=null,"function"==typeof i&&(this.clickHandler_=i),this.imageElement_=null},e.utils.object.inherits(e.FieldImage,e.Field),e.FieldImage.prototype.DEFAULT_VALUE="",e.FieldImage.fromJson=function(t){return new e.FieldImage(t.src,t.width,t.height,void 0,void 0,void 0,t)},e.FieldImage.Y_PADDING=1,e.FieldImage.prototype.EDITABLE=!1,e.FieldImage.prototype.isDirty_=!1,e.FieldImage.prototype.configure_=function(t){e.FieldImage.superClass_.configure_.call(this,t),this.flipRtl_=!!t.flipRtl,this.altText_=e.utils.replaceMessageReferences(t.alt)||""},e.FieldImage.prototype.initView=function(){this.imageElement_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},e.FieldImage.prototype.updateSize_=function(){},e.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},e.FieldImage.prototype.doValueUpdate_=function(t){this.value_=t,this.imageElement_&&this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},e.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},e.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},e.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},e.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},e.FieldImage.prototype.getText_=function(){return this.altText_},e.fieldRegistry.register("field_image",e.FieldImage),e.FieldMultilineInput=function(t,n,o){e.FieldMultilineInput.superClass_.constructor.call(this,t,n,o),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},e.utils.object.inherits(e.FieldMultilineInput,e.FieldTextInput),e.FieldMultilineInput.prototype.configure_=function(t){e.FieldMultilineInput.superClass_.configure_.call(this,t),t.maxLines&&this.setMaxLines(t.maxLines)},e.FieldMultilineInput.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldMultilineInput(n,void 0,t)},e.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},e.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},e.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},e.FieldMultilineInput.prototype.getDisplayText_=function(){var t=this.getText();if(!t)return e.Field.NBSP;var n=t.split("\n");t="";for(var o=this.isOverflowedY_?this.maxLines_:n.length,r=0;r<o;r++){var i=n[r];i.length>this.maxDisplayLength?i=i.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&r===o-1&&(i=i.substring(0,i.length-3)+"..."),i=i.replace(/\s/g,e.Field.NBSP),t+=i,r!==o-1&&(t+="\n")}return this.sourceBlock_.RTL&&(t+="\u200f"),t},e.FieldMultilineInput.prototype.doValueUpdate_=function(t){e.FieldMultilineInput.superClass_.doValueUpdate_.call(this,t),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},e.FieldMultilineInput.prototype.render_=function(){for(var t;t=this.textGroup_.firstChild;)this.textGroup_.removeChild(t);t=this.getDisplayText_().split("\n");for(var n=0,o=0;o<t.length;o++){var r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(t[o])),n+=r}this.isBeingEdited_&&(t=this.htmlInput_,this.isOverflowedY_?e.utils.dom.addClass(t,"blocklyHtmlTextAreaInputOverflowedY"):e.utils.dom.removeClass(t,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),t=this.htmlInput_,this.isTextValid_?(e.utils.dom.removeClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!1)):(e.utils.dom.addClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!0)))},e.FieldMultilineInput.prototype.updateSize_=function(){for(var t=this.textGroup_.childNodes,n=0,o=0,r=0;r<t.length;r++){var i=e.utils.dom.getTextWidth(t[r]);i>n&&(n=i),o+=this.getConstants().FIELD_TEXT_HEIGHT+(0<r?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){t=this.value_.split("\n"),i=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var s=this.getConstants().FIELD_TEXT_FONTSIZE,a=this.getConstants().FIELD_TEXT_FONTWEIGHT,l=this.getConstants().FIELD_TEXT_FONTFAMILY;for(r=0;r<t.length;r++){t[r].length>this.maxDisplayLength&&(t[r]=t[r].substring(0,this.maxDisplayLength)),i.textContent=t[r];var c=e.utils.dom.getFastTextWidth(i,s,a,l);c>n&&(n=c)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(o+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",o)),this.size_.width=n,this.size_.height=o,this.positionBorderRect_()},e.FieldMultilineInput.prototype.showEditor_=function(t,n){e.FieldMultilineInput.superClass_.showEditor_.call(this,t,n),this.forceRerender()},e.FieldMultilineInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV,n=this.workspace_.getScale(),o=document.createElement("textarea");o.className="blocklyHtmlInput blocklyHtmlTextAreaInput",o.setAttribute("spellcheck",this.spellcheck_);var r=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";t.style.fontSize=r,o.style.fontSize=r,o.style.borderRadius=e.FieldTextInput.BORDERRADIUS*n+"px",r=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var i=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return o.style.padding=i+"px "+r+"px "+i+"px "+r+"px",r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o.style.lineHeight=r*n+"px",t.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,e.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o},e.FieldMultilineInput.prototype.setMaxLines=function(e){"number"===typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},e.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},e.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode!==e.utils.KeyCodes.ENTER&&e.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,t)},e.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),e.fieldRegistry.register("field_multilinetext",e.FieldMultilineInput),e.FieldNumber=function(t,n,o,r,i,s){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,e.FieldNumber.superClass_.constructor.call(this,t,i,s),s||this.setConstraints(n,o,r)},e.utils.object.inherits(e.FieldNumber,e.FieldTextInput),e.FieldNumber.prototype.DEFAULT_VALUE=0,e.FieldNumber.fromJson=function(t){return new e.FieldNumber(t.value,void 0,void 0,void 0,void 0,t)},e.FieldNumber.prototype.SERIALIZABLE=!0,e.FieldNumber.prototype.configure_=function(t){e.FieldNumber.superClass_.configure_.call(this,t),this.setMinInternal_(t.min),this.setMaxInternal_(t.max),this.setPrecisionInternal_(t.precision)},e.FieldNumber.prototype.setConstraints=function(e,t,n){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(n),this.setValue(this.getValue())},e.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},e.FieldNumber.prototype.getMin=function(){return this.min_},e.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},e.FieldNumber.prototype.getMax=function(){return this.max_},e.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setPrecisionInternal_=function(e){null==e?this.precision_=0:(e=Number(e),isNaN(e)||(this.precision_=e));var t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}),n=t.indexOf(".");this.decimalPlaces_=-1==n?e?0:null:t.length-n-1},e.FieldNumber.prototype.getPrecision=function(){return this.precision_},e.FieldNumber.prototype.doClassValidation_=function(e){return null===e?null:(e=String(e),e=e.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))},e.FieldNumber.prototype.widgetCreate_=function(){var t=e.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMAX,this.max_),t},e.fieldRegistry.register("field_number",e.FieldNumber),e.FieldVariable=function(t,n,o,r,i){this.menuGenerator_=e.FieldVariable.dropdownCreate,this.defaultVariableName="string"===typeof t?t:"",this.size_=new e.utils.Size(0,0),i&&this.configure_(i),n&&this.setValidator(n),i||this.setTypes_(o,r)},e.utils.object.inherits(e.FieldVariable,e.FieldDropdown),e.FieldVariable.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.variable);return new e.FieldVariable(n,void 0,void 0,void 0,t)},e.FieldVariable.prototype.SERIALIZABLE=!0,e.FieldVariable.prototype.configure_=function(t){e.FieldVariable.superClass_.configure_.call(this,t),this.setTypes_(t.variableTypes,t.defaultType)},e.FieldVariable.prototype.initModel=function(){if(!this.variable_){var t=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(t.getId())}},e.FieldVariable.prototype.shouldAddBorderRect_=function(){return e.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},e.FieldVariable.prototype.fromXml=function(t){var n=t.getAttribute("id"),o=t.textContent,r=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(n=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,o,r),null!=r&&r!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+e.Xml.domToText(t)+".");this.setValue(n.getId())},e.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},e.FieldVariable.prototype.setSourceBlock=function(t){if(t.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");e.FieldVariable.superClass_.setSourceBlock.call(this,t)},e.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},e.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},e.FieldVariable.prototype.getVariable=function(){return this.variable_},e.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},e.FieldVariable.prototype.doClassValidation_=function(t){if(null===t)return null;var n=e.Variables.getVariable(this.sourceBlock_.workspace,t);return n?(n=n.type,this.typeIsAllowed_(n)?t:(console.warn("Variable type doesn't match this field!  Type was "+n),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)},e.FieldVariable.prototype.doValueUpdate_=function(t){this.variable_=e.Variables.getVariable(this.sourceBlock_.workspace,t),e.FieldVariable.superClass_.doValueUpdate_.call(this,t)},e.FieldVariable.prototype.typeIsAllowed_=function(e){var t=this.getVariableTypes_();if(!t)return!0;for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1},e.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],0==e.length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},e.FieldVariable.prototype.setTypes_=function(e,t){if(t=t||"",null==e||void 0==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var n=!1,o=0;o<e.length;o++)e[o]==t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}this.defaultType_=t,this.variableTypes=e},e.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},e.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var o=this.getVariableTypes_(),r=0;r<o.length;r++){var i=this.sourceBlock_.workspace.getVariablesOfType(o[r]);n=n.concat(i)}for(n.sort(e.VariableModel.compareByName),o=[],r=0;r<n.length;r++)o[r]=[n[r].name,n[r].getId()];return o.push([e.Msg.RENAME_VARIABLE,e.RENAME_VARIABLE_ID]),e.Msg.DELETE_VARIABLE&&o.push([e.Msg.DELETE_VARIABLE.replace("%1",t),e.DELETE_VARIABLE_ID]),o},e.FieldVariable.prototype.onItemSelected_=function(t,n){if(t=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(t==e.RENAME_VARIABLE_ID)return void e.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(t==e.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(t)},e.FieldVariable.prototype.referencesVariables=function(){return!0},e.fieldRegistry.register("field_variable",e.FieldVariable),e.utils.svgPaths={},e.utils.svgPaths.point=function(e,t){return" "+e+","+t+" "},e.utils.svgPaths.curve=function(e,t){return" "+e+t.join("")},e.utils.svgPaths.moveTo=function(e,t){return" M "+e+","+t+" "},e.utils.svgPaths.moveBy=function(e,t){return" m "+e+","+t+" "},e.utils.svgPaths.lineTo=function(e,t){return" l "+e+","+t+" "},e.utils.svgPaths.line=function(e){return" l"+e.join("")},e.utils.svgPaths.lineOnAxis=function(e,t){return" "+e+" "+t+" "},e.utils.svgPaths.arc=function(e,t,n,o){return e+" "+n+" "+n+" "+t+o},e.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=e.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},e.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},e.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles={};var t,n=e.blockStyles;for(t in n)this.blockStyles[t]=this.validatedBlockStyle_(n[t]);this.setDynamicProperties_(e)},e.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!=e.startHats?e.startHats:this.ADD_START_HATS},e.blockRendering.ConstantProvider.prototype.setFontConstants_=function(t){this.FIELD_TEXT_FONTFAMILY=t.fontStyle&&void 0!=t.fontStyle.family?t.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=t.fontStyle&&void 0!=t.fontStyle.weight?t.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=t.fontStyle&&void 0!=t.fontStyle.size?t.fontStyle.size:this.FIELD_TEXT_FONTSIZE,t=e.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=t.height,this.FIELD_TEXT_BASELINE=t.baseline},e.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},e.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}},e.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},e.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},e.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(t){var n={};return t&&e.utils.object.mixin(n,t),t=e.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=t.hex,n.colourSecondary=n.colourSecondary?e.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?e.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},e.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(t){return e.utils.colour.blend("#fff",t,.6)||t},e.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(t){return e.utils.colour.blend("#fff",t,.3)||t},e.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&e.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&e.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&e.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},e.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var t=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.line([e.utils.svgPaths.point(n,t/4),e.utils.svgPaths.point(2*-n,t/2),e.utils.svgPaths.point(n,t/4)])}},e.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(30,-t),e.utils.svgPaths.point(70,-t),e.utils.svgPaths.point(n,0)])}},e.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function t(t){t=t?-1:1;var r=-t,i=o/2,s=i+2.5,a=i+.5,l=e.utils.svgPaths.point(-n,t*i);return i=e.utils.svgPaths.point(n,t*i),e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(0,t*s),e.utils.svgPaths.point(-n,r*a),l])+e.utils.svgPaths.curve("s",[e.utils.svgPaths.point(n,2.5*r),i])}var n=this.TAB_WIDTH,o=this.TAB_HEIGHT,r=t(!0),i=t(!1);return{type:this.SHAPES.PUZZLE,width:n,height:o,pathDown:i,pathUp:r}},e.blockRendering.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.line([e.utils.svgPaths.point(t*r,o),e.utils.svgPaths.point(3*t,0),e.utils.svgPaths.point(t*r,-o)])}var n=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,r=(n-3)/2,i=t(1),s=t(-1);return{type:this.SHAPES.NOTCH,width:n,height:o,pathLeft:i,pathRight:s}},e.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS;return{width:t,height:t,pathTop:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t))}},e.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var t=this.CORNER_RADIUS,n=e.utils.svgPaths.moveBy(0,t)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,-t)),o=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,t)),r=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,-t));return{topLeft:n,topRight:o,bottomRight:e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,t)),bottomLeft:r,rightHeight:t}},e.blockRendering.ConstantProvider.prototype.shapeFor=function(t){switch(t.type){case e.connectionTypes.INPUT_VALUE:case e.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case e.connectionTypes.PREVIOUS_STATEMENT:case e.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},e.blockRendering.ConstantProvider.prototype.createDom=function(t,n,o){this.injectCSS_(n,o),t=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),o=e.utils.dom.createSvgElement(e.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},o),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=e.utils.dom.createSvgElement(e.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,e.blockRendering.Debug&&(t=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.debugFilterId=t.id,this.debugFilter_=t)},e.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var n=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:(t=document.createElement("style"),t.id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)},e.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},e.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},e.blockRendering.Types.LEFT_CORNER=e.blockRendering.Types.LEFT_SQUARE_CORNER|e.blockRendering.Types.LEFT_ROUND_CORNER,e.blockRendering.Types.RIGHT_CORNER=e.blockRendering.Types.RIGHT_SQUARE_CORNER|e.blockRendering.Types.RIGHT_ROUND_CORNER,e.blockRendering.Types.nextTypeValue_=16777216,e.blockRendering.Types.getType=function(t){return Object.prototype.hasOwnProperty.call(e.blockRendering.Types,t)||(e.blockRendering.Types[t]=e.blockRendering.Types.nextTypeValue_,e.blockRendering.Types.nextTypeValue_<<=1),e.blockRendering.Types[t]},e.blockRendering.Types.isField=function(t){return t.type&e.blockRendering.Types.FIELD},e.blockRendering.Types.isHat=function(t){return t.type&e.blockRendering.Types.HAT},e.blockRendering.Types.isIcon=function(t){return t.type&e.blockRendering.Types.ICON},e.blockRendering.Types.isSpacer=function(t){return t.type&e.blockRendering.Types.SPACER},e.blockRendering.Types.isInRowSpacer=function(t){return t.type&e.blockRendering.Types.IN_ROW_SPACER},e.blockRendering.Types.isInput=function(t){return t.type&e.blockRendering.Types.INPUT},e.blockRendering.Types.isExternalInput=function(t){return t.type&e.blockRendering.Types.EXTERNAL_VALUE_INPUT},e.blockRendering.Types.isInlineInput=function(t){return t.type&e.blockRendering.Types.INLINE_INPUT},e.blockRendering.Types.isStatementInput=function(t){return t.type&e.blockRendering.Types.STATEMENT_INPUT},e.blockRendering.Types.isPreviousConnection=function(t){return t.type&e.blockRendering.Types.PREVIOUS_CONNECTION},e.blockRendering.Types.isNextConnection=function(t){return t.type&e.blockRendering.Types.NEXT_CONNECTION},e.blockRendering.Types.isPreviousOrNextConnection=function(t){return t.type&(e.blockRendering.Types.PREVIOUS_CONNECTION|e.blockRendering.Types.NEXT_CONNECTION)},e.blockRendering.Types.isLeftRoundedCorner=function(t){return t.type&e.blockRendering.Types.LEFT_ROUND_CORNER},e.blockRendering.Types.isRightRoundedCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_ROUND_CORNER},e.blockRendering.Types.isLeftSquareCorner=function(t){return t.type&e.blockRendering.Types.LEFT_SQUARE_CORNER},e.blockRendering.Types.isRightSquareCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_SQUARE_CORNER},e.blockRendering.Types.isCorner=function(t){return t.type&e.blockRendering.Types.CORNER},e.blockRendering.Types.isJaggedEdge=function(t){return t.type&e.blockRendering.Types.JAGGED_EDGE},e.blockRendering.Types.isRow=function(t){return t.type&e.blockRendering.Types.ROW},e.blockRendering.Types.isBetweenRowSpacer=function(t){return t.type&e.blockRendering.Types.BETWEEN_ROW_SPACER},e.blockRendering.Types.isTopRow=function(t){return t.type&e.blockRendering.Types.TOP_ROW},e.blockRendering.Types.isBottomRow=function(t){return t.type&e.blockRendering.Types.BOTTOM_ROW},e.blockRendering.Types.isTopOrBottomRow=function(t){return t.type&(e.blockRendering.Types.TOP_ROW|e.blockRendering.Types.BOTTOM_ROW)},e.blockRendering.Types.isInputRow=function(t){return t.type&e.blockRendering.Types.INPUT_ROW},e.blockRendering.Measurable=function(t){this.height=this.width=0,this.type=e.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},e.blockRendering.Connection=function(t,n){e.blockRendering.Connection.superClass_.constructor.call(this,t),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=e.blockRendering.Types.CONNECTION},e.utils.object.inherits(e.blockRendering.Connection,e.blockRendering.Measurable),e.blockRendering.OutputConnection=function(t,n){e.blockRendering.OutputConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.OutputConnection,e.blockRendering.Connection),e.blockRendering.PreviousConnection=function(t,n){e.blockRendering.PreviousConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.PreviousConnection,e.blockRendering.Connection),e.blockRendering.NextConnection=function(t,n){e.blockRendering.NextConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.NextConnection,e.blockRendering.Connection),e.blockRendering.InputConnection=function(t,n){e.blockRendering.InputConnection.superClass_.constructor.call(this,t,n.connection),this.type|=e.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(t=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=t.width,this.connectedBlockHeight=t.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.InputConnection,e.blockRendering.Connection),e.blockRendering.InlineInput=function(t,n){e.blockRendering.InlineInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},e.utils.object.inherits(e.blockRendering.InlineInput,e.blockRendering.InputConnection),e.blockRendering.StatementInput=function(t,n){e.blockRendering.StatementInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},e.utils.object.inherits(e.blockRendering.StatementInput,e.blockRendering.InputConnection),e.blockRendering.ExternalValueInput=function(t,n){e.blockRendering.ExternalValueInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},e.utils.object.inherits(e.blockRendering.ExternalValueInput,e.blockRendering.InputConnection),e.blockRendering.Icon=function(t,n){e.blockRendering.Icon.superClass_.constructor.call(this,t),this.icon=n,this.isVisible=n.isVisible(),this.type|=e.blockRendering.Types.ICON,t=n.getCorrectedSize(),this.height=t.height,this.width=t.width},e.utils.object.inherits(e.blockRendering.Icon,e.blockRendering.Measurable),e.blockRendering.JaggedEdge=function(t){e.blockRendering.JaggedEdge.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},e.utils.object.inherits(e.blockRendering.JaggedEdge,e.blockRendering.Measurable),e.blockRendering.Field=function(t,n,o){e.blockRendering.Field.superClass_.constructor.call(this,t),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=e.blockRendering.Types.FIELD,t=this.field.getSize(),this.height=t.height,this.width=t.width,this.parentInput=o},e.utils.object.inherits(e.blockRendering.Field,e.blockRendering.Measurable),e.blockRendering.Hat=function(t){e.blockRendering.Hat.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},e.utils.object.inherits(e.blockRendering.Hat,e.blockRendering.Measurable),e.blockRendering.SquareCorner=function(t,n){e.blockRendering.SquareCorner.superClass_.constructor.call(this,t),this.type=(n&&"left"!=n?e.blockRendering.Types.RIGHT_SQUARE_CORNER:e.blockRendering.Types.LEFT_SQUARE_CORNER)|e.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},e.utils.object.inherits(e.blockRendering.SquareCorner,e.blockRendering.Measurable),e.blockRendering.RoundCorner=function(t,n){e.blockRendering.RoundCorner.superClass_.constructor.call(this,t),this.type=(n&&"left"!=n?e.blockRendering.Types.RIGHT_ROUND_CORNER:e.blockRendering.Types.LEFT_ROUND_CORNER)|e.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},e.utils.object.inherits(e.blockRendering.RoundCorner,e.blockRendering.Measurable),e.blockRendering.InRowSpacer=function(t,n){e.blockRendering.InRowSpacer.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},e.utils.object.inherits(e.blockRendering.InRowSpacer,e.blockRendering.Measurable),e.blockRendering.Row=function(t){this.type=e.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},e.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},e.blockRendering.Row.prototype.getLastInput=function(){for(var t,n=this.elements.length-1;t=this.elements[n];n--)if(e.blockRendering.Types.isInput(t))return t;return null},e.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.getFirstSpacer=function(){for(var t,n=0;t=this.elements[n];n++)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.Row.prototype.getLastSpacer=function(){for(var t,n=this.elements.length-1;t=this.elements[n];n--)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.TopRow=function(t){e.blockRendering.TopRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},e.utils.object.inherits(e.blockRendering.TopRow,e.blockRendering.Row),e.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()==e},e.blockRendering.TopRow.prototype.hasRightSquareCorner=function(e){return!0},e.blockRendering.TopRow.prototype.measure=function(){for(var t,n=0,o=0,r=0,i=0;t=this.elements[i];i++)o+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isHat(t)?r=Math.max(r,t.ascenderHeight):n=Math.max(n,t.height));this.width=Math.max(this.minWidth,o),this.height=Math.max(this.minHeight,n)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width},e.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow=function(t){e.blockRendering.BottomRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},e.utils.object.inherits(e.blockRendering.BottomRow,e.blockRendering.Row),e.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},e.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},e.blockRendering.BottomRow.prototype.measure=function(){for(var t,n=0,o=0,r=0,i=0;t=this.elements[i];i++)o+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isNextConnection(t)?r=Math.max(r,t.height):n=Math.max(n,t.height));this.width=Math.max(this.minWidth,o),this.height=Math.max(this.minHeight,n)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width},e.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},e.blockRendering.SpacerRow=function(t,n,o){e.blockRendering.SpacerRow.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=o,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new e.blockRendering.InRowSpacer(this.constants_,o)]},e.utils.object.inherits(e.blockRendering.SpacerRow,e.blockRendering.Row),e.blockRendering.SpacerRow.prototype.measure=function(){},e.blockRendering.InputRow=function(t){e.blockRendering.InputRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},e.utils.object.inherits(e.blockRendering.InputRow,e.blockRendering.Row),e.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var t,n=0,o=0;t=this.elements[o];o++)this.width+=t.width,e.blockRendering.Types.isInput(t)&&(e.blockRendering.Types.isStatementInput(t)?n+=t.connectedBlockWidth:e.blockRendering.Types.isExternalInput(t)&&0!=t.connectedBlockWidth&&(n+=t.connectedBlockWidth-t.connectionWidth)),e.blockRendering.Types.isSpacer(t)||(this.height=Math.max(this.height,t.height));this.connectedBlockWidths=n,this.widthWithConnectedBlocks=this.width+n},e.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},e.blockRendering.RenderInfo=function(t,n){this.block_=n,this.renderer_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new e.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new e.blockRendering.TopRow(this.constants_),this.bottomRow=new e.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},e.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},e.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var t=new e.blockRendering.InputRow(this.constants_);this.inputRows.push(t);var n=this.block_.getIcons();if(n.length)for(var o,r=0;o=n[r];r++){var i=new e.blockRendering.Icon(this.constants_,o);this.isCollapsed&&o.collapseHidden?this.hiddenIcons.push(i):t.elements.push(i)}for(o=null,r=0;n=this.block_.inputList[r];r++)if(n.isVisible()){for(this.shouldStartNewRow_(n,o)&&(this.rows.push(t),t=new e.blockRendering.InputRow(this.constants_),this.inputRows.push(t)),o=0;i=n.fieldRow[o];o++)t.elements.push(new e.blockRendering.Field(this.constants_,i,n));this.addInput_(n,t),o=n}this.isCollapsed&&(t.hasJaggedEdge=!0,t.elements.push(new e.blockRendering.JaggedEdge(this.constants_))),(t.elements.length||t.hasDummyInput)&&this.rows.push(t),this.populateBottomRow_(),this.rows.push(this.bottomRow)},e.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var t=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!t;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new e.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new e.blockRendering.RoundCorner(this.constants_)),n?(t=new e.blockRendering.Hat(this.constants_),this.topRow.elements.push(t),this.topRow.capline=t.ascenderHeight):t&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new e.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==e.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,this.topRow.hasRightSquareCorner(this.block_)?this.topRow.elements.push(new e.blockRendering.SquareCorner(this.constants_,"right")):this.topRow.elements.push(new e.blockRendering.RoundCorner(this.constants_,"right"))},e.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new e.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_,"right"))},e.blockRendering.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type==e.inputTypes.STATEMENT?(n.elements.push(new e.blockRendering.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type==e.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,t.getSourceBlock()&&t.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=t.align)},e.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type==e.inputTypes.STATEMENT||n.type==e.inputTypes.STATEMENT||(t.type==e.inputTypes.VALUE||t.type==e.inputTypes.DUMMY)&&!this.isInline)},e.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=0;t=this.rows[n];n++){var o=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(var r=0;r<o.length-1;r++){t.elements.push(o[r]);var i=this.getInRowSpacing_(o[r],o[r+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,i))}t.elements.push(o[o.length-1]),t.endsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(o[o.length-1],null)))}}},e.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t&&n&&e.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(t&&e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}return t&&e.blockRendering.Types.isLeftSquareCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var e,t=0,n=0,o=0,r=0;e=this.rows[r];r++){if(e.measure(),n=Math.max(n,e.width),e.hasStatement){var i=e.getLastInput();t=Math.max(t,e.width-i.width)}o=Math.max(o,e.widthWithConnectedBlocks)}for(this.statementEdge=t,this.width=n,r=0;e=this.rows[r];r++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,o),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},e.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var t,n=0;t=this.rows[n];n++)if(t.hasStatement)this.alignStatementRow_(t);else{var o=t.width;o=this.getDesiredRowWidth_(t)-o,0<o&&this.addAlignmentPadding_(t,o),e.blockRendering.Types.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}},e.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(t,n){var o=t.getFirstSpacer(),r=t.getLastSpacer();(t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=n),t.align==e.constants.ALIGN.LEFT?r.width+=n:t.align==e.constants.ALIGN.CENTRE?(o.width+=n/2,r.width+=n/2):t.align==e.constants.ALIGN.RIGHT?o.width+=n:r.width+=n,t.width+=n},e.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var t=e.getLastInput(),n=e.width-t.width,o=this.statementEdge;n=o-n,0<n&&this.addAlignmentPadding_(e,n),n=e.width,o=this.getDesiredRowWidth_(e),t.width+=o-n,t.height=Math.max(t.height,e.height),e.width+=o-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},e.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))},e.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(t,n){var o=this.getSpacerRowHeight_(t,n),r=this.getSpacerRowWidth_(t,n);return o=new e.blockRendering.SpacerRow(this.constants_,o,r),t.hasStatement&&(o.followsStatement=!0),n.hasStatement&&(o.precedesStatement=!0),o},e.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.getElemCenterline_=function(t,n){return e.blockRendering.Types.isSpacer(n)?t.yPos+n.height/2:e.blockRendering.Types.isBottomRow(t)?(t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2):e.blockRendering.Types.isTopRow(t)?e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2:t.yPos+t.height/2},e.blockRendering.RenderInfo.prototype.recordElemPositions_=function(t){for(var n,o=t.xPos,r=0;n=t.elements[r];r++)e.blockRendering.Types.isSpacer(n)&&(n.height=t.height),n.xPos=o,n.centerline=this.getElemCenterline_(t,n),o+=n.width},e.blockRendering.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,o=0;e=this.rows[o];o++)e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks),this.recordElemPositions_(e);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},e.blockRendering.Debug=function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e},e.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},e.blockRendering.Debug.prototype.clearElems=function(){for(var t,n=0;t=this.debugElements_[n];n++)e.utils.dom.removeNode(t);this.debugElements_=[]},e.blockRendering.Debug.prototype.drawSpacerRow=function(t,n,o){if(e.blockRendering.Debug.config.rowSpacers){var r=Math.abs(t.height),i=0>t.height;i&&(n-=r),this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:o?-(t.xPos+t.width):t.xPos,y:n,width:t.width,height:r,stroke:i?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawSpacerElem=function(t,n,o){if(e.blockRendering.Debug.config.elemSpacers){n=Math.abs(t.width);var r=0>t.width,i=r?t.xPos-n:t.xPos;o&&(i=-(i+n)),this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:i,y:t.centerline-t.height/2,width:n,height:t.height,stroke:"pink",fill:r?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawRenderedElem=function(t,n){if(e.blockRendering.Debug.config.elems){var o=t.xPos;n&&(o=-(o+t.width)),n=t.centerline-t.height/2,this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:o,y:n,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),e.blockRendering.Types.isField(t)&&t.field instanceof e.FieldLabel&&this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:o,y:n+this.constants_.FIELD_TEXT_BASELINE,width:t.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}e.blockRendering.Types.isInput(t)&&e.blockRendering.Debug.config.connections&&this.drawConnection(t.connectionModel)},e.blockRendering.Debug.prototype.drawConnection=function(t){if(e.blockRendering.Debug.config.connections){if(t.type==e.connectionTypes.INPUT_VALUE)var n=4,o="magenta",r="none";else t.type==e.connectionTypes.OUTPUT_VALUE?(n=2,r=o="magenta"):t.type==e.connectionTypes.NEXT_STATEMENT?(n=4,o="goldenrod",r="none"):t.type==e.connectionTypes.PREVIOUS_STATEMENT&&(n=2,r=o="goldenrod");this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:t.offsetInBlock_.x,cy:t.offsetInBlock_.y,r:n,fill:r,stroke:o},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawRenderedRow=function(t,n,o){e.blockRendering.Debug.config.rows&&(this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:o?-(t.xPos+t.width):t.xPos,y:t.yPos,width:t.width,height:t.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),e.blockRendering.Types.isTopOrBottomRow(t)||e.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:o?-(t.xPos+t.widthWithConnectedBlocks):t.xPos,y:t.yPos,width:t.widthWithConnectedBlocks,height:t.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},e.blockRendering.Debug.prototype.drawRowWithElements=function(t,n,o){for(var r=0,i=t.elements.length;r<i;r++){var s=t.elements[r];s?e.blockRendering.Types.isSpacer(s)?this.drawSpacerElem(s,t.height,o):this.drawRenderedElem(s,o):console.warn("A row has an undefined or null element.",t,s)}this.drawRenderedRow(t,n,o)},e.blockRendering.Debug.prototype.drawBoundingBox=function(t){if(e.blockRendering.Debug.config.blockBounds){var n=t.RTL?-t.width:0;this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),e.blockRendering.Debug.config.connectedBlockBounds&&(n=t.RTL?-t.widthWithChildren:0,this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blockRenderDebug",x:n,y:0,width:t.widthWithChildren,height:t.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},e.blockRendering.Debug.prototype.drawDebug=function(t,n){this.clearElems(),this.svgRoot_=t.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var o,r=0,i=0;o=n.rows[i];i++)e.blockRendering.Types.isBetweenRowSpacer(o)?this.drawSpacerRow(o,r,n.RTL):this.drawRowWithElements(o,r,n.RTL),r+=o.height;t.previousConnection&&this.drawConnection(t.previousConnection),t.nextConnection&&this.drawConnection(t.nextConnection),t.outputConnection&&this.drawConnection(t.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(t.pathObject.svgPath)},e.blockRendering.Debug.prototype.drawRender=function(t){e.blockRendering.Debug.config.render&&(t.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout(function(){t.setAttribute("filter","")},100))},e.blockRendering.Drawer=function(e,t){this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=t.getRenderer().getConstants()},e.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},e.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var e,t=0;e=this.info_.hiddenIcons[t];t++)e.icon.iconGroup_.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()},e.blockRendering.Drawer.prototype.drawTop_=function(){var t=this.info_.topRow,n=t.elements;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var o,r=0;o=n[r];r++)e.blockRendering.Types.isLeftRoundedCorner(o)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:e.blockRendering.Types.isRightRoundedCorner(o)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:e.blockRendering.Types.isPreviousConnection(o)?this.outlinePath_+=o.shape.pathLeft:e.blockRendering.Types.isHat(o)?this.outlinePath_+=this.constants_.START_HAT.path:e.blockRendering.Types.isSpacer(o)&&(this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",o.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("v",t.height)},e.blockRendering.Drawer.prototype.drawJaggedEdge_=function(t){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+e.utils.svgPaths.lineOnAxis("v",t.height-this.constants_.JAGGED_TEETH.height)},e.blockRendering.Drawer.prototype.drawValueInput_=function(t){var n=t.getLastInput();this.positionExternalValueConnection_(t);var o="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+o+e.utils.svgPaths.lineOnAxis("v",t.height-n.connectionHeight)},e.blockRendering.Drawer.prototype.drawStatementInput_=function(t){var n=t.getLastInput(),o=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var r=t.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",o)+n+e.utils.svgPaths.lineOnAxis("v",r)+this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.blockRendering.Drawer.prototype.drawRightSideRow_=function(t){this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.blockRendering.Drawer.prototype.drawBottom_=function(){var t=this.info_.bottomRow,n=t.elements;this.positionNextConnection_();for(var o,r=0,i="",s=n.length-1;o=n[s];s--)e.blockRendering.Types.isNextConnection(o)?i+=o.shape.pathRight:e.blockRendering.Types.isLeftSquareCorner(o)?i+=e.utils.svgPaths.lineOnAxis("H",t.xPos):e.blockRendering.Types.isLeftRoundedCorner(o)?i+=this.constants_.OUTSIDE_CORNERS.bottomLeft:e.blockRendering.Types.isRightRoundedCorner(o)?(i+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):e.blockRendering.Types.isSpacer(o)&&(i+=e.utils.svgPaths.lineOnAxis("h",-1*o.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-r),this.outlinePath_+=i},e.blockRendering.Drawer.prototype.drawLeft_=function(){var t=this.info_.outputConnection;if(this.positionOutputConnection_(),t){var n=t.connectionOffsetY+t.height;t="function"==typeof t.shape.pathUp?t.shape.pathUp(t.height):t.shape.pathUp,this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",n)+t}this.outlinePath_+="z"},e.blockRendering.Drawer.prototype.drawInternals_=function(){for(var t,n=0;t=this.info_.rows[n];n++)for(var o,r=0;o=t.elements[r];r++)e.blockRendering.Types.isInlineInput(o)?this.drawInlineInput_(o):(e.blockRendering.Types.isIcon(o)||e.blockRendering.Types.isField(o))&&this.layoutField_(o)},e.blockRendering.Drawer.prototype.layoutField_=function(t){if(e.blockRendering.Types.isField(t))var n=t.field.getSvgRoot();else e.blockRendering.Types.isIcon(t)&&(n=t.icon.iconGroup_);var o=t.centerline-t.height/2,r=t.xPos,i="";this.info_.RTL&&(r=-(r+t.width),t.flipRtl&&(r+=t.width,i="scale(-1 1)")),e.blockRendering.Types.isIcon(t)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+r+","+o+")"),t.icon.computeIconLocation()):n.setAttribute("transform","translate("+r+","+o+")"+i),this.info_.isInsertionMarker&&n.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawInlineInput_=function(t){var n=t.width,o=t.height,r=t.connectionOffsetY,i=t.connectionHeight+r;this.inlinePath_+=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-o/2)+e.utils.svgPaths.lineOnAxis("v",r)+t.shape.pathDown+e.utils.svgPaths.lineOnAxis("v",o-i)+e.utils.svgPaths.lineOnAxis("h",n-t.connectionWidth)+e.utils.svgPaths.lineOnAxis("v",-o)+"z",this.positionInlineInputConnection_(t)},e.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}},e.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}},e.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}},e.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},e.Events.MarkerMove=function(t,n,o,r){var i=t?t.workspace.id:void 0;r&&r.getType()==e.ASTNode.types.WORKSPACE&&(i=r.getLocation().id),e.Events.MarkerMove.superClass_.constructor.call(this,i),this.blockId=t?t.id:null,this.oldNode=o,this.newNode=r,this.isCursor=n},e.utils.object.inherits(e.Events.MarkerMove,e.Events.UiBase),e.Events.MarkerMove.prototype.type=e.Events.MARKER_MOVE,e.Events.MarkerMove.prototype.toJson=function(){var t=e.Events.MarkerMove.superClass_.toJson.call(this);return t.isCursor=this.isCursor,t.blockId=this.blockId,t.oldNode=this.oldNode,t.newNode=this.newNode,t},e.Events.MarkerMove.prototype.fromJson=function(t){e.Events.MarkerMove.superClass_.fromJson.call(this,t),this.isCursor=t.isCursor,this.blockId=t.blockId,this.oldNode=t.oldNode,this.newNode=t.newNode},e.registry.register(e.registry.Type.EVENT,e.Events.MARKER_MOVE,e.Events.MarkerMove),e.blockRendering.MarkerSvg=function(e,t,n){this.workspace_=e,this.marker_=n,this.parent_=null,this.constants_=t,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e},e.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",e.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",e.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,e.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},e.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},e.blockRendering.MarkerSvg.prototype.createDom=function(){var t=this.isCursor()?e.blockRendering.MarkerSvg.CURSOR_CLASS:e.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:t},null),this.createDomInternal_(),this.svgGroup_},e.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},e.blockRendering.MarkerSvg.prototype.draw=function(e,t){if(t){this.constants_=this.workspace_.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),e=this.currentMarkerSvg.childNodes[0],void 0!==e&&e.beginElement&&e.beginElement()}else this.hide()},e.blockRendering.MarkerSvg.prototype.showAtLocation_=function(t){var n=t.getLocation().type;t.getType()==e.ASTNode.types.BLOCK?this.showWithBlock_(t):t.getType()==e.ASTNode.types.OUTPUT?this.showWithOutput_(t):n==e.connectionTypes.INPUT_VALUE?this.showWithInput_(t):n==e.connectionTypes.NEXT_STATEMENT?this.showWithNext_(t):t.getType()==e.ASTNode.types.PREVIOUS?this.showWithPrevious_(t):t.getType()==e.ASTNode.types.FIELD?this.showWithField_(t):t.getType()==e.ASTNode.types.WORKSPACE?this.showWithCoordinates_(t):t.getType()==e.ASTNode.types.STACK&&this.showWithStack_(t)},e.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(t){t=t.getSourceBlock();var n=t.width,o=t.height,r=o*e.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,i=this.constants_.CURSOR_BLOCK_PADDING;if(t.previousConnection){var s=this.constants_.shapeFor(t.previousConnection);this.positionPrevious_(n,i,r,s)}else t.outputConnection?(s=this.constants_.shapeFor(t.outputConnection),this.positionOutput_(n,o,s)):this.positionBlock_(n,i,r);this.setParent_(t),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithField_=function(e){e=e.getLocation();var t=e.getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){e=e.getLocation();var t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var t=e.getLocation();e=t.getSourceBlock();var n=0;t=t.getOffsetInBlock().y;var o=e.getHeightWidth().width;this.workspace_.RTL&&(n=-o),this.positionLine_(n,t,o),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithStack_=function(e){e=e.getLocation();var t=e.getHeightWidth(),n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;var o=-this.constants_.CURSOR_STACK_PADDING/2,r=-this.constants_.CURSOR_STACK_PADDING/2,i=o;this.workspace_.RTL&&(i=-(n+o)),this.positionRect_(i,r,n,t),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},e.blockRendering.MarkerSvg.prototype.positionBlock_=function(t,n,o){t=e.utils.svgPaths.moveBy(-n,o)+e.utils.svgPaths.lineOnAxis("V",-n)+e.utils.svgPaths.lineOnAxis("H",t+2*n)+e.utils.svgPaths.lineOnAxis("V",o),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionInput_=function(t){var n=t.getOffsetInBlock().x,o=t.getOffsetInBlock().y;t=e.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(t).pathDown,this.markerInput_.setAttribute("d",t),this.markerInput_.setAttribute("transform","translate("+n+","+o+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},e.blockRendering.MarkerSvg.prototype.positionLine_=function(e,t,n){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",t),this.markerSvgLine_.setAttribute("width",n),this.currentMarkerSvg=this.markerSvgLine_},e.blockRendering.MarkerSvg.prototype.positionOutput_=function(t,n,o){t=e.utils.svgPaths.moveBy(t,0)+e.utils.svgPaths.lineOnAxis("h",-(t-o.width))+e.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+o.pathDown+e.utils.svgPaths.lineOnAxis("V",n)+e.utils.svgPaths.lineOnAxis("H",t),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionPrevious_=function(t,n,o,r){t=e.utils.svgPaths.moveBy(-n,o)+e.utils.svgPaths.lineOnAxis("V",-n)+e.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+r.pathLeft+e.utils.svgPaths.lineOnAxis("H",t+2*n)+e.utils.svgPaths.lineOnAxis("V",o),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionRect_=function(e,t,n,o){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",t),this.markerSvgRect_.setAttribute("width",n),this.markerSvgRect_.setAttribute("height",o),this.currentMarkerSvg=this.markerSvgRect_},e.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},e.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},e.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(t,n){var o=n.getSourceBlock();t=new(e.Events.get(e.Events.MARKER_MOVE))(o,this.isCursor(),t,n),e.Events.fire(t)},e.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},e.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=e.utils.dom.createSvgElement(e.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var t=this.getBlinkProperties_();e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerSvgLine_),e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerInput_),t.attributeName="stroke",e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerBlock_)}return this.markerSvg_},e.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",e),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},e.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_)},e.blockRendering.PathObject=function(t,n,o){this.constants=o,this.svgRoot=t,this.svgPath=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},e.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},e.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},e.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},e.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},e.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},e.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},e.blockRendering.PathObject.prototype.setClass_=function(t,n){n?e.utils.dom.addClass(this.svgRoot,t):e.utils.dom.removeClass(this.svgRoot,t)},e.blockRendering.PathObject.prototype.updateHighlighted=function(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},e.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},e.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},e.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},e.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},e.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},e.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},e.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},e.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(e,t){},e.IRegistrable=function(){},e.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},e.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},e.blockRendering.Renderer.prototype.init=function(t,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,e.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(t),this.constants_.init()},e.blockRendering.Renderer.prototype.createDom=function(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())},e.blockRendering.Renderer.prototype.refreshDom=function(t,n){var o=this.getConstants();o.dispose(),this.constants_=this.makeConstants_(),this.overrides&&e.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=o.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(t,n)},e.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},e.blockRendering.Renderer.prototype.makeConstants_=function(){return new e.blockRendering.ConstantProvider},e.blockRendering.Renderer.prototype.makeRenderInfo_=function(t){return new e.blockRendering.RenderInfo(this,t)},e.blockRendering.Renderer.prototype.makeDrawer_=function(t,n){return new e.blockRendering.Drawer(t,n)},e.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!e.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new e.blockRendering.Debug(this.getConstants())},e.blockRendering.Renderer.prototype.makeMarkerDrawer=function(t,n){return new e.blockRendering.MarkerSvg(t,this.getConstants(),n)},e.blockRendering.Renderer.prototype.makePathObject=function(t,n){return new e.blockRendering.PathObject(t,n,this.constants_)},e.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},e.blockRendering.Renderer.prototype.shouldHighlightConnection=function(e){return!0},e.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(t,n,o){return o==e.connectionTypes.OUTPUT_VALUE?(o=n.outputConnection,t=e.Connection.lastConnectionInRow(t,n)):(o=n.previousConnection,t=t.lastConnectionInStack()),!!t&&o.getConnectionChecker().canConnect(t,o,!1)},e.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(t,n,o){return n.type==e.connectionTypes.OUTPUT_VALUE||n.type==e.connectionTypes.PREVIOUS_STATEMENT?!t.isConnected()||this.orphanCanConnectAtEnd(o,t.targetBlock(),n.type)?e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},e.blockRendering.Renderer.prototype.render=function(t){e.blockRendering.useDebugger&&!t.renderingDebugger&&(t.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(t);n.measure(),this.makeDrawer_(t,n).draw()},e.geras={},e.geras.ConstantProvider=function(){e.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},e.utils.object.inherits(e.geras.ConstantProvider,e.blockRendering.ConstantProvider),e.geras.ConstantProvider.prototype.getCSS_=function(t){return e.geras.ConstantProvider.superClass_.getCSS_.call(this,t).concat([t+" .blocklyInsertionMarker>.blocklyPathLight,",t+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},e.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},e.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},e.geras.Highlighter.prototype.drawTopCorner=function(t){this.steps_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var n,o=0;n=t.elements[o];o++)e.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=this.highlightConstants_.START_POINT:e.blockRendering.Types.isLeftRoundedCorner(n)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):e.blockRendering.Types.isPreviousConnection(n)?this.steps_+=this.notchPaths_.pathLeft:e.blockRendering.Types.isHat(n)?this.steps_+=this.startPaths_.path(this.RTL_):e.blockRendering.Types.isSpacer(n)&&0!=n.width&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n.xPos+n.width-this.highlightOffset_));this.steps_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width-this.highlightOffset_)},e.geras.Highlighter.prototype.drawJaggedEdge_=function(t){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+e.utils.svgPaths.lineOnAxis("v",t.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},e.geras.Highlighter.prototype.drawValueInput=function(t){var n=t.getLastInput();if(this.RTL_){var o=t.height-n.connectionHeight;this.steps_+=e.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",o)}else this.steps_+=e.utils.svgPaths.moveTo(n.xPos+n.width,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.Highlighter.prototype.drawStatementInput=function(t){var n=t.getLastInput();if(this.RTL_){var o=t.height-2*this.insideCornerPaths_.height;this.steps_+=e.utils.svgPaths.moveTo(n.xPos,t.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",o)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=e.utils.svgPaths.moveTo(n.xPos,t.yPos+t.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-n.xPos-this.insideCornerPaths_.width,0)},e.geras.Highlighter.prototype.drawRightSideRow=function(t){var n=t.xPos+t.width-this.highlightOffset_;t.followsStatement&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n),t.height>this.highlightOffset_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height-this.highlightOffset_)))},e.geras.Highlighter.prototype.drawBottomRow=function(t){if(this.RTL_)this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];e.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=e.utils.svgPaths.moveTo(t.xPos+this.highlightOffset_,t.baseline-this.highlightOffset_):e.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=e.utils.svgPaths.moveTo(t.xPos,t.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},e.geras.Highlighter.prototype.drawLeft=function(){var t=this.info_.outputConnection;t&&(t=t.connectionOffsetY+t.height,this.RTL_?this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX,t):(this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=e.utils.svgPaths.lineOnAxis("V",t)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t=this.info_.topRow,e.blockRendering.Types.isLeftRoundedCorner(t.elements[0])?this.steps_+=e.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.capline+this.highlightOffset_))},e.geras.Highlighter.prototype.drawInlineInput=function(t){var n=this.highlightOffset_,o=t.xPos+t.connectionWidth,r=t.centerline-t.height/2,i=t.width-t.connectionWidth,s=r+n;this.RTL_?(r=t.connectionOffsetY-n,t=t.height-(t.connectionOffsetY+t.connectionHeight)+n,this.inlineSteps_+=e.utils.svgPaths.moveTo(o-n,s)+e.utils.svgPaths.lineOnAxis("v",r)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",t)+e.utils.svgPaths.lineOnAxis("h",i)):this.inlineSteps_+=e.utils.svgPaths.moveTo(t.xPos+t.width+n,s)+e.utils.svgPaths.lineOnAxis("v",t.height)+e.utils.svgPaths.lineOnAxis("h",-i)+e.utils.svgPaths.moveTo(o,r+t.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.InlineInput=function(t,n){e.geras.InlineInput.superClass_.constructor.call(this,t,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.InlineInput,e.blockRendering.InlineInput),e.geras.StatementInput=function(t,n){e.geras.StatementInput.superClass_.constructor.call(this,t,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.StatementInput,e.blockRendering.StatementInput),e.geras.RenderInfo=function(t,n){e.geras.RenderInfo.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.geras.RenderInfo,e.blockRendering.RenderInfo),e.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.geras.RenderInfo.prototype.populateBottomRow_=function(){e.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},e.geras.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type==e.inputTypes.VALUE?(n.elements.push(new e.geras.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type==e.inputTypes.STATEMENT?(n.elements.push(new e.geras.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type==e.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=t.align)},e.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=!1,o=0;t=this.rows[o];o++)t.hasExternalInput&&(n=!0);for(o=0;t=this.rows[o];o++){var r=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(var i=0;i<r.length-1;i++){t.elements.push(r[i]);var s=this.getInRowSpacing_(r[i],r[i+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(r[r.length-1]),t.endsWithElemSpacer()&&(s=this.getInRowSpacing_(r[r.length-1],null),n&&t.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s)))}}},e.geras.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t)return n&&e.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&e.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&(!n||e.blockRendering.Types.isStatementInput(n)))return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&n&&e.blockRendering.Types.isInput(n)){if(e.blockRendering.Types.isField(t)&&t.isEditable){if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&n&&!e.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&n&&e.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&n){if(e.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(e.blockRendering.Types.isNextConnection(n))return t=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset+t}if(e.blockRendering.Types.isLeftRoundedCorner(t)&&n){if(e.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(e.blockRendering.Types.isNextConnection(n))return t=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset-this.constants_.CORNER_RADIUS+t}return e.blockRendering.Types.isField(t)&&n&&e.blockRendering.Types.isField(n)&&t.isEditable==n.isEditable||n&&e.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:t.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&n.hasStatement||!t.hasStatement&&n.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getElemCenterline_=function(t,n){if(e.blockRendering.Types.isSpacer(n))return t.yPos+n.height/2;if(e.blockRendering.Types.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2;if(e.blockRendering.Types.isTopRow(t))return e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2;var o=t.yPos;return e.blockRendering.Types.isField(n)||e.blockRendering.Types.isIcon(n)?(o+=n.height/2,(t.hasInlineInput||t.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=t.height&&(o+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):o=e.blockRendering.Types.isInlineInput(n)?o+n.height/2:o+t.height/2,o},e.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var t,n=0,o=null,r=this.rows.length-1;t=this.rows[r];r--)t.nextRightEdge=n,e.blockRendering.Types.isInputRow(t)&&(t.hasStatement&&this.alignStatementRow_(t),o&&o.hasStatement&&t.width<o.width?t.nextRightEdge=o.width:n=t.width,o=t);for(r=n=0;t=this.rows[r];r++)t.hasStatement?n=this.getDesiredRowWidth_(t):e.blockRendering.Types.isSpacer(t)?t.width=Math.max(n,t.nextRightEdge):(n=Math.max(n,t.nextRightEdge)-t.width,0<n&&this.addAlignmentPadding_(t,n),n=t.width)}else e.geras.RenderInfo.superClass_.alignRowElements_.call(this)},e.geras.RenderInfo.prototype.getDesiredRowWidth_=function(t){return this.isInline&&t.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:e.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,t)},e.geras.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,o=0;e=this.rows[o];o++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var r=n-this.topRow.ascenderHeight;e==this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,n+=r),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},e.geras.Drawer=function(t,n){e.geras.Drawer.superClass_.constructor.call(this,t,n),this.highlighter_=new e.geras.Highlighter(n)},e.utils.object.inherits(e.geras.Drawer,e.blockRendering.Drawer),e.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var t=this.block_.pathObject;t.setPath(this.outlinePath_+"\n"+this.inlinePath_),t.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&t.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),e.geras.Drawer.superClass_.drawTop_.call(this)},e.geras.Drawer.prototype.drawJaggedEdge_=function(t){this.highlighter_.drawJaggedEdge_(t),e.geras.Drawer.superClass_.drawJaggedEdge_.call(this,t)},e.geras.Drawer.prototype.drawValueInput_=function(t){this.highlighter_.drawValueInput(t),e.geras.Drawer.superClass_.drawValueInput_.call(this,t)},e.geras.Drawer.prototype.drawStatementInput_=function(t){this.highlighter_.drawStatementInput(t),e.geras.Drawer.superClass_.drawStatementInput_.call(this,t)},e.geras.Drawer.prototype.drawRightSideRow_=function(t){this.highlighter_.drawRightSideRow(t),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width)+e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),e.geras.Drawer.superClass_.drawBottom_.call(this)},e.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),e.geras.Drawer.superClass_.drawLeft_.call(this)},e.geras.Drawer.prototype.drawInlineInput_=function(t){this.highlighter_.drawInlineInput(t),e.geras.Drawer.superClass_.drawInlineInput_.call(this,t)},e.geras.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},e.geras.HighlightConstantProvider=function(t){this.constantProvider=t,this.OFFSET=.5,this.START_POINT=e.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},e.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},e.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,o=(1-Math.SQRT1_2)*(t+n)-n,r=e.utils.svgPaths.moveBy(o,o)+e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-o-n,t-o)),i=e.utils.svgPaths.arc("a","0 0,0",t+n,e.utils.svgPaths.point(t+n,t+n)),s=e.utils.svgPaths.moveBy(o,-o)+e.utils.svgPaths.arc("a","0 0,0",t+n,e.utils.svgPaths.point(t-o,o+n));return{width:t+n,height:t,pathTop:function(e){return e?r:""},pathBottom:function(e){return e?i:s}}},e.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,o=(1-Math.SQRT1_2)*(t-n)+n,r=e.utils.svgPaths.moveBy(o,o)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(t-o,-o+n)),i=e.utils.svgPaths.moveBy(n,t)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(t,-t+n)),s=-o,a=e.utils.svgPaths.moveBy(o,s)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(-o+n,-s-t));return{height:t,topLeft:function(e){return e?r:i},bottomLeft:function(){return a}}},e.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var t=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,o=e.utils.svgPaths.moveBy(-2,3.4-n)+e.utils.svgPaths.lineTo(-.45*t,-2.1),r=e.utils.svgPaths.lineOnAxis("v",2.5)+e.utils.svgPaths.moveBy(.97*-t,2.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(.05*-t,10),e.utils.svgPaths.point(.3*t,9.5)])+e.utils.svgPaths.moveBy(.67*t,-1.9)+e.utils.svgPaths.lineOnAxis("v",2.5),i=e.utils.svgPaths.lineOnAxis("v",-1.5)+e.utils.svgPaths.moveBy(-.92*t,-.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(-.19*t,-5.5),e.utils.svgPaths.point(0,-11)])+e.utils.svgPaths.moveBy(.92*t,1),s=e.utils.svgPaths.moveBy(-5,n-.7)+e.utils.svgPaths.lineTo(.46*t,-2.1);return{width:t,height:n,pathUp:function(e){return e?o:i},pathDown:function(e){return e?r:s}}},e.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:e.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},e.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:e.utils.svgPaths.lineTo(5.1,2.6)+e.utils.svgPaths.moveBy(-10.2,6.8)+e.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},e.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var t=this.constantProvider.START_HAT.height,n=e.utils.svgPaths.moveBy(25,-8.7)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(29.7,-6.2),e.utils.svgPaths.point(57.2,-.5),e.utils.svgPaths.point(75,8.7)]),o=e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(17.8,-9.2),e.utils.svgPaths.point(45.3,-14.9),e.utils.svgPaths.point(75,-8.7)])+e.utils.svgPaths.moveTo(100.5,t+.5);return{path:function(e){return e?n:o}}},e.geras.PathObject=function(t,n,o){this.constants=o,this.svgRoot=t,this.svgPathDark=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},e.utils.object.inherits(e.geras.PathObject,e.blockRendering.PathObject),e.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},e.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},e.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},e.geras.PathObject.prototype.applyColour=function(t){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),e.geras.PathObject.superClass_.applyColour.call(this,t),this.svgPath.setAttribute("stroke","none")},e.geras.PathObject.prototype.setStyle=function(t){this.style=t,this.colourDark=e.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},e.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},e.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},e.geras.PathObject.prototype.updateDisabled_=function(t){e.geras.PathObject.superClass_.updateDisabled_.call(this,t),t&&this.svgPath.setAttribute("stroke","none")},e.geras.Renderer=function(t){e.geras.Renderer.superClass_.constructor.call(this,t),this.highlightConstants_=null},e.utils.object.inherits(e.geras.Renderer,e.blockRendering.Renderer),e.geras.Renderer.prototype.init=function(t,n){e.geras.Renderer.superClass_.init.call(this,t,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},e.geras.Renderer.prototype.refreshDom=function(t,n){e.geras.Renderer.superClass_.refreshDom.call(this,t,n),this.getHighlightConstants().init()},e.geras.Renderer.prototype.makeConstants_=function(){return new e.geras.ConstantProvider},e.geras.Renderer.prototype.makeRenderInfo_=function(t){return new e.geras.RenderInfo(this,t)},e.geras.Renderer.prototype.makeDrawer_=function(t,n){return new e.geras.Drawer(t,n)},e.geras.Renderer.prototype.makePathObject=function(t,n){return new e.geras.PathObject(t,n,this.getConstants())},e.geras.Renderer.prototype.makeHighlightConstants_=function(){return new e.geras.HighlightConstantProvider(this.getConstants())},e.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},e.blockRendering.register("geras",e.geras.Renderer),e.thrasos={},e.thrasos.RenderInfo=function(t,n){e.thrasos.RenderInfo.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.thrasos.RenderInfo,e.blockRendering.RenderInfo),e.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=!1,o=0;t=this.rows[o];o++)t.hasExternalInput&&(n=!0);for(o=0;t=this.rows[o];o++){var r=t.elements;t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0])));for(var i=0;i<r.length-1;i++){t.elements.push(r[i]);var s=this.getInRowSpacing_(r[i],r[i+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(r[r.length-1]),t.endsWithElemSpacer()&&(s=this.getInRowSpacing_(r[r.length-1],null),n&&t.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s)))}},e.thrasos.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t)return n&&e.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&e.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&!n)return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&n&&e.blockRendering.Types.isInput(n)){if(e.blockRendering.Types.isField(t)&&t.isEditable){if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&n&&!e.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&n&&e.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&n){if(e.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))return n.notchOffset}return e.blockRendering.Types.isLeftRoundedCorner(t)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:e.blockRendering.Types.isField(t)&&n&&e.blockRendering.Types.isField(n)&&t.isEditable==n.isEditable||n&&e.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:t.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&n.hasStatement||t.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.thrasos.RenderInfo.prototype.getElemCenterline_=function(t,n){if(e.blockRendering.Types.isSpacer(n))return t.yPos+n.height/2;if(e.blockRendering.Types.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2;if(e.blockRendering.Types.isTopRow(t))return e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2;var o=t.yPos;return o=e.blockRendering.Types.isField(n)&&t.hasStatement?o+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):o+t.height/2},e.thrasos.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,o=0;e=this.rows[o];o++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var r=n-this.topRow.ascenderHeight;e==this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,n+=r),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline},e.thrasos.Renderer=function(t){e.thrasos.Renderer.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.thrasos.Renderer,e.blockRendering.Renderer),e.thrasos.Renderer.prototype.makeRenderInfo_=function(t){return new e.thrasos.RenderInfo(this,t)},e.blockRendering.register("thrasos",e.thrasos.Renderer),e.zelos={},e.zelos.ConstantProvider=function(){e.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},e.utils.object.inherits(e.zelos.ConstantProvider,e.blockRendering.ConstantProvider),e.zelos.ConstantProvider.prototype.setFontConstants_=function(t){e.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,t),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},e.zelos.ConstantProvider.prototype.init=function(){e.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},e.zelos.ConstantProvider.prototype.setDynamicProperties_=function(t){e.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,t),this.SELECTED_GLOW_COLOUR=t.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(t.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=t.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(t=Number(t.getComponentStyle("replacementGlowSize")))&&!isNaN(t)?t:this.REPLACEMENT_GLOW_SIZE},e.zelos.ConstantProvider.prototype.dispose=function(){e.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&e.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&e.utils.dom.removeNode(this.replacementGlowFilter_)},e.zelos.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(25,-t),e.utils.svgPaths.point(71,-t),e.utils.svgPaths.point(n,0)])}},e.zelos.ConstantProvider.prototype.makeHexagonal=function(){function t(t,o,r){var i=t/2;return i=i>n?n:i,r=r?-1:1,t=(o?-1:1)*t/2,e.utils.svgPaths.lineTo(-r*i,t)+e.utils.svgPaths.lineTo(r*i,t)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(e){return e/=2,e>n?n:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.makeRounded=function(){function t(t,n,r){var i=t>o?t-o:0;return t=(t>o?o:t)/2,e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point((n?-1:1)*t,(n?-1:1)*t))+e.utils.svgPaths.lineOnAxis("v",(r?1:-1)*i)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point((n?1:-1)*t,(n?-1:1)*t))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(e){return e/=2,e>n?n:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.makeSquared=function(){function t(t,o,r){return t-=2*n,e.utils.svgPaths.arc("a","0 0,1",n,e.utils.svgPaths.point((o?-1:1)*n,(o?-1:1)*n))+e.utils.svgPaths.lineOnAxis("v",(r?1:-1)*t)+e.utils.svgPaths.arc("a","0 0,1",n,e.utils.svgPaths.point((o?1:-1)*n,(o?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(e){return n},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.shapeFor=function(t){var n=t.getCheck();switch(!n&&t.targetConnection&&(n=t.targetConnection.getCheck()),t.type){case e.connectionTypes.INPUT_VALUE:case e.connectionTypes.OUTPUT_VALUE:if(null!=(t=t.getSourceBlock().getOutputShape()))switch(t){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:n&&-1!=n.indexOf("Number")?this.ROUNDED:(n&&n.indexOf("String"),this.ROUNDED);case e.connectionTypes.PREVIOUS_STATEMENT:case e.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},e.zelos.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*i/2,0),e.utils.svgPaths.point(t*i*3/4,a/2),e.utils.svgPaths.point(t*i,a)])+e.utils.svgPaths.line([e.utils.svgPaths.point(t*i,s)])+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*i/4,a/2),e.utils.svgPaths.point(t*i/2,a),e.utils.svgPaths.point(t*i,a)])+e.utils.svgPaths.lineOnAxis("h",t*r)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*i/2,0),e.utils.svgPaths.point(t*i*3/4,-a/2),e.utils.svgPaths.point(t*i,-a)])+e.utils.svgPaths.line([e.utils.svgPaths.point(t*i,-s)])+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*i/4,-a/2),e.utils.svgPaths.point(t*i/2,-a),e.utils.svgPaths.point(t*i,-a)])}var n=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,r=n/3,i=r/3,s=o/2,a=s/2,l=t(1),c=t(-1);return{type:this.SHAPES.NOTCH,width:n,height:o,pathLeft:l,pathRight:c}},e.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS,n=e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),o=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,t));return{width:t,height:t,pathTop:n,pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t)),rightWidth:t,rightHeight:t,pathTopRight:o,pathBottomRight:e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,t))}},e.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(t){return e.utils.colour.blend("#000",t,.15)||t},e.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(t){return e.utils.colour.blend("#000",t,.25)||t},e.zelos.ConstantProvider.prototype.createDom=function(t,n,o){e.zelos.ConstantProvider.superClass_.createDom.call(this,t,n,o),t=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),o=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,t=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},t),this.replacementGlowFilterId=t.id,this.replacementGlowFilter_=t},e.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},e.zelos.TopRow=function(t){e.zelos.TopRow.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.TopRow,e.blockRendering.TopRow),e.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},e.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t},e.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.zelos.BottomRow=function(t){e.zelos.BottomRow.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.BottomRow,e.blockRendering.BottomRow),e.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},e.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},e.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.zelos.RightConnectionShape=function(t){e.zelos.RightConnectionShape.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},e.utils.object.inherits(e.zelos.RightConnectionShape,e.blockRendering.Measurable),e.zelos.RenderInfo=function(t,n){e.zelos.RenderInfo.superClass_.constructor.call(this,t,n),this.topRow=new e.zelos.TopRow(this.constants_),this.bottomRow=new e.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new e.zelos.RightConnectionShape(this.constants_):null},e.utils.object.inherits(e.zelos.RenderInfo,e.blockRendering.RenderInfo),e.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},e.zelos.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type==e.inputTypes.STATEMENT||n.type==e.inputTypes.STATEMENT||(t.type==e.inputTypes.VALUE||t.type==e.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},e.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(t){return t.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):e.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,t)},e.zelos.RenderInfo.prototype.getInRowSpacing_=function(t,n){return t&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!t&&n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:t&&e.blockRendering.Types.isLeftSquareCorner(t)&&n&&e.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},e.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){if(e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var o=e.blockRendering.Types.isInputRow(t)&&t.hasStatement,r=e.blockRendering.Types.isInputRow(n)&&n.hasStatement;return r||o?(t=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),r&&o?Math.max(t,this.constants_.DUMMY_INPUT_MIN_HEIGHT):t):e.blockRendering.Types.isTopRow(t)?t.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):e.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(t,n){var o=this.width-this.startX;return e.blockRendering.Types.isInputRow(t)&&t.hasStatement||e.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(o,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):o},e.zelos.RenderInfo.prototype.getElemCenterline_=function(t,n){if(t.hasStatement&&!e.blockRendering.Types.isSpacer(n)&&!e.blockRendering.Types.isStatementInput(n))return t.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(e.blockRendering.Types.isInlineInput(n)){var o=n.connectedBlock;if(o&&o.outputConnection&&o.nextConnection)return t.yPos+o.height/2}return e.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,t,n)},e.zelos.RenderInfo.prototype.addInput_=function(t,n){t.type==e.inputTypes.DUMMY&&n.hasDummyInput&&n.align==e.constants.ALIGN.LEFT&&t.align==e.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=t),e.zelos.RenderInfo.superClass_.addInput_.call(this,t,n)},e.zelos.RenderInfo.prototype.addAlignmentPadding_=function(t,n){if(t.rightAlignedDummyInput){for(var o,r,i=0;(r=t.elements[i])&&(e.blockRendering.Types.isSpacer(r)&&(o=r),!e.blockRendering.Types.isField(r)||r.parentInput!=t.rightAlignedDummyInput);i++);if(o)return o.width+=n,void(t.width+=n)}e.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,t,n)},e.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=t,o=2;o<this.rows.length-1;o+=2){var r=this.rows[o-1],i=this.rows[o],s=this.rows[o+1];if(r=2==o?!!this.topRow.hasPreviousConnection:!!r.followsStatement,s=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement,e.blockRendering.Types.isInputRow(i)&&i.hasStatement)i.measure(),n=i.width-i.getLastInput().width+t;else if(r&&(2==o||s)&&e.blockRendering.Types.isInputRow(i)&&!i.hasStatement){s=i.xPos,r=null;for(var a,l=0;a=i.elements[l];l++)e.blockRendering.Types.isSpacer(a)&&(r=a),!(r&&(e.blockRendering.Types.isField(a)||e.blockRendering.Types.isInput(a))&&s<n)||e.blockRendering.Types.isField(a)&&(a.field instanceof e.FieldLabel||a.field instanceof e.FieldImage)||(r.width+=n-s),s+=a.width}}},e.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var e,t=0,n=0;e=this.rows[n];n++)e.yPos=t,t+=e.height;this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=this.outputConnection.shape.height(n),n=this.outputConnection.shape.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(t),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}},e.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var t,n=0,o=0;t=this.rows[o];o++)if(e.blockRendering.Types.isInputRow(t)){n=t.elements[t.elements.length-2];var r=this.getNegativeSpacing_(t.elements[1]),i=this.getNegativeSpacing_(n);n=r+i;var s=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-n<s&&(n=this.width-s,r=n/2,i=n/2),t.elements.unshift(new e.blockRendering.InRowSpacer(this.constants_,-r)),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,-i))}if(n)for(this.width-=n,this.widthWithChildren-=n,this.rightSide.xPos-=n,o=0;t=this.rows[o];o++)e.blockRendering.Types.isTopOrBottomRow(t)&&(t.elements[1].width-=n,t.elements[1].widthWithConnectedBlocks-=n),t.width-=n,t.widthWithConnectedBlocks-=n}},e.zelos.RenderInfo.prototype.getNegativeSpacing_=function(t){if(!t)return 0;var n=this.outputConnection.width,o=this.outputConnection.shape.type,r=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(o){case r.SHAPES.ROUND:return o=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=this.height/2>o?o:this.height/2,n-o*(1-Math.sin(Math.acos((o-this.constants_.SMALL_PADDING)/o)));default:return 0}if(e.blockRendering.Types.isInlineInput(t)){var i=t.connectedBlock;return t=i?i.pathObject.outputShapeType:t.shape.type,i&&i.outputConnection&&(i.statementInputCount||i.nextConnection)||o==r.SHAPES.HEXAGONAL&&o!=t?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[o][t]}return e.blockRendering.Types.isField(t)?o==r.SHAPES.ROUND&&t.field instanceof e.FieldTextInput?n-2.75*r.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[o][0]:e.blockRendering.Types.isIcon(t)?this.constants_.SMALL_PADDING:0},e.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var t=2;t<this.rows.length-1;t+=2){var n=this.rows[t-1],o=this.rows[t],r=this.rows[t+1],i=2==t,s=t+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!r.precedesStatement;if(i?this.topRow.hasPreviousConnection:n.followsStatement){var a=3==o.elements.length&&(o.elements[1].field instanceof e.FieldLabel||o.elements[1].field instanceof e.FieldImage);if(!i&&a)n.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.SMALL_PADDING,o.height-=this.constants_.MEDIUM_PADDING;else if(i||s){if(s){for(i=!1,s=0;a=o.elements[s];s++)if(e.blockRendering.Types.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&40<=a.connectedBlock.getHeightWidth().height){i=!0;break}i&&(n.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},e.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),e.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},e.zelos.Drawer=function(t,n){e.zelos.Drawer.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.zelos.Drawer,e.blockRendering.Drawer),e.zelos.Drawer.prototype.draw=function(){var t=this.block_.pathObject;t.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),t.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&t.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(t.outputShapeType=this.info_.outputConnection.shape.type),t.endDrawing()},e.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):e.zelos.Drawer.superClass_.drawOutline_.call(this)},e.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():e.zelos.Drawer.superClass_.drawLeft_.call(this)},e.zelos.Drawer.prototype.drawRightSideRow_=function(t){if(!(0>=t.height))if(t.precedesStatement||t.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;n=t.height-(t.precedesStatement?n:0),this.outlinePath_+=(t.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<n?e.utils.svgPaths.lineOnAxis("V",t.yPos+n):"")+(t.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},e.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},e.zelos.Drawer.prototype.drawFlatTop_=function(){var t=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",t.width)},e.zelos.Drawer.prototype.drawFlatBottom_=function(){var t=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",-t.width)},e.zelos.Drawer.prototype.drawInlineInput_=function(t){this.positionInlineInputConnection_(t);var n=t.input.name;if(!t.connectedBlock&&!this.info_.isInsertionMarker){var o=t.width-2*t.connectionWidth;t=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-t.height/2)+e.utils.svgPaths.lineOnAxis("h",o)+t.shape.pathRightDown(t.height)+e.utils.svgPaths.lineOnAxis("h",-o)+t.shape.pathUp(t.height)+"z",this.block_.pathObject.setOutlinePath(n,t)}},e.zelos.Drawer.prototype.drawStatementInput_=function(t){var n=t.getLastInput(),o=n.xPos+n.notchOffset+n.shape.width,r=n.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,i=t.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",o)+r+e.utils.svgPaths.lineOnAxis("v",i)+n+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.zelos.MarkerSvg=function(t,n,o){e.zelos.MarkerSvg.superClass_.constructor.call(this,t,n,o)},e.utils.object.inherits(e.zelos.MarkerSvg,e.blockRendering.MarkerSvg),e.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()},e.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},e.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},e.zelos.MarkerSvg.prototype.showWithBlock_=function(e){e=e.getLocation();var t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()},e.zelos.MarkerSvg.prototype.positionCircle_=function(e,t){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",t),this.currentMarkerSvg=this.markerCircle_},e.zelos.MarkerSvg.prototype.hide=function(){e.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},e.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(e.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var t=this.getBlinkProperties_();e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerCircle_)}return this.markerSvg_},e.zelos.MarkerSvg.prototype.applyColour_=function(t){e.zelos.MarkerSvg.superClass_.applyColour_.call(this,t),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},e.zelos.PathObject=function(t,n,o){e.zelos.PathObject.superClass_.constructor.call(this,t,n,o),this.constants=o,this.svgPathSelected_=null,this.outlines_={},this.outputShapeType=this.remainingOutlines_=null},e.utils.object.inherits(e.zelos.PathObject,e.blockRendering.PathObject),e.zelos.PathObject.prototype.setPath=function(t){e.zelos.PathObject.superClass_.setPath.call(this,t),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",t)},e.zelos.PathObject.prototype.applyColour=function(t){e.zelos.PathObject.superClass_.applyColour.call(this,t),t.isShadow()&&t.getParent()&&this.svgPath.setAttribute("stroke",t.getParent().style.colourTertiary),t=0;for(var n,o=Object.keys(this.outlines_);n=o[t];t++)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},e.zelos.PathObject.prototype.flipRTL=function(){e.zelos.PathObject.superClass_.flipRTL.call(this);for(var t,n=0,o=Object.keys(this.outlines_);t=o[n];n++)this.outlines_[t].setAttribute("transform","scale(-1 1)")},e.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},e.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},e.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},e.zelos.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_={};for(var e,t=0,n=Object.keys(this.outlines_);e=n[t];t++)this.remainingOutlines_[e]=1},e.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e,t=0,n=Object.keys(this.remainingOutlines_);e=n[t];t++)this.removeOutlinePath_(e);this.remainingOutlines_=null},e.zelos.PathObject.prototype.setOutlinePath=function(e,t){e=this.getOutlinePath_(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)},e.zelos.PathObject.prototype.getOutlinePath_=function(t){return this.outlines_[t]||(this.outlines_[t]=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[t],this.outlines_[t]},e.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},e.zelos.Renderer=function(t){e.zelos.Renderer.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.Renderer,e.blockRendering.Renderer),e.zelos.Renderer.prototype.makeConstants_=function(){return new e.zelos.ConstantProvider},e.zelos.Renderer.prototype.makeRenderInfo_=function(t){return new e.zelos.RenderInfo(this,t)},e.zelos.Renderer.prototype.makeDrawer_=function(t,n){return new e.zelos.Drawer(t,n)},e.zelos.Renderer.prototype.makeMarkerDrawer=function(t,n){return new e.zelos.MarkerSvg(t,this.getConstants(),n)},e.zelos.Renderer.prototype.makePathObject=function(t,n){return new e.zelos.PathObject(t,n,this.getConstants())},e.zelos.Renderer.prototype.shouldHighlightConnection=function(t){return t.type!=e.connectionTypes.INPUT_VALUE&&t.type!==e.connectionTypes.OUTPUT_VALUE},e.zelos.Renderer.prototype.getConnectionPreviewMethod=function(t,n,o){return n.type==e.connectionTypes.OUTPUT_VALUE?t.isConnected()?e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:e.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:e.zelos.Renderer.superClass_.getConnectionPreviewMethod(t,n,o)},e.blockRendering.register("zelos",e.zelos.Renderer),e.Themes.Dark=e.Theme.defineTheme("dark",{base:e.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),e.Themes.Deuteranopia={},e.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},e.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},e.Themes.Deuteranopia=new e.Theme("deuteranopia",e.Themes.Deuteranopia.defaultBlockStyles,e.Themes.Deuteranopia.categoryStyles),e.Themes.HighContrast={},e.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},e.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},e.Themes.HighContrast=new e.Theme("highcontrast",e.Themes.HighContrast.defaultBlockStyles,e.Themes.HighContrast.categoryStyles),e.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),e.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),e.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),e.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),e.Themes.Tritanopia={},e.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},e.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},e.Themes.Tritanopia=new e.Theme("tritanopia",e.Themes.Tritanopia.defaultBlockStyles,e.Themes.Tritanopia.categoryStyles),e.requires={},e})}).call(t,n(101))},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","as"],p=["xl","lg","md","sm","xs"],h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,h=void 0===a?"div":a,d=Object(r.a)(e,u),f=Object(c.a)(n,"col"),_=[],g=[];return p.forEach(function(e){var t=d[e];delete d[e];var n,o,r;if("object"===typeof t&&null!=t){var i=t.span;n=void 0===i||i,o=t.offset,r=t.order}else n=t;var s="xs"!==e?"-"+e:"";n&&_.push(!0===n?""+f+s:""+f+s+"-"+n),null!=r&&g.push("order"+s+"-"+r),null!=o&&g.push("offset"+s+"-"+o)}),_.length||_.push(f),l.a.createElement(h,Object(o.a)({},d,{ref:t,className:s.a.apply(void 0,[i].concat(_,g))}))});h.displayName="Col",t.a=h},function(e,t,n){"use strict";function o(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===("undefined"===typeof e?"undefined":r(e))&&null!=e&&t in e&&(n=e[t]),n}t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.accessor=o},function(e,t,n){function o(e,t){var n=i(e,t);return r(n)?n:void 0}var r=n(388),i=n(391);e.exports=o},function(e,t,n){"use strict";function o(e){return"/"===e.charAt(0)?e:"/"+e}function r(e){return"/"===e.charAt(0)?e.substr(1):e}function i(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function s(e,t){return i(e,t)?e.substr(t.length):e}function a(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function l(e){var t=e||"/",n="",o="",r=t.indexOf("#");-1!==r&&(o=t.substr(r),t=t.substr(0,r));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===o?"":o}}function c(e){var t=e.pathname,n=e.search,o=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r}function u(e,t,n,o){var r;"string"===typeof e?(r=l(e),r.state=t):(r=Object(R.a)({},e),void 0===r.pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(r.key=n),o?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=Object(w.a)(r.pathname,o.pathname)):r.pathname=o.pathname:r.pathname||(r.pathname="/"),r}function p(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(I.a)(e.state,t.state)}function h(){function e(e){return r=e,function(){r===e&&(r=null)}}function t(e,t,n,o){if(null!=r){var i="function"===typeof r?r(e,t):r;"string"===typeof i?"function"===typeof n?n(i,o):o(!0):o(!1!==i)}else o(!0)}function n(e){function t(){n&&e.apply(void 0,arguments)}var n=!0;return i.push(t),function(){n=!1,i=i.filter(function(e){return e!==t})}}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.forEach(function(e){return e.apply(void 0,t)})}var r=null,i=[];return{setPrompt:e,confirmTransitionTo:t,appendListener:n,notifyListeners:o}}function d(e,t){t(window.confirm(e))}function f(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function _(){return-1===window.navigator.userAgent.indexOf("Trident")}function g(){return-1===window.navigator.userAgent.indexOf("Firefox")}function m(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}function v(){try{return window.history.state||{}}catch(e){return{}}}function y(e){function t(e){var t=e||{},n=t.key,o=t.state,r=window.location,i=r.pathname,a=r.search,l=r.hash,c=i+a+l;return H&&(c=s(c,H)),u(c,o,n)}function n(){return Math.random().toString(36).substr(2,V)}function r(e){Object(R.a)(q,e),q.length=I.length,G.notifyListeners(q.location,q.action)}function i(e){m(e)||p(t(e.state))}function l(){p(t(v()))}function p(e){if(Y)Y=!1,r();else{G.confirmTransitionTo(e,"POP",j,function(t){t?r({action:"POP",location:e}):g(e)})}}function g(e){var t=q.location,n=X.indexOf(t.key);-1===n&&(n=0);var o=X.indexOf(e.key);-1===o&&(o=0);var r=n-o;r&&(Y=!0,T(r))}function y(e){return H+c(e)}function b(e,t){var o=u(e,t,n(),q.location);G.confirmTransitionTo(o,"PUSH",j,function(e){if(e){var t=y(o),n=o.key,i=o.state;if(P)if(I.pushState({key:n,state:i},null,t),F)window.location.href=t;else{var s=X.indexOf(q.location.key),a=X.slice(0,s+1);a.push(o.key),X=a,r({action:"PUSH",location:o})}else window.location.href=t}})}function E(e,t){var o=u(e,t,n(),q.location);G.confirmTransitionTo(o,"REPLACE",j,function(e){if(e){var t=y(o),n=o.key,i=o.state;if(P)if(I.replaceState({key:n,state:i},null,t),F)window.location.replace(t);else{var s=X.indexOf(q.location.key);-1!==s&&(X[s]=o.key),r({action:"REPLACE",location:o})}else window.location.replace(t)}})}function T(e){I.go(e)}function O(){T(-1)}function C(){T(1)}function S(e){J+=e,1===J&&1===e?(window.addEventListener(N,i),x&&window.addEventListener(M,l)):0===J&&(window.removeEventListener(N,i),x&&window.removeEventListener(M,l))}function k(e){void 0===e&&(e=!1);var t=G.setPrompt(e);return z||(S(1),z=!0),function(){return z&&(z=!1,S(-1)),t()}}function w(e){var t=G.appendListener(e);return S(1),function(){S(-1),t()}}void 0===e&&(e={}),A||Object(D.a)(!1);var I=window.history,P=f(),x=!_(),L=e,B=L.forceRefresh,F=void 0!==B&&B,U=L.getUserConfirmation,j=void 0===U?d:U,W=L.keyLength,V=void 0===W?6:W,H=e.basename?a(o(e.basename)):"",G=h(),Y=!1,K=t(v()),X=[K.key],J=0,z=!1,q={length:I.length,action:"POP",location:K,createHref:y,push:b,replace:E,go:T,goBack:O,goForward:C,block:k,listen:w};return q}function b(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.hash=e}function O(e){window.location.replace(b(window.location.href)+"#"+e)}function C(e){function t(){var e=V(E());return U&&(e=s(e,U)),u(e)}function n(e){Object(R.a)(Q,e),Q.length=I.length,H.notifyListeners(Q.location,Q.action)}function r(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function i(){var e=E(),n=W(e);if(e!==n)O(n);else{var o=t(),i=Q.location;if(!G&&r(i,o))return;if(Y===c(o))return;Y=null,l(o)}}function l(e){if(G)G=!1,n();else{H.confirmTransitionTo(e,"POP",L,function(t){t?n({action:"POP",location:e}):p(e)})}}function p(e){var t=Q.location,n=z.lastIndexOf(c(t));-1===n&&(n=0);var o=z.lastIndexOf(c(e));-1===o&&(o=0);var r=n-o;r&&(G=!0,v(r))}function f(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=b(window.location.href)),n+"#"+W(U+c(e))}function _(e,t){var o=u(e,void 0,void 0,Q.location);H.confirmTransitionTo(o,"PUSH",L,function(e){if(e){var t=c(o),r=W(U+t);if(E()!==r){Y=t,T(r);var i=z.lastIndexOf(c(Q.location)),s=z.slice(0,i+1);s.push(t),z=s,n({action:"PUSH",location:o})}else n()}})}function m(e,t){var o=u(e,void 0,void 0,Q.location);H.confirmTransitionTo(o,"REPLACE",L,function(e){if(e){var t=c(o),r=W(U+t);E()!==r&&(Y=t,O(r));var i=z.indexOf(c(Q.location));-1!==i&&(z[i]=t),n({action:"REPLACE",location:o})}})}function v(e){I.go(e)}function y(){v(-1)}function C(){v(1)}function S(e){q+=e,1===q&&1===e?window.addEventListener(P,i):0===q&&window.removeEventListener(P,i)}function k(e){void 0===e&&(e=!1);var t=H.setPrompt(e);return Z||(S(1),Z=!0),function(){return Z&&(Z=!1,S(-1)),t()}}function w(e){var t=H.appendListener(e);return S(1),function(){S(-1),t()}}void 0===e&&(e={}),A||Object(D.a)(!1);var I=window.history,N=(g(),e),M=N.getUserConfirmation,L=void 0===M?d:M,B=N.hashType,F=void 0===B?"slash":B,U=e.basename?a(o(e.basename)):"",j=x[F],W=j.encodePath,V=j.decodePath,H=h(),G=!1,Y=null,K=E(),X=W(K);K!==X&&O(X);var J=t(),z=[c(J)],q=0,Z=!1,Q={length:I.length,action:"POP",location:J,createHref:f,push:_,replace:m,go:v,goBack:y,goForward:C,block:k,listen:w};return Q}function S(e,t,n){return Math.min(Math.max(e,t),n)}function k(e){function t(e){Object(R.a)(w,e),w.length=w.entries.length,T.notifyListeners(w.location,w.action)}function n(){return Math.random().toString(36).substr(2,E)}function o(e,o){var r=u(e,o,n(),w.location);T.confirmTransitionTo(r,"PUSH",_,function(e){if(e){var n=w.index,o=n+1,i=w.entries.slice(0);i.length>o?i.splice(o,i.length-o,r):i.push(r),t({action:"PUSH",location:r,index:o,entries:i})}})}function r(e,o){var r=u(e,o,n(),w.location);T.confirmTransitionTo(r,"REPLACE",_,function(e){e&&(w.entries[w.index]=r,t({action:"REPLACE",location:r}))})}function i(e){var n=S(w.index+e,0,w.entries.length-1),o=w.entries[n];T.confirmTransitionTo(o,"POP",_,function(e){e?t({action:"POP",location:o,index:n}):t()})}function s(){i(-1)}function a(){i(1)}function l(e){var t=w.index+e;return t>=0&&t<w.entries.length}function p(e){return void 0===e&&(e=!1),T.setPrompt(e)}function d(e){return T.appendListener(e)}void 0===e&&(e={});var f=e,_=f.getUserConfirmation,g=f.initialEntries,m=void 0===g?["/"]:g,v=f.initialIndex,y=void 0===v?0:v,b=f.keyLength,E=void 0===b?6:b,T=h(),O=S(y,0,m.length-1),C=m.map(function(e){return"string"===typeof e?u(e,void 0,n()):u(e,void 0,e.key||n())}),k=c,w={length:C.length,action:"POP",location:C[O],index:O,entries:C,createHref:k,push:o,replace:r,go:i,goBack:s,goForward:a,canGo:l,block:p,listen:d};return w}n.d(t,"a",function(){return y}),n.d(t,"b",function(){return C}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return c});var R=n(1),w=n(305),I=n(306),D=(n(307),n(308)),A=!("undefined"===typeof window||!window.document||!window.document.createElement),N="popstate",M="hashchange",P="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+r(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:r,decodePath:o},slash:{encodePath:o,decodePath:o}}},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","noGutters","as"],p=["xl","lg","md","sm","xs"],h={noGutters:!1},d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.noGutters,h=e.as,d=void 0===h?"div":h,f=Object(r.a)(e,u),_=Object(c.a)(n,"row"),g=_+"-cols",m=[];return p.forEach(function(e){var t=f[e];delete f[e];var n;n=null!=t&&"object"===typeof t?t.cols:t;var o="xs"!==e?"-"+e:"";null!=n&&m.push(""+g+o+"-"+n)}),l.a.createElement(d,Object(o.a)({ref:t},f,{className:s.a.apply(void 0,[i,_,a&&"no-gutters"].concat(m))}))});d.displayName="Row",d.defaultProps=h,t.a=d},function(e,t,n){"use strict";function o(e){return""+((null==e?"":e)+ ++a)}function r(e,t){e&&e.apply(null,[].concat(t))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.__id||(e.__id=o("rw_")),(e.props.id||e.__id)+t}function s(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)}t.__esModule=!0,t.notify=r,t.instanceId=i,t.isFirstFocusedRender=s;var a=0},function(e,t,n){function o(e){return null==e?void 0===e?l:a:c&&c in Object(e)?i(e):s(e)}var r=n(44),i=n(349),s=n(350),a="[object Null]",l="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=o},function(e,t,n){var o=n(21),r=o.Symbol;e.exports=r},function(e,t,n){"use strict";function o(e){return e&&e.ownerDocument||document}t.a=o},function(e,t,n){"use strict";var o,r=n(1),i=n(2),s=n(3),a=n.n(s),l=n(0),c=n.n(l),u=n(139),p=n(140),h=n(143),d=["className","children"],f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_=(o={},o[u.b]="show",o[u.a]="show",o),g=c.a.forwardRef(function(e,t){var n=e.className,o=e.children,s=Object(i.a)(e,d),f=Object(l.useCallback)(function(e){Object(h.a)(e),s.onEnter&&s.onEnter(e)},[s]);return c.a.createElement(u.e,Object(r.a)({ref:t,addEndListener:p.a},s,{onEnter:f}),function(e,t){return c.a.cloneElement(o,Object(r.a)({},t,{className:a()("fade",n,o.props.className,_[e])}))})});g.defaultProps=f,g.displayName="Fade",t.a=g},function(e,t,n){"use strict";function o(e){return e?(e.nodeName||"").toLowerCase():null}t.a=o},function(e,t,n){"use strict";function o(e){return Object(r.a)(e).getComputedStyle(e)}t.a=o;var r=n(26)},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function o(e){return null!=e&&i(e.length)&&!r(e)}var r=n(112),i=n(113);e.exports=o},function(e,t,n){function o(e){return"symbol"==typeof e||i(e)&&r(e)==s}var r=n(43),i=n(30),s="[object Symbol]";e.exports=o},function(e,t,n){"use strict";function o(e){var t=(0,a.default)(e),n=(0,s.default)(t),o=t&&t.documentElement,r={top:0,left:0,height:0,width:0};if(t)return(0,i.default)(o,e)?(void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),r={top:r.top+(n.pageYOffset||o.scrollTop)-(o.clientTop||0),left:r.left+(n.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:(null==r.width?e.offsetWidth:r.width)||0,height:(null==r.height?e.offsetHeight:r.height)||0}):r}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(74)),s=r(n(53)),a=r(n(115));e.exports=t.default},function(e,t,n){"use strict";function o(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return!(!e||null==t)&&-1!==[].concat(t).indexOf(e)}function r(e,t){return(e.right-e.left)/t}function i(e,t,n,o,r){return o?r-1-Math.floor((t-e.left)/n):Math.floor((t-e.left)/n)}function s(e,t){var n=t.x,o=t.y;return o>=e.top&&o<=e.bottom&&n>=e.left&&n<=e.right}function a(e,t,n,o,s){var a=-1,l=-1,c=o-1,u=r(t,o),p=i(t,n.x,u,s,o),h=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,_=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(a=0,l=c),h&&(_?(a=0,l=p):f&&(a=p,l=c)),d&&(a=l=s?c-Math.floor((e.x-t.left)/u):Math.floor((e.x-t.left)/u),h?p<a?a=p:l=p:e.y<n.y?l=c:a=0),{startIdx:a,endIdx:l}}t.__esModule=!0,t.isSelected=o,t.slotWidth=r,t.getCellAtX=i,t.pointInBox=s,t.dateCellSelection=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){return(0,a.default)(i.default.findDOMNode(e))};var r=n(7),i=o(r),s=n(115),a=o(s);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";return{first:e[0],last:d.default.add(e[e.length-1],1,t)}}function i(e,t,n,o,r){var i=o.startAccessor,s=o.endAccessor,a=d.default.diff(t,n,"day"),l=d.default.max(d.default.startOf((0,f.accessor)(e,i),"day"),t),c=d.default.min(d.default.ceil((0,f.accessor)(e,s),"day"),n),u=(0,p.default)(r,function(e){return d.default.eq(e,l,"day")}),h=d.default.diff(l,c,"day");return h=Math.min(h,a),h=Math.max(h,1),{event:e,span:h,left:u+1,right:Math.max(u+h,1)}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=void 0,o=void 0,r=void 0,i=[],s=[];for(n=0;n<e.length;n++){for(r=e[n],o=0;o<i.length&&l(r,i[o]);o++);o>=t?s.push(r):(i[o]||(i[o]=[])).push(r)}for(n=0;n<i.length;n++)i[n].sort(function(e,t){return e.left-t.left});return{levels:i,extra:s}}function a(e,t,n,o){var r=o.startAccessor,i=o.endAccessor,s=d.default.startOf((0,f.accessor)(e,r),"day"),a=(0,f.accessor)(e,i),l=d.default.lte(s,n,"day"),c=d.default.eq(s,a,"minutes")?d.default.gte(a,t,"minutes"):d.default.gt(a,t,"minutes");return l&&c}function l(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function c(e,t,n){var o=n.startAccessor,r=n.endAccessor,i=n.allDayAccessor,s=+d.default.startOf((0,f.accessor)(e,o),"day")-+d.default.startOf((0,f.accessor)(t,o),"day"),a=d.default.diff((0,f.accessor)(e,o),d.default.ceil((0,f.accessor)(e,r),"day"),"day"),l=d.default.diff((0,f.accessor)(t,o),d.default.ceil((0,f.accessor)(t,r),"day"),"day");return s||Math.max(l,1)-Math.max(a,1)||!!(0,f.accessor)(t,i)-!!(0,f.accessor)(e,i)||+(0,f.accessor)(e,o)-+(0,f.accessor)(t,o)}t.__esModule=!0,t.endOfRange=r,t.eventSegments=i,t.eventLevels=s,t.inRange=a,t.segsOverlap=l,t.sortEvents=c;var u=n(374),p=o(u),h=n(11),d=o(h),f=n(37)},function(e,t,n){function o(e){return s(e)?r(e):i(e)}var r=n(204),i=n(419),s=n(50);e.exports=o},function(e,t,n){function o(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var r=n(51),i=1/0;e.exports=o},function(e,t,n){function o(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?i(n,c,u):r(n,c,u)}return n}var r=n(224),i=n(136);e.exports=o},function(e,t,n){"use strict";function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}t.a=o;var r=n(517)},function(e,t,n){"use strict";function o(e,t){var n="",o="";if("string"===typeof t)return e.style.getPropertyValue(Object(i.a)(t))||Object(r.a)(e).getPropertyValue(Object(i.a)(t));Object.keys(t).forEach(function(r){var a=t[r];a||0===a?Object(s.a)(r)?o+=r+"("+a+") ":n+=Object(i.a)(r)+": "+a+";":e.style.removeProperty(Object(i.a)(r))}),o&&(n+="transform: "+o+";"),e.style.cssText+=";"+n}var r=n(520),i=n(522),s=n(524);t.a=o},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext(null);i.displayName="NavbarContext",t.a=i},function(e,t,n){"use strict";function o(e,t){var n=s(e),o=s(t);return function(e){n&&n(e),o&&o(e)}}function r(e,t){return Object(i.useMemo)(function(){return o(e,t)},[e,t])}var i=n(0),s=(n.n(i),function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e});t.a=r},function(e,t,n){"use strict";function o(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}t.a=o},function(e,t,n){"use strict";function o(e){return Object(c.b)(e)&&"fixed"!==Object(l.a)(e).position?e.offsetParent:null}function r(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Object(c.b)(e)&&"fixed"===Object(l.a)(e).position)return null;for(var n=Object(p.a)(e);Object(c.b)(n)&&["html","body"].indexOf(Object(a.a)(n))<0;){var o=Object(l.a)(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}function i(e){for(var t=Object(s.a)(e),n=o(e);n&&Object(u.a)(n)&&"static"===Object(l.a)(n).position;)n=o(n);return n&&("html"===Object(a.a)(n)||"body"===Object(a.a)(n)&&"static"===Object(l.a)(n).position)?t:n||r(e)||t}t.a=i;var s=n(26),a=n(47),l=n(48),c=n(19),u=n(553),p=n(96)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});var o=Math.max,r=Math.min,i=Math.round},function(e,t,n){"use strict";function o(e,t){void 0===t&&(t={});var n=t,o=n.placement,d=void 0===o?e.placement:o,f=n.boundary,_=void 0===f?c.d:f,g=n.rootBoundary,m=void 0===g?c.o:g,v=n.elementContext,y=void 0===v?c.i:v,b=n.altBoundary,E=void 0!==b&&b,T=n.padding,O=void 0===T?0:T,C=Object(p.a)("number"!==typeof O?O:Object(h.a)(O,c.b)),S=y===c.i?c.j:c.i,k=e.elements.reference,R=e.rects.popper,w=e.elements[E?S:y],I=Object(i.a)(Object(u.a)(w)?w:w.contextElement||Object(s.a)(e.elements.popper),_,m),D=Object(r.a)(k),A=Object(a.a)({reference:D,element:R,strategy:"absolute",placement:d}),N=Object(l.a)(Object.assign({},R,A)),M=y===c.i?N:D,P={top:I.top-M.top+C.top,bottom:M.bottom-I.bottom+C.bottom,left:I.left-M.left+C.left,right:M.right-I.right+C.right},x=e.modifiersData.offset;if(y===c.i&&x){var L=x[d];Object.keys(P).forEach(function(e){var t=[c.k,c.c].indexOf(e)>=0?1:-1,n=[c.m,c.c].indexOf(e)>=0?"y":"x";P[e]+=L[n]*t})}return P}t.a=o;var r=n(64),i=n(559),s=n(33),a=n(259),l=n(258),c=n(13),u=n(19),p=n(254),h=n(256)},function(e,t,n){"use strict";function o(e){fetch("http://localhost:4567/info/calendars").then(function(e){return e.json()}).then(function(t){for(var n=new Date;;){if(new Date-n>100)break}var o={"":""};return f=[],t.items.map(function(t){o[t.summary]=t.id,f.push([t.summary,t.id]),e.createVariable(t.summary,"Calendar")}),f})}function r(e){e.registerButtonCallback("createCalendarVariableButtonPressed",function(){var t=window.prompt("\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u767b\u9332");t&&""!==t&&e.createVariable(t,"Calendar")}),e.registerToolboxCategoryCallback("CALENDAR_VARIABLE",function(e){var t=[],n=e.getVariablesOfType("Calendar");if(n.length>0){var o='<field name="FIELD_NAME" id="'+n[0].getId()+'" variabletype="Calendar"></field>',r=!0,i=!1,s=void 0;try{for(var a,l=f[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;o='<field name="NAME" >'+c[0]+"</field>",o+='<field name="id" >'+c[1]+"</field>",t.push('<block type="variables_get_calendar">'+o+"</block>")}}catch(e){i=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}}return t.map(function(e){return u.a.Xml.textToDom(e)})})}function i(e){var t,n=new DOMParser,i=n.parseFromString('\n    <xml id="toolbox">\n    <category name="\u30ab\u30ec\u30f3\u30c0" colour="160" custom="CALENDAR_VARIABLE"></category>\n       <category name="\u30ab\u30ec\u30f3\u30c0\u64cd\u4f5c" colour="210">\n       <block type="event">\n       </block>\n       <block type="insert2">\n       </block>\n       <block type="insert">\n       </block>\n       </category>\n       <category name="\u7de8\u96c6" colour="120">\n       <block type="lastmonth"></block>\n       <block type="operation">\n      </block>\n      <block type="updated"></block>\n      <block type="replace"></block>\n      <block type="hide"></block>\n      <block type="hide_event"></block>\n      <block type="filter">\n      </block>\n       </category>\n       <category name="\u8ad6\u7406" colour="160">\n       <block type="statement">\n       </block>\n       <block type="year">\n        <value name="month">\n          <block type="month">\n            <value name="date">\n            <block type="date"></block>\n            </value>\n          </block>\n        </value>\n       </block>\n       <block type="condition4"></block>\n       <block type="condition5"></block>\n \t\t<block type="condition"></block>\n \t\t<block type="and"></block>\n \t\t<block type="or"></block>\n       </category>\n       <category name="\u30c6\u30ad\u30b9\u30c8" colour="315">\n       <block type="text"></block>\n       <block type="display">\n       </block>\n\n       </category>\n       <category name="\u8a08\u7b97" colour="330">\n    <block type="sum">\n    </block>\n     <block type="arithmetic">\n     </block>\n     <block type="math_number"></block>\n       </category>\n       <category name="hidden" colour="330" hidden="true">\n       <block type="event">\n       <value name="calendar">\n        <shadow type="variables_get_calendar">\n         <field name="NAME">Calendar</field>\n        </shadow>\n        </value>\n       </block>\n       <block type="insert2">\n       <value name="calendar">\n        <shadow type="variables_get_calendar">\n         <field name="NAME">Calendar</field>\n        </shadow>\n        </value>\n       </block>\n       <block type="insert">\n       <value name="event">\n        <shadow type="variables_get_calendar">\n         <field name="NAME">Event</field>\n        </shadow>\n        </value>\n       <value name="calendar">\n        <shadow type="variables_get_calendar">\n         <field name="NAME">Calendar</field>\n        </shadow>\n        </value>\n       </block>\n       <block type="lastmonth"></block>\n       <block type="operation">\n       <value name="value">\n        <shadow type="variables_get_calendar">\n         <field name="NAME">Events</field>\n        </shadow>\n        </value>\n        <statement name="statement">\n       <shadow type="dummy_statement">\n        <field name="NAME">Value</field>\n       </shadow>\n       </statement>\n      </block>\n      <block type="filter">\n       <value name="e1">\n        <shadow type="variables_get_calendar">\n          <field name="NAME">Events</field>\n         </shadow>\n       </value>\n       <value name="e2">\n        <shadow type="variables_get_calendar">\n          <field name="NAME">Expression</field>\n         </shadow>\n       </value>\n      </block>\n      <block type="hide"></block>\n      <block type="replace"></block>\n      <block type="hide_event"></block>\n      <block type="operation2">\n       <value name="value">\n        <shadow type="variables_get_calendar">\n         <field name="NAME">Events</field>\n        </shadow>\n        </value>\n        <statement name="statement">\n       <shadow type="dummy_statement">\n        <field name="NAME">Value</field>\n       </shadow>\n       </statement>\n      </block>\n      <block type="filter2">\n        <value name="e1">\n          <shadow type="variables_get_calendar">\n            <field name="NAME">Events</field>\n          </shadow>\n         </value>\n        <value name="NAME">\n          <shadow type="variables_get_calendar">\n            <field name="NAME">Expression</field>\n          </shadow>\n         </value>\n         <statement name="NAME2">\n        <shadow type="dummy_statement">\n         <field name="NAME">Value</field>\n        </shadow>\n        </statement>\n       </block>\n       <block type="filter3">\n        <value name="e1">\n          <shadow type="variables_get_calendar">\n            <field name="NAME">Events</field>\n          </shadow>\n         </value>\n        <value name="NAME">\n          <shadow type="variables_get_calendar">\n            <field name="NAME">Expression</field>\n          </shadow>\n         </value>\n         <statement name="NAME2">\n        <shadow type="dummy_statement">\n         <field name="NAME">Value</field>\n        </shadow>\n        </statement>\n       </block>\n       <block type="statement">\n       <value name="condition">\n      <shadow type="variables_get_calendar">\n       <field name="NAME">Expression</field>\n      </shadow>\n      </value>\n       <statement name="statement">\n      <shadow type="dummy_statement">\n       <field name="NAME">Value</field>\n      </shadow>\n      </statement>\n       </block>\n \t\t<block type="condition"></block>\n \t\t<block type="condition4"></block>\n     <block type="condition4">\n     <value name="value1">\n     <shadow type="variables_get_calendar">\n      <field name="NAME">Expression</field>\n     </shadow>\n     </value>\n     <value name="value2">\n     <shadow type="variables_get_calendar">\n      <field name="NAME">Expression</field>\n     </shadow>\n     </value>\n     </block>\n \t\t<block type="and"></block>\n \t\t<block type="or"></block>\n     <block type="condition3">\n     <value name="value">\n     <shadow type="variables_get_calendar">\n      <field name="NAME">String</field>\n     </shadow>\n     </value>\n     </block>\n     <block type="statement"></block>\n     <block type="text"></block>\n     <block type="display">\n     <value name="NAME">\n     <shadow type="variables_get_calendar">\n      <field name="NAME">Expression</field>\n     </shadow>\n     </value>\n     </block>\n     <block type="sum">\n     <value name="calendar">\n     <shadow type="variables_get_calendar">\n      <field name="NAME">Numeric</field>\n     </shadow>\n     </value>\n     </block>\n      <block type="arithmetic">\n      <value name="e1">\n      <shadow type="variables_get_calendar">\n       <field name="NAME">Expression</field>\n      </shadow>\n      </value>\n      <value name="e2">\n      <shadow type="variables_get_calendar">\n       <field name="NAME">Expression</field>\n      </shadow>\n      </value>\n      </block>\n      <block type="math_number"></block>\n       </category>\n    </xml>\n  ',"text/xml");return Object(s.useEffect)(function(){if(t=e.isPreview?u.a.inject("blocklyDiv",{}):u.a.inject("blocklyDiv",{toolbox:i.getElementById("toolbox")}),e.setWorkspace(t),null!=e.myBlockXml){var n=u.a.Xml.textToDom(e.myBlockXml);t.clear(),u.a.Xml.domToWorkspace(n,t)}o(t),r(t)},[]),a.a.createElement("div",null,a.a.createElement("div",{id:"blocklyDiv",style:{height:e.h,width:e.w}}))}var s=n(0),a=n.n(s),l=n(7),c=(n.n(l),n(35)),u=n.n(c),p=n(284),h=(n.n(p),n(285)),d=(n.n(h),n(616)),f=(n.n(d),n(286),[]);t.a=i},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=function(e){var t=e.data.map(function(e){return r.a.createElement("option",{value:e,key:e},e)});return r.a.createElement("label",null,r.a.createElement("select",{onChange:e.handleChange},t))};t.a=i},function(e,t,n){"use strict";function o(){function e(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=null;return n.forEach(function(e){if(null==r){var n=e.apply(void 0,t);null!=n&&(r=n)}}),r}for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(0,i.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(107),i=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(340),s=o(i),a=n(222),l=o(a),c=n(135),u=o(c),p=n(12),h=n(508),d=o(h),f=n(509),_=o(f),g=n(183),m=o(g),v=n(20);r(s.default,{setLocalizer:p.set,globalizeLocalizer:_.default,momentLocalizer:d.default,Views:v.views,Navigate:v.navigate,move:m.default,components:{eventWrapper:l.default,dayWrapper:u.default,dateCellWrapper:u.default}}),t.default=s.default,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n=12-l.default.hours(e),o=12-l.default.hours(t);return n<=0&&o<=0||n>=0&&o>=0}function r(e){var t;arguments.length>1&&(t={},t[e]=arguments[1],e=t),s(f,e)}function i(e){return s({},f,e)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.set=r,t.default=i;var a=n(11),l=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"d",t)+" \u2014 "+n.format(r,"d",t)},u=function(e,t,n){var r=e.start,i=e.end;return n.format(r,"h:mmtt",t)+" \u2014 "+n.format(i,o(r,i)?"h:mm":"h:mmtt",t)},p=function(e,t,n){var o=e.start;e.end;return n.format(o,"h:mmtt",t)+" \u2014 "},h=function(e,t,n){var o=(e.start,e.end);return" \u2014 "+n.format(o,"h:mmtt",t)},d=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"MMM dd",t)+" - "+n.format(r,l.default.eq(o,r,"month")?"dd":"MMM dd",t)},f={dateFormat:"dd",dayFormat:"ddd dd/MM",weekdayFormat:"ddd",selectRangeFormat:u,eventTimeRangeFormat:u,eventTimeRangeStartFormat:p,eventTimeRangeEndFormat:h,timeGutterFormat:"h:mm tt",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"dddd MMM dd",dayRangeHeaderFormat:d,agendaHeaderFormat:c,agendaDateFormat:"ddd MMM dd",agendaTimeFormat:"hh:mm tt",agendaTimeRangeFormat:u}},function(e,t,n){function o(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}var r=n(49),i=n(50),s=n(114),a=n(25);e.exports=o},function(e,t,n){"use strict";function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}var r=n(6);t.__esModule=!0,t.default=void 0;var i=r(n(31)),s=function(){return i.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o}();t.default=s,e.exports=t.default},function(e,t,n){function o(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):l(e)}var r=n(376),i=n(426),s=n(86),a=n(17),l=n(436);e.exports=o},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n(378),i=n(379),s=n(380),a=n(381),l=n(382);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=l,e.exports=o},function(e,t,n){function o(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(49);e.exports=o},function(e,t,n){var o=n(38),r=o(Object,"create");e.exports=r},function(e,t,n){function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(400);e.exports=o},function(e,t,n){(function(e){var o=n(21),r=n(417),i="object"==typeof t&&t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i,l=a?o.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u}).call(t,n(81)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){var o=n(421),r=n(123),i=n(422),s=n(423),a=n(424),l=n(43),c=n(197),u=c(o),p=c(r),h=c(i),d=c(s),f=c(a),_=l;(o&&"[object DataView]"!=_(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=_(new r)||i&&"[object Promise]"!=_(i.resolve())||s&&"[object Set]"!=_(new s)||a&&"[object WeakMap]"!=_(new a))&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,o=n?c(n):"";if(o)switch(o){case u:return"[object DataView]";case p:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=_},function(e,t,n){function o(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}var r=n(85),i=n(58);e.exports=o},function(e,t,n){function o(e,t){return r(e)?e:i(e,t)?[e]:s(a(e))}var r=n(17),i=n(131),s=n(428),a=n(431);e.exports=o},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function o(e){return s(e)?r(e,!0):i(e)}var r=n(204),i=n(481),s=n(50);e.exports=o},function(e,t,n){var o=n(205),r=o(Object.getPrototypeOf,Object);e.exports=r},function(e,t){},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(29),u=n(239),p=n(4),h=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],d={disabled:!1,as:c.a},f=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.disabled,a=e.className,c=e.href,d=e.eventKey,f=e.onSelect,_=e.as,g=Object(r.a)(e,h);return n=Object(p.a)(n,"nav-link"),l.a.createElement(u.a,Object(o.a)({},g,{href:c,ref:t,eventKey:d,as:_,disabled:i,onSelect:f,className:s()(a,n,i&&"disabled")}))});f.displayName="NavLink",f.defaultProps=d,t.a=f},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext(null);i.displayName="AccordionContext",t.a=i},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(5),s=n.n(i),a=n(0),l=n.n(a),c=n(3),u=n.n(c),p=["label","onClick","className"],h={label:s.a.string.isRequired,onClick:s.a.func},d={label:"Close"},f=l.a.forwardRef(function(e,t){var n=e.label,i=e.onClick,s=e.className,a=Object(r.a)(e,p);return l.a.createElement("button",Object(o.a)({ref:t,type:"button",className:u()("close",s),onClick:i},a),l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{className:"sr-only"},n))});f.displayName="CloseButton",f.propTypes=h,f.defaultProps=d,t.a=f},function(e,t,n){"use strict";function o(e,t){var n=0;return s.a.Children.map(e,function(e){return s.a.isValidElement(e)?t(e,n++):e})}function r(e,t){var n=0;s.a.Children.forEach(e,function(e){s.a.isValidElement(e)&&t(e,n++)})}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var i=n(0),s=n.n(i)},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(547),u=n(18),p=n(16),h=n(581),d=n(163),f=n(266),_=n(22),g=n(4),m=n(8),v=["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"],y=Object(m.a)("dropdown-header",{defaultProps:{role:"heading"}}),b=Object(m.a)("dropdown-divider",{defaultProps:{role:"separator"}}),E=Object(m.a)("dropdown-item-text",{Component:"span"}),T={navbar:!1},O=l.a.forwardRef(function(e,t){var n=Object(u.a)(e,{show:"onToggle"}),i=n.bsPrefix,h=n.drop,d=n.show,f=n.className,m=n.alignRight,y=n.onSelect,b=n.onToggle,E=n.focusFirstItemOnShow,T=n.as,O=void 0===T?"div":T,C=(n.navbar,Object(r.a)(n,v)),S=Object(a.useContext)(_.a),k=Object(g.a)(i,"dropdown"),R=Object(p.a)(function(e,t,n){void 0===n&&(n=t.type),t.currentTarget!==document||"keydown"===n&&"Escape"!==t.key||(n="rootClose"),b&&b(e,t,{source:n})}),w=Object(p.a)(function(e,t){S&&S(e,t),y&&y(e,t),R(!1,t,"select")});return l.a.createElement(_.a.Provider,{value:w},l.a.createElement(c.a,{drop:h,show:d,alignEnd:m,onToggle:R,focusFirstItemOnShow:E,itemSelector:"."+k+"-item:not(.disabled):not(:disabled)"},l.a.createElement(O,Object(o.a)({},C,{ref:t,className:s()(f,d&&"show",(!h||"down"===h)&&k,"up"===h&&"dropup","right"===h&&"dropright","left"===h&&"dropleft")}))))});O.displayName="Dropdown",O.defaultProps=T,O.Divider=b,O.Header=y,O.Item=h.a,O.ItemText=E,O.Menu=d.b,O.Toggle=f.a,t.a=O},function(e,t,n){"use strict";function o(e){return"html"===Object(r.a)(e)?e:e.assignedSlot||e.parentNode||(Object(s.c)(e)?e.host:null)||Object(i.a)(e)}t.a=o;var r=n(47),i=n(33),s=n(19)},function(e,t,n){"use strict";function o(e){return e.split("-")[1]}t.a=o},function(e,t,n){"use strict";function o(e){return function(t,n,o,r,i){var s=o||"<<anonymous>>",a=i||n;if(null==t[n])return new Error("The "+r+" `"+a+"` is required to make `"+s+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,c=Array(l>5?l-5:0),u=5;u<l;u++)c[u-5]=arguments[u];return e.apply(void 0,[t,n,o,r,i].concat(c))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return function(t){return!!t.type&&t.type.tabsRole===e}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r=o("Tab"),i=o("TabList"),s=o("TabPanel")},function(e,t,n){"use strict";function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r}t.a=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=o(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)i.call(n,u)&&(l[u]=n[u]);if(r){a=r(n);for(var p=0;p<a.length;p++)s.call(n,a[p])&&(l[a[p]]=n[a[p]])}}return l}},function(e,t,n){"use strict";var o=n(104);t.a=o.a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(40),a=n.n(s),l=n(9),c=n.n(l),u=n(0),p=n.n(u),h=n(5),d=n.n(h),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_=function(e){function t(){var n,i,s;o(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=r(this,e.call.apply(e,[this].concat(l))),i.state={match:i.computeMatch(i.props.history.location.pathname)},s=n,r(i,s)}return i(t,e),t.prototype.getChildContext=function(){return{router:f({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,o=t.history;c()(null==n||1===p.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=o.listen(function(){e.setState({match:e.computeMatch(o.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){a()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?p.a.Children.only(e):null},t}(p.a.Component);_.propTypes={history:d.a.object.isRequired,children:d.a.node},_.contextTypes={router:d.a.object},_.childContextTypes={router:d.a.object.isRequired},t.a=_},function(e,t,n){"use strict";var o=n(174),r=n.n(o),i={},s=0,a=function(e,t){var n=""+t.end+t.strict+t.sensitive,o=i[n]||(i[n]={});if(o[e])return o[e];var a=[],l=r()(e,a,t),c={re:l,keys:a};return s<1e4&&(o[e]=c,s++),c},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var o=t,r=o.path,i=o.exact,s=void 0!==i&&i,l=o.strict,c=void 0!==l&&l,u=o.sensitive,p=void 0!==u&&u;if(null==r)return n;var h=a(r,{end:s,strict:c,sensitive:p}),d=h.re,f=h.keys,_=d.exec(e);if(!_)return null;var g=_[0],m=_.slice(1),v=e===g;return s&&!v?null:{path:r,url:"/"===r&&""===g?"/":g,isExact:v,params:f.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}};t.a=l},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(70),l=(n.n(a),n(0)),c=n.n(l),u=n(108),p=n(332),h=n(333),d=n(24),f=n(4),_=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],g=c.a.forwardRef(function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsCustomPrefix,g=e.inline,m=void 0!==g&&g,v=e.disabled,y=void 0!==v&&v,b=e.isValid,E=void 0!==b&&b,T=e.isInvalid,O=void 0!==T&&T,C=e.feedbackTooltip,S=void 0!==C&&C,k=e.feedback,R=e.className,w=e.style,I=e.title,D=void 0===I?"":I,A=e.type,N=void 0===A?"checkbox":A,M=e.label,P=e.children,x=e.custom,L=e.as,B=void 0===L?"input":L,F=Object(r.a)(e,_),U="switch"===N||x,j=U?[a,"custom-control"]:[i,"form-check"],W=j[0],V=j[1];i=Object(f.a)(W,V);var H=Object(l.useContext)(d.a),G=H.controlId,Y=Object(l.useMemo)(function(){return{controlId:n||G,custom:U}},[G,U,n]),K=U||null!=M&&!1!==M&&!P,X=c.a.createElement(p.a,Object(o.a)({},F,{type:"switch"===N?"checkbox":N,ref:t,isValid:E,isInvalid:O,isStatic:!K,disabled:y,as:B}));return c.a.createElement(d.a.Provider,{value:Y},c.a.createElement("div",{style:w,className:s()(R,i,U&&"custom-"+N,m&&i+"-inline")},P||c.a.createElement(c.a.Fragment,null,X,K&&c.a.createElement(h.a,{title:D},M),(E||O)&&c.a.createElement(u.a,{type:E?"valid":"invalid",tooltip:S},k))))});g.displayName="FormCheck",g.Input=p.a,g.Label=h.a,t.a=g},function(e,t,n){"use strict";function o(e){function t(t,n,o,r,i,s){var a=r||"<<anonymous>>",l=s||o;if(null==n[o])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),p=6;p<c;p++)u[p-6]=arguments[p];return e.apply(void 0,[n,o,a,i,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(5),u=n.n(c),p=["as","className","type","tooltip"],h={type:u.a.string,tooltip:u.a.bool,as:u.a.elementType},d=l.a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,a=e.className,c=e.type,u=void 0===c?"valid":c,h=e.tooltip,d=void 0!==h&&h,f=Object(r.a)(e,p);return l.a.createElement(i,Object(o.a)({},f,{ref:t,className:s()(a,u+"-"+(d?"tooltip":"feedback"))}))});d.displayName="Feedback",d.propTypes=h,t.a=d},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(this,o),t.apply(this,o)}},null)}t.a=o},function(e,t,n){"use strict";function o(e){function t(t,n,o,r,i,s){var a=r||"<<anonymous>>",l=s||o;if(null==n[o])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),p=6;p<c;p++)u[p-6]=arguments[p];return e.apply(void 0,[n,o,a,i,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}t.__esModule=!0,t.default=o},function(e,t,n){"use strict";function o(e,t){i.hasOwnProperty(e)||(0,l.default)(!1),i[e]=t}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return"function"===typeof e?e(n):e}function i(e){return s({},c,e)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.set=o,t.result=r,t.default=i;var a=n(9),l=function(e){return e&&e.__esModule?e:{default:e}}(a),c={date:"Date",time:"Time",event:"Event",allDay:"all day",week:"week",work_week:"work week",day:"day",month:"month",previous:"back",next:"next",yesterday:"yesterday",tomorrow:"tomorrow",today:"today",agenda:"agenda",showMore:function(e){return"+"+e+" more"}}},function(e,t,n){function o(e){if(!i(e))return!1;var t=r(e);return t==a||t==l||t==s||t==c}var r=n(43),i=n(25),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";e.exports=o},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}var o=9007199254740991;e.exports=n},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}var o=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.ownerDocument||document}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(53));e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o,r){var s=e[t],l="undefined"===typeof s?"undefined":i(s);return a.default.isValidElement(s)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"===typeof s.render||1===s.nodeType?null:new Error("Invalid "+o+" `"+r+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(0),a=o(s),l=n(107),c=o(l);t.default=(0,c.default)(r),e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e="function"===typeof e?e():e,i.default.findDOMNode(e)||t}t.__esModule=!0,t.default=o;var r=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,n){"use strict";var o=n(6);t.__esModule=!0,t.default=void 0;var r=o(n(31)),i=function(){};r.default&&(i=function(){return document.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,function(t){t=t||window.event,t.target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)})}:void 0}());var s=i;t.default=s,e.exports=t.default},function(e,t,n){"use strict";var o=n(6);t.__esModule=!0,t.default=void 0;var r=o(n(31)),i=function(){};r.default&&(i=function(){return document.addEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0}());var s=i;t.default=s,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n,o="#"===t[0],s="."===t[0],a=o||s?t.slice(1):t,l=r.test(a);return l?o?(e=e.getElementById?e:document,(n=e.getElementById(a))?[n]:[]):i(e.getElementsByClassName&&s?e.getElementsByClassName(a):e.getElementsByTagName(t)):i(e.querySelectorAll(t))}t.__esModule=!0,t.default=o;var r=/^[\w-]*$/,i=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){function o(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(76),i=n(383),s=n(384),a=n(385),l=n(386),c=n(387);o.prototype.clear=i,o.prototype.delete=s,o.prototype.get=a,o.prototype.has=l,o.prototype.set=c,e.exports=o},function(e,t,n){var o=n(38),r=n(21),i=o(r,"Map");e.exports=i},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n(392),i=n(399),s=n(401),a=n(402),l=n(403);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=l,e.exports=o},function(e,t){function n(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}e.exports=n},function(e,t,n){var o=n(414),r=n(203),i=Object.prototype,s=i.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),o(a(e),function(t){return s.call(e,t)}))}:r;e.exports=l},function(e,t,n){var o=n(416),r=n(30),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t,n){var o=n(418),r=n(82),i=n(129),s=i&&i.isTypedArray,a=s?r(s):o;e.exports=a},function(e,t,n){(function(e){var o=n(186),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&o.process,l=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l}).call(t,n(81)(e))},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}var o=Object.prototype;e.exports=n},function(e,t,n){function o(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}var r=n(17),i=n(51),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=o},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(5),c=o(l),u=n(3),p=o(u),h=n(193),d=o(h),f=n(0),_=o(f),g=n(7),m=n(11),v=o(m),y=n(452),b=o(y),E=n(469),T=o(E),O=n(218),C=o(O),S=n(470),k=o(S),R=n(15),w=n(42),I=n(37),D=n(56),A=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.handleResize=function(){d.default.cancel(o.rafHandle),o.rafHandle=(0,d.default)(o.checkOverflow)},o.gutterRef=function(e){o.gutter=e&&(0,g.findDOMNode)(e)},o.handleSelectAlldayEvent=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.clearSelection(),(0,w.notify)(o.props.onSelectEvent,t)},o.handleSelectAllDaySlot=function(e,t){var n=o.props.onSelectSlot;(0,w.notify)(n,{slots:e,start:e[0],end:e[e.length-1],action:t.action})},o.checkOverflow=function(){if(!o._updatingOverflow){var e=o.refs.content.scrollHeight>o.refs.content.clientHeight;o.state.isOverflowing!==e&&(o._updatingOverflow=!0,o.setState({isOverflowing:e},function(){o._updatingOverflow=!1}))}},o.state={gutterWidth:void 0,isOverflowing:null},o}return s(t,e),t.prototype.componentWillMount=function(){this.calculateScroll()},t.prototype.componentDidMount=function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),this.positionTimeIndicator(),this.triggerTimeIndicatorUpdate(),window.addEventListener("resize",this.handleResize)},t.prototype.componentWillUnmount=function(){window.clearTimeout(this._timeIndicatorTimeout),window.removeEventListener("resize",this.handleResize),d.default.cancel(this.rafHandle)},t.prototype.componentDidUpdate=function(){null==this.props.width&&this.measureGutter(),this.applyScroll(),this.positionTimeIndicator()},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.range,o=t.scrollToTime;v.default.eq(e.range[0],n[0],"minute")&&v.default.eq(e.scrollToTime,o,"minute")||this.calculateScroll(e)},t.prototype.renderEvents=function(e,t,n,o){var r=this,i=this.props,s=i.min,l=i.max,c=i.endAccessor,u=i.startAccessor,h=i.resourceAccessor,d=i.resourceIdAccessor,f=i.components;return e.map(function(e,i){var g=t.filter(function(t){return v.default.inRange(e,(0,I.accessor)(t,u),(0,I.accessor)(t,c),"day")});return o.map(function(t,o){var c=t?g.filter(function(e){return(0,I.accessor)(e,h)===(0,I.accessor)(t,d)}):g;return _.default.createElement(b.default,a({},r.props,{min:v.default.merge(e,s),max:v.default.merge(e,l),resource:(0,I.accessor)(t,d),eventComponent:f.event,eventWrapperComponent:f.eventWrapper,timeSlotWrapperComponent:f.dayWrapper,className:(0,p.default)({"rbc-now":v.default.eq(e,n,"day")}),key:i+"-"+o,date:e,events:c}))})})},t.prototype.render=function(){var e=this,t=this.props,n=t.events,o=t.range,r=t.width,i=t.startAccessor,s=t.endAccessor,l=t.selected,c=t.getNow,u=t.resources,p=t.components,h=t.allDayAccessor,d=t.eventPropGetter,f=t.showMultiDayTimes,g=t.longPressThreshold;r=r||this.state.gutterWidth;var m=o[0],y=o[o.length-1];this.slots=o.length;var b=[],E=[];return n.forEach(function(t){if((0,D.inRange)(t,m,y,e.props)){var n=(0,I.accessor)(t,i),o=(0,I.accessor)(t,s);(0,I.accessor)(t,h)||v.default.isJustDate(n)&&v.default.isJustDate(o)||!f&&!v.default.eq(n,o,"day")?b.push(t):E.push(t)}}),b.sort(function(t,n){return(0,D.sortEvents)(t,n,e.props)}),_.default.createElement("div",{className:"rbc-time-view"},_.default.createElement(k.default,{range:o,events:b,width:r,getNow:c,dayFormat:this.props.dayFormat,culture:this.props.culture,resources:u,selected:l,selectable:this.props.selectable,startAccessor:i,endAccessor:s,titleAccessor:this.props.titleAccessor,tooltipAccessor:this.props.tooltipAccessor,allDayAccessor:this.props.allDayAccessor,resourceAccessor:this.props.resourceAccessor,resourceIdAccessor:this.props.resourceIdAccessor,resourceTitleAccessor:this.props.resourceTitleAccessor,isOverflowing:this.state.isOverflowing,dayPropGetter:this.props.dayPropGetter,eventPropGetter:d,longPressThreshold:g,headerComponent:p.header,eventComponent:p.event,eventWrapperComponent:p.eventWrapper,dateCellWrapperComponent:p.dateCellWrapper,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView}),_.default.createElement("div",{ref:"content",className:"rbc-time-content"},_.default.createElement(T.default,a({},this.props,{date:m,ref:this.gutterRef,className:"rbc-time-gutter"})),this.renderEvents(o,E,c(),u||[null]),_.default.createElement("div",{ref:"timeIndicator",className:"rbc-current-time-indicator"})))},t.prototype.clearSelection=function(){clearTimeout(this._selectTimer),this._pendingSelection=[]},t.prototype.measureGutter=function(){var e=(0,C.default)(this.gutter);e&&this.state.gutterWidth!==e&&this.setState({gutterWidth:e})},t.prototype.applyScroll=function(){if(this._scrollRatio){var e=this.refs.content;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}},t.prototype.calculateScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,o=e.scrollToTime,r=o-v.default.startOf(o,"day"),i=v.default.diff(n,t);this._scrollRatio=r/i},t.prototype.positionTimeIndicator=function(){var e=this.props,t=e.rtl,n=e.min,o=e.max,r=e.getNow,i=e.range,s=r(),a=v.default.diff(o,n,"seconds"),l=v.default.diff(s,n,"seconds"),c=this.refs.timeIndicator,u=l/a,p=this.gutter,h=this.refs.content;if(p&&s>=n&&s<=o){var d=p.offsetHeight,f=(h.offsetWidth-p.offsetWidth)/this.slots,_=i.findIndex(function(e){return v.default.eq(e,v.default.today(),"day")})*f,g=Math.floor(u*d);c.style.display=_>=0?"block":"none",c.style[t?"left":"right"]=0,c.style[t?"right":"left"]=p.offsetWidth+_+"px",c.style.top=g+"px",c.style.width=f+"px"}else c.style.display="none"},t.prototype.triggerTimeIndicatorUpdate=function(){var e=this;this._timeIndicatorTimeout=window.setTimeout(function(){e.positionTimeIndicator(),e.triggerTimeIndicatorUpdate()},6e4)},t}(f.Component);A.propTypes={events:c.default.array.isRequired,resources:c.default.array,step:c.default.number,range:c.default.arrayOf(c.default.instanceOf(Date)),min:c.default.instanceOf(Date),max:c.default.instanceOf(Date),getNow:c.default.func.isRequired,scrollToTime:c.default.instanceOf(Date),eventPropGetter:c.default.func,dayPropGetter:c.default.func,dayFormat:R.dateFormat,showMultiDayTimes:c.default.bool,culture:c.default.string,rtl:c.default.bool,width:c.default.number,titleAccessor:R.accessor.isRequired,tooltipAccessor:R.accessor.isRequired,allDayAccessor:R.accessor.isRequired,startAccessor:R.accessor.isRequired,endAccessor:R.accessor.isRequired,resourceAccessor:R.accessor.isRequired,resourceIdAccessor:R.accessor.isRequired,resourceTitleAccessor:R.accessor.isRequired,selected:c.default.object,selectable:c.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:c.default.number,onNavigate:c.default.func,onSelectSlot:c.default.func,onSelectEnd:c.default.func,onSelectStart:c.default.func,onSelectEvent:c.default.func,onDoubleClickEvent:c.default.func,onDrillDown:c.default.func,getDrilldownView:c.default.func.isRequired,messages:c.default.object,components:c.default.object.isRequired},A.defaultProps={step:30,timeslots:2,min:v.default.startOf(new Date,"day"),max:v.default.endOf(new Date,"day"),scrollToTime:v.default.startOf(new Date,"day")},t.default=A,e.exports=t.default},function(e,t,n){function o(e,t){return e&&r(e,t,i)}var r=n(459),i=n(57);e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(0),l=o(a),c=n(5),u=o(c),p=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){return this.props.children},t}(l.default.Component);p.propTypes={children:u.default.element,value:u.default.instanceOf(Date),range:u.default.arrayOf(u.default.instanceOf(Date))},t.default=p,e.exports=t.default},function(e,t,n){function o(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r=n(216);e.exports=o},function(e,t,n){function o(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=n(200);e.exports=o},function(e,t,n){"use strict";function o(e,t){var n="offset"+e[0].toUpperCase()+e.slice(1),o=t[n],r=m[e];return o+parseInt(Object(c.a)(t,r[0]),10)+parseInt(Object(c.a)(t,r[1]),10)}var r,i=n(1),s=n(2),a=n(3),l=n.n(a),c=n(61),u=n(0),p=n.n(u),h=n(139),d=n(140),f=n(109),_=n(143),g=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],m={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]},v=(r={},r[h.c]="collapse",r[h.d]="collapsing",r[h.b]="collapsing",r[h.a]="collapse show",r),y={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:o},b=p.a.forwardRef(function(e,t){var n=e.onEnter,r=e.onEntering,a=e.onEntered,c=e.onExit,m=e.onExiting,y=e.className,b=e.children,E=e.dimension,T=void 0===E?"height":E,O=e.getDimensionValue,C=void 0===O?o:O,S=Object(s.a)(e,g),k="function"===typeof T?T():T,R=Object(u.useMemo)(function(){return Object(f.a)(function(e){e.style[k]="0"},n)},[k,n]),w=Object(u.useMemo)(function(){return Object(f.a)(function(e){var t="scroll"+k[0].toUpperCase()+k.slice(1);e.style[k]=e[t]+"px"},r)},[k,r]),I=Object(u.useMemo)(function(){return Object(f.a)(function(e){e.style[k]=null},a)},[k,a]),D=Object(u.useMemo)(function(){return Object(f.a)(function(e){e.style[k]=C(k,e)+"px",Object(_.a)(e)},c)},[c,C,k]),A=Object(u.useMemo)(function(){return Object(f.a)(function(e){e.style[k]=null},m)},[k,m]);return p.a.createElement(h.e,Object(i.a)({ref:t,addEndListener:d.a},S,{"aria-expanded":S.role?S.in:null,onEnter:R,onEntering:w,onEntered:I,onExit:D,onExiting:A}),function(e,t){return p.a.cloneElement(b,Object(i.a)({},t,{className:l()(y,b.props.className,v[e],"width"===k&&"width")}))})});b.defaultProps=y,t.a=b},function(e,t,n){"use strict";function o(){}n.d(t,"c",function(){return f}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return m});var r=n(2),i=n(60),s=n(5),a=(n.n(s),n(0)),l=n.n(a),c=n(7),u=n.n(c),p=n(525),h=(n(526),n(527)),d="unmounted",f="exited",_="entering",g="entered",m="exiting",v=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var r,i=n,s=i&&!i.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?s?(r=f,o.appearStatus=_):r=g:r=t.unmountOnExit||t.mountOnEnter?d:f,o.state={status:r},o.nextCallback=null,o}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==_&&n!==g&&(t=_):n!==_&&n!==g||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!==typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===_?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===f&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,r=this.props.nodeRef?[o]:[u.a.findDOMNode(this),o],i=r[0],s=r[1],a=this.getTimeouts(),l=o?a.appear:a.enter;if(!e&&!n||p.a.disabled)return void this.safeSetState({status:g},function(){t.props.onEntered(i)});this.props.onEnter(i,s),this.safeSetState({status:_},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:g},function(){t.props.onEntered(i,s)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:u.a.findDOMNode(this);if(!t||p.a.disabled)return void this.safeSetState({status:f},function(){e.props.onExited(o)});this.props.onExit(o),this.safeSetState({status:m},function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:f},function(){e.props.onExited(o)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(!n||o)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],s=r[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.a.createElement(h.a.Provider,{value:null},"function"===typeof n?n(e,o):l.a.cloneElement(l.a.Children.only(n),o))},t}(l.a.Component);v.contextType=h.a,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:o,onEntering:o,onEntered:o,onExit:o,onExiting:o,onExited:o},v.UNMOUNTED=d,v.EXITED=f,v.ENTERING=_,v.ENTERED=g,v.EXITING=m,t.e=v},function(e,t,n){"use strict";function o(e,t){var n=Object(i.a)(e,t)||"",o=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*o}function r(e,t){var n=o(e,"transitionDuration"),r=o(e,"transitionDelay"),i=Object(s.a)(e,function(n){n.target===e&&(i(),t(n))},n+r)}t.a=r;var i=n(61),s=n(233)},function(e,t,n){"use strict";function o(e,t,n,o){return Object(r.a)(e,t,n,o),function(){Object(i.a)(e,t,n,o)}}var r=n(142),i=n(234);t.a=o},function(e,t,n){"use strict";function o(e,t,n,o){if(o&&"boolean"!==typeof o&&!s){var r=o.once,a=o.capture,l=n;!s&&r&&(l=n.__once||function e(o){this.removeEventListener(t,e,a),n.call(this,o)},n.__once=l),e.addEventListener(t,l,i?o:a)}e.addEventListener(t,n,o)}var r=n(90),i=!1,s=!1;try{var a={get passive(){return i=!0},get once(){return s=i=!0}};r.a&&(window.addEventListener("test",a,a),window.removeEventListener("test",a,!0))}catch(e){}t.a=o},function(e,t,n){"use strict";function o(e){e.offsetHeight}t.a=o},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(70),l=(n.n(a),n(0)),c=n.n(l),u=n(18),p=n(4),h=n(62),d=n(236),f=n(237),_=n(148),g=n(91),m=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],v={justify:!1,fill:!1},y=c.a.forwardRef(function(e,t){var n,i,a,_=Object(u.a)(e,{activeKey:"onSelect"}),g=_.as,v=void 0===g?"div":g,y=_.bsPrefix,b=_.variant,E=_.fill,T=_.justify,O=_.navbar,C=_.navbarScroll,S=_.className,k=_.children,R=_.activeKey,w=Object(r.a)(_,m),I=Object(p.a)(y,"nav"),D=!1,A=Object(l.useContext)(h.a),N=Object(l.useContext)(d.a);return A?(i=A.bsPrefix,D=null==O||O):N&&(a=N.cardHeaderBsPrefix),c.a.createElement(f.a,Object(o.a)({as:v,ref:t,activeKey:R,className:s()(S,(n={},n[I]=!D,n[i+"-nav"]=D,n[i+"-nav-scroll"]=D&&C,n[a+"-"+b]=!!a,n[I+"-"+b]=!!b,n[I+"-fill"]=E,n[I+"-justified"]=T,n))},w),k)});y.displayName="Nav",y.defaultProps=v,y.Item=_.a,y.Link=g.a,t.a=y},function(e,t,n){"use strict";function o(e,t){return r(e.querySelectorAll(t))}t.a=o;var r=Function.prototype.bind.call(Function.prototype.call,[].slice)},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext(null);i.displayName="NavContext",t.a=i},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext(null);t.a=i},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","children","as"],p=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,p=e.as,h=void 0===p?"div":p,d=Object(r.a)(e,u);return n=Object(c.a)(n,"nav-item"),l.a.createElement(h,Object(o.a)({},d,{ref:t,className:s()(i,n)}),a)});p.displayName="NavItem",t.a=p},function(e,t,n){"use strict";var o=n(1),r=n(0),i=n.n(r),s=n(3),a=n.n(s);t.a=function(e){return i.a.forwardRef(function(t,n){return i.a.createElement("div",Object(o.a)({},t,{ref:n,className:a()(t.className,e)}))})}},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","size","toggle","vertical","className","as"],p={vertical:!1,toggle:!1,role:"group"},h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.size,a=e.toggle,p=e.vertical,h=e.className,d=e.as,f=void 0===d?"div":d,_=Object(r.a)(e,u),g=Object(c.a)(n,"btn-group"),m=g;return p&&(m=g+"-vertical"),l.a.createElement(f,Object(o.a)({},_,{ref:t,className:s()(h,m,i&&g+"-"+i,a&&g+"-toggle")}))});h.displayName="ButtonGroup",h.defaultProps=p,t.a=h},function(e,t,n){"use strict";function o(e,t,n){var r=n-Date.now();e.current=r<=l?setTimeout(t,r):setTimeout(function(){return o(e,t,n)},l)}function r(){var e=Object(s.a)(),t=Object(i.useRef)();return Object(a.a)(function(){return clearTimeout(t.current)}),Object(i.useMemo)(function(){function n(n,i){void 0===i&&(i=0),e()&&(r(),i<=l?t.current=setTimeout(n,i):o(t,n,Date.now()+i))}var r=function(){return clearTimeout(t.current)};return{set:n,clear:r}},[])}t.a=r;var i=n(0),s=(n.n(i),n(152)),a=n(153),l=Math.pow(2,31)-1},function(e,t,n){"use strict";function o(){var e=Object(r.useRef)(!0),t=Object(r.useRef)(function(){return e.current});return Object(r.useEffect)(function(){return function(){e.current=!1}},[]),t.current}t.a=o;var r=n(0);n.n(r)},function(e,t,n){"use strict";function o(e){var t=Object(r.a)(e);Object(i.useEffect)(function(){return function(){return t.current()}},[])}t.a=o;var r=n(545),i=n(0);n.n(i)},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext(null);t.a=i},function(e,t,n){"use strict";function o(){return Object(r.useState)(null)}t.a=o;var r=n(0);n.n(r)},function(e,t,n){"use strict";function o(e){var t=Object(r.a)(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}t.a=o;var r=n(64)},function(e,t,n){"use strict";function o(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}t.a=o},function(e,t,n){"use strict";function o(e){return Object(r.a)(Object(i.a)(e)).left+Object(s.a)(e).scrollLeft}t.a=o;var r=n(64),i=n(33),s=n(159)},function(e,t,n){"use strict";function o(e){var t=Object(r.a)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}t.a=o;var r=n(26)},function(e,t,n){"use strict";function o(e){var t=Object(r.a)(e),n=t.overflow,o=t.overflowX;return/auto|scroll|overlay|hidden/.test(n+t.overflowY+o)}t.a=o;var r=n(48)},function(e,t,n){"use strict";function o(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}t.a=o},function(e,t,n){"use strict";function o(e){return e&&"setState"in e?i.a.findDOMNode(e):null!=e?e:null}t.a=o;var r=n(7),i=n.n(r)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(5),l=n.n(a),c=n(0),u=n.n(c),p=n(249),h=n(63),d=n(28),f=(n.n(d),n(62)),_=n(4),g=n(263),m=n(264),v=["bsPrefix","className","align","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"],y=l.a.oneOf(["left","right"]),b=l.a.oneOfType([y,l.a.shape({sm:y}),l.a.shape({md:y}),l.a.shape({lg:y}),l.a.shape({xl:y})]),E={align:"left",alignRight:!1,flip:!0},T=u.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,l=e.alignRight,d=e.rootCloseEvent,y=e.flip,b=e.show,E=e.renderOnMount,T=e.as,O=void 0===T?"div":T,C=e.popperConfig,S=Object(r.a)(e,v),k=Object(c.useContext)(f.a),R=Object(_.a)(n,"dropdown-menu"),w=Object(m.a)(),I=w[0],D=w[1],A=[];if(a)if("object"===typeof a){var N=Object.keys(a);if(N.length){var M=N[0],P=a[M];l="left"===P,A.push(R+"-"+M+"-"+P)}}else"right"===a&&(l=!0);var x=Object(p.b)({flip:y,rootCloseEvent:d,show:b,alignEnd:l,usePopper:!k&&0===A.length,popperConfig:Object(o.a)({},C,{modifiers:D.concat((null==C?void 0:C.modifiers)||[])})}),L=x[0],B=x[1],F=B.hasShown,U=B.popper,j=B.show,W=B.alignEnd,V=B.toggle;if(L.ref=Object(h.a)(I,Object(h.a)(Object(g.a)(t,"DropdownMenu"),L.ref)),!F&&!E)return null;"string"!==typeof O&&(L.show=j,L.close=function(){return null==V?void 0:V(!1)},L.alignRight=W);var H=S.style;return null!=U&&U.placement&&(H=Object(o.a)({},S.style,L.style),S["x-placement"]=U.placement),u.a.createElement(O,Object(o.a)({},S,L,{style:H,className:s.a.apply(void 0,[i,R,j&&"show",W&&R+"-right"].concat(A))}))});T.displayName="DropdownMenu",T.defaultProps=E,t.b=T},function(e,t,n){"use strict";function o(e){if((!r&&0!==r||e)&&i.a){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}t.a=o;var r,i=n(90)},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=n(18),s=n(147),a=n(22),l=function(e){var t=Object(i.a)(e,{activeKey:"onSelect"}),n=t.id,l=t.generateChildId,c=t.onSelect,u=t.activeKey,p=t.transition,h=t.mountOnEnter,d=t.unmountOnExit,f=t.children,_=Object(o.useMemo)(function(){return l||function(e,t){return n?n+"-"+t+"-"+e:null}},[n,l]),g=Object(o.useMemo)(function(){return{onSelect:c,activeKey:u,transition:p,mountOnEnter:h||!1,unmountOnExit:d||!1,getControlledId:function(e){return _(e,"tabpane")},getControllerId:function(e){return _(e,"tab")}}},[c,u,p,h,d,_]);return r.a.createElement(s.a.Provider,{value:g},r.a.createElement(a.a.Provider,{value:c||null},f))};t.a=l},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","as","className"],p=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.as,a=void 0===i?"div":i,p=e.className,h=Object(r.a)(e,u),d=Object(c.a)(n,"tab-content");return l.a.createElement(a,Object(o.a)({ref:t},h,{className:s()(p,d)}))});t.a=p},function(e,t,n){"use strict";function o(e){var t=Object(l.useContext)(p.a);if(!t)return e;var n=t.activeKey,o=t.getControlledId,s=t.getControllerId,a=Object(i.a)(t,f),c=!1!==e.transition&&!1!==a.transition,u=Object(h.b)(e.eventKey);return Object(r.a)({},e,{active:null==e.active&&null!=u?Object(h.b)(n)===u:e.active,id:o(e.eventKey),"aria-labelledby":s(e.eventKey),transition:c&&(e.transition||a.transition||d.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:a.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:a.unmountOnExit})}var r=n(1),i=n(2),s=n(3),a=n.n(s),l=n(0),c=n.n(l),u=n(4),p=n(147),h=n(22),d=n(46),f=["activeKey","getControlledId","getControllerId"],_=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"],g=c.a.forwardRef(function(e,t){var n=o(e),s=n.bsPrefix,l=n.className,d=n.active,f=n.onEnter,g=n.onEntering,m=n.onEntered,v=n.onExit,y=n.onExiting,b=n.onExited,E=n.mountOnEnter,T=n.unmountOnExit,O=n.transition,C=n.as,S=void 0===C?"div":C,k=(n.eventKey,Object(i.a)(n,_)),R=Object(u.a)(s,"tab-pane");if(!d&&!O&&T)return null;var w=c.a.createElement(S,Object(r.a)({},k,{ref:t,role:"tabpanel","aria-hidden":!d,className:a()(l,R,{active:d})}));return O&&(w=c.a.createElement(O,{in:d,onEnter:f,onEntering:g,onEntered:m,onExit:v,onExiting:y,onExited:b,mountOnEnter:E,unmountOnExit:T},w)),c.a.createElement(p.a.Provider,{value:null},c.a.createElement(h.a.Provider,{value:null},w))});g.displayName="TabPane",t.a=g},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e){return Object(l.a)(e)||Object(l.b)(e)||Object(l.c)(e)}function i(e,t){return a.Children.map(e,function(e){return null===e?null:r(e)?t(e):e.props&&e.props.children&&"object"===typeof e.props.children?Object(a.cloneElement)(e,o({},e.props,{children:i(e.props.children,t)})):e})}function s(e,t){return a.Children.forEach(e,function(e){null!==e&&(Object(l.a)(e)||Object(l.c)(e)?t(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(Object(l.b)(e)&&t(e),s(e.props.children,t)))})}t.b=i,t.a=s;var a=n(0),l=(n.n(a),n(99))},function(e,t,n){"use strict";function o(){}function r(e){try{return e.then}catch(e){return m=e,v}}function i(e,t){try{return e(t)}catch(e){return m=e,v}}function s(e,t,n){try{e(t,n)}catch(e){return m=e,v}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&_(e,this)}function l(e,t,n){return new e.constructor(function(r,i){var s=new a(o);s.then(r,i),c(e,new f(t,n,s))})}function c(e,t){for(;3===e._83;)e=e._18;if(a._47&&a._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);u(e,t)}function u(e,t){g(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?p(t.promise,e._18):h(t.promise,e._18));var o=i(n,e._18);o===v?h(t.promise,m):p(t.promise,o)})}function p(e,t){if(t===e)return h(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=r(t);if(n===v)return h(e,m);if(n===e.then&&t instanceof a)return e._83=3,e._18=t,void d(e);if("function"===typeof n)return void _(n.bind(t),e)}e._83=1,e._18=t,d(e)}function h(e,t){e._83=2,e._18=t,a._71&&a._71(e,t),d(e)}function d(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function _(e,t){var n=!1,o=s(e,function(e){n||(n=!0,p(t,e))},function(e){n||(n=!0,h(t,e))});n||o!==v||(n=!0,h(t,m))}var g=n(294),m=null,v={};e.exports=a,a._47=null,a._71=null,a._44=o,a.prototype.then=function(e,t){if(this.constructor!==a)return l(this,e,t);var n=new a(o);return c(this,new f(e,t,n)),n}},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),l=n.n(a),c=n(5),u=n.n(c),p=n(9),h=n.n(p),d=n(39),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},g=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.handleClick=function(e){if(o.props.onClick&&o.props.onClick(e),!e.defaultPrevented&&0===e.button&&!o.props.target&&!_(e)){e.preventDefault();var t=o.context.router.history,n=o.props,r=n.replace,i=n.to;r?t.replace(i):t.push(i)}},s=n,i(o,s)}return s(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=o(e,["replace","to","innerRef"]);h()(this.context.router,"You should not use <Link> outside a <Router>"),h()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,s="string"===typeof t?Object(d.c)(t,null,null,i.location):t,a=i.createHref(s);return l.a.createElement("a",f({},r,{onClick:this.handleClick,href:a,ref:n}))},t}(l.a.Component);g.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},g.defaultProps={replace:!1},g.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired},t.a=g},function(e,t,n){"use strict";var o=n(173);t.a=o.a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(40),a=n.n(s),l=n(9),c=n.n(l),u=n(0),p=n.n(u),h=n(5),d=n.n(h),f=n(105),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},g=function(e){return 0===p.a.Children.count(e)},m=function(e){function t(){var n,i,s;o(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=r(this,e.call.apply(e,[this].concat(l))),i.state={match:i.computeMatch(i.props,i.context.router)},s=n,r(i,s)}return i(t,e),t.prototype.getChildContext=function(){return{router:_({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,o=e.location,r=e.path,i=e.strict,s=e.exact,a=e.sensitive;if(n)return n;c()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,u=(o||l.location).pathname;return Object(f.a)(u,{path:r,strict:i,exact:s,sensitive:a},l.match)},t.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),a()(!(this.props.component&&this.props.children&&!g(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),a()(!(this.props.render&&this.props.children&&!g(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){a()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,o=t.component,r=t.render,i=this.context.router,s=i.history,a=i.route,l=i.staticContext,c=this.props.location||a.location,u={match:e,location:c,history:s,staticContext:l};return o?e?p.a.createElement(o,u):null:r?e?r(u):null:"function"===typeof n?n(u):n&&!g(n)?p.a.Children.only(n):null},t}(p.a.Component);m.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},m.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},m.childContextTypes={router:d.a.object.isRequired},t.a=m},function(e,t,n){function o(e,t){for(var n,o=[],r=0,i=0,s="",a=t&&t.delimiter||"/";null!=(n=v.exec(e));){var u=n[0],p=n[1],h=n.index;if(s+=e.slice(i,h),i=h+u.length,p)s+=p[1];else{var d=e[i],f=n[2],_=n[3],g=n[4],m=n[5],y=n[6],b=n[7];s&&(o.push(s),s="");var E=null!=f&&null!=d&&d!==f,T="+"===y||"*"===y,O="?"===y||"*"===y,C=n[2]||a,S=g||m;o.push({name:_||r++,prefix:f||"",delimiter:C,optional:O,repeat:T,partial:E,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+l(C)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&o.push(s),o}function r(e,t){return a(o(e,t),t)}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var r="",a=t||{},l=o||{},c=l.pretty?i:encodeURIComponent,u=0;u<e.length;u++){var p=e[u];if("string"!==typeof p){var h,d=a[p.name];if(null==d){if(p.optional){p.partial&&(r+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(m(d)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=c(d[f]),!n[u].test(h))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===f?p.prefix:p.delimiter)+h}}else{if(h=p.asterisk?s(d):c(d),!n[u].test(h))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+h+'"');r+=p.prefix+h}}else r+=p}return r}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}function d(e,t,n){for(var o=[],r=0;r<e.length;r++)o.push(g(e[r],t,n).source);return u(new RegExp("(?:"+o.join("|")+")",p(n)),t)}function f(e,t,n){return _(o(e,n),t,n)}function _(e,t,n){m(t)||(n=t||n,t=[]),n=n||{};for(var o=n.strict,r=!1!==n.end,i="",s=0;s<e.length;s++){var a=e[s];if("string"===typeof a)i+=l(a);else{var c=l(a.prefix),h="(?:"+a.pattern+")";t.push(a),a.repeat&&(h+="(?:"+c+h+")*"),h=a.optional?a.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",i+=h}}var d=l(n.delimiter||"/"),f=i.slice(-d.length)===d;return o||(i=(f?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=r?"$":o&&f?"":"(?="+d+"|$)",u(new RegExp("^"+i,p(n)),t)}function g(e,t,n){return m(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):m(e)?d(e,t,n):f(e,t,n)}var m=n(313);e.exports=g,e.exports.parse=o,e.exports.compile=r,e.exports.tokensToFunction=a,e.exports.tokensToRegExp=_;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t,n){"use strict";var o=n(174),r=n.n(o),i={},s=0,a=function(e){var t=e,n=i[t]||(i[t]={});if(n[e])return n[e];var o=r.a.compile(e);return s<1e4&&(n[e]=o,s++),o},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:a(e)(t,{pretty:!0})};t.a=l},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(70),u=(n.n(c),n(108)),p=n(334),h=n(335),d=n(24),f=n(4),_=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],g=l.a.forwardRef(function(e,t){var n=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,g=e.disabled,m=void 0!==g&&g,v=e.isValid,y=void 0!==v&&v,b=e.isInvalid,E=void 0!==b&&b,T=e.feedbackTooltip,O=void 0!==T&&T,C=e.feedback,S=e.className,k=e.style,R=e.label,w=e.children,I=e.custom,D=e.lang,A=e["data-browse"],N=e.as,M=void 0===N?"div":N,P=e.inputAs,x=void 0===P?"input":P,L=Object(r.a)(e,_),B=I?[c,"custom"]:[i,"form-file"],F=B[0],U=B[1];i=Object(f.a)(F,U);var j=Object(a.useContext)(d.a),W=j.controlId,V=Object(a.useMemo)(function(){return{controlId:n||W,custom:I}},[W,I,n]),H=null!=R&&!1!==R&&!w,G=l.a.createElement(p.a,Object(o.a)({},L,{ref:t,isValid:y,isInvalid:E,disabled:m,as:x,lang:D}));return l.a.createElement(d.a.Provider,{value:V},l.a.createElement(M,{style:k,className:s()(S,i,I&&"custom-file")},w||l.a.createElement(l.a.Fragment,null,I?l.a.createElement(l.a.Fragment,null,G,H&&l.a.createElement(h.a,{"data-browse":A},R)):l.a.createElement(l.a.Fragment,null,H&&l.a.createElement(h.a,null,R),G),(y||E)&&l.a.createElement(u.a,{type:y?"valid":"invalid",tooltip:O},C))))});g.displayName="FormFile",g.Input=p.a,g.Label=h.a,t.a=g},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(70),l=(n.n(a),n(0)),c=n.n(l),u=n(28),p=(n.n(u),n(108)),h=n(24),d=n(4),f=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],_=c.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,a=e.type,u=e.size,p=e.htmlSize,_=e.id,g=e.className,m=e.isValid,v=void 0!==m&&m,y=e.isInvalid,b=void 0!==y&&y,E=e.plaintext,T=e.readOnly,O=e.custom,C=e.as,S=void 0===C?"input":C,k=Object(r.a)(e,f),R=Object(l.useContext)(h.a),w=R.controlId,I=O?[i,"custom"]:[n,"form-control"],D=I[0],A=I[1];n=Object(d.a)(D,A);var N;if(E){var M;M={},M[n+"-plaintext"]=!0,N=M}else if("file"===a){var P;P={},P[n+"-file"]=!0,N=P}else if("range"===a){var x;x={},x[n+"-range"]=!0,N=x}else if("select"===S&&O){var L;L={},L[n+"-select"]=!0,L[n+"-select-"+u]=u,N=L}else{var B;B={},B[n]=!0,B[n+"-"+u]=u,N=B}return c.a.createElement(S,Object(o.a)({},k,{type:a,size:p,ref:t,readOnly:T,id:_||w,className:s()(g,N,v&&"is-valid",b&&"is-invalid")}))});_.displayName="FormControl",t.a=Object.assign(_,{Feedback:p.a})},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(24),u=n(4),p=["bsPrefix","className","children","controlId","as"],h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,h=e.children,d=e.controlId,f=e.as,_=void 0===f?"div":f,g=Object(r.a)(e,p);n=Object(u.a)(n,"form-group");var m=Object(a.useMemo)(function(){return{controlId:d}},[d]);return l.a.createElement(c.a.Provider,{value:m},l.a.createElement(_,Object(o.a)({},g,{ref:t,className:s()(i,n)}),h))});h.displayName="FormGroup",t.a=h},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(28),u=(n.n(c),n(36)),p=n(24),h=n(4),d=["as","bsPrefix","column","srOnly","className","htmlFor"],f={column:!1,srOnly:!1},_=l.a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"label":n,c=e.bsPrefix,f=e.column,_=e.srOnly,g=e.className,m=e.htmlFor,v=Object(r.a)(e,d),y=Object(a.useContext)(p.a),b=y.controlId;c=Object(h.a)(c,"form-label");var E="col-form-label";"string"===typeof f&&(E=E+" "+E+"-"+f);var T=s()(g,c,_&&"sr-only",f&&E);return m=m||b,f?l.a.createElement(u.a,Object(o.a)({ref:t,as:"label",className:T,htmlFor:m},v)):l.a.createElement(i,Object(o.a)({ref:t,className:T,htmlFor:m},v))});_.displayName="FormLabel",_.defaultProps=f,t.a=_},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","as","muted"],p=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,p=void 0===a?"small":a,h=e.muted,d=Object(r.a)(e,u);return n=Object(c.a)(n,"form-text"),l.a.createElement(p,Object(o.a)({},d,{ref:t,className:s()(i,n,h&&"text-muted")}))});p.displayName="FormText",t.a=p},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=function(e){var t=e.data.map(function(e){return r.a.createElement("li",null,e)});return r.a.createElement("ol",null,t)};t.a=i},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){var n=t.action,o=t.date,i=t.today,s=r(t,["action","date","today"]);switch(e="string"===typeof e?u.default[e]:e,n){case l.navigate.TODAY:o=i||new Date;break;case l.navigate.DATE:break;default:e&&"function"===typeof e.navigate||(0,a.default)(!1),o=e.navigate(o,n,s)}return o}t.__esModule=!0,t.default=i;var s=n(9),a=o(s),l=n(20),c=n(184),u=o(c);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r,i=n(20),s=n(347),a=o(s),l=n(451),c=o(l),u=n(220),p=o(u),h=n(471),d=o(h),f=n(472),_=o(f),g=(r={},r[i.views.MONTH]=a.default,r[i.views.WEEK]=p.default,r[i.views.WORK_WEEK]=d.default,r[i.views.DAY]=c.default,r[i.views.AGENDA]=_.default,r);t.default=g,e.exports=t.default},function(e,t){function n(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++o<r;)i[o]=e[o+t];return i}e.exports=n},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(101))},function(e,t,n){function o(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(188);e.exports=o},function(e,t,n){function o(e){if(!e)return 0===e?e:0;if((e=r(e))===i||e===-i){return(e<0?-1:1)*s}return e===e?e:0}var r=n(351),i=1/0,s=1.7976931348623157e308;e.exports=o},function(e,t,n){"use strict";function o(e){return e.nodeName&&e.nodeName.toLowerCase()}function r(e,t){var n,r={top:0,left:0};return"fixed"===(0,p.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,l.default)(e),n=(0,a.default)(e),"html"!==o(t)&&(r=(0,a.default)(t)),r.top+=parseInt((0,p.default)(t,"borderTopWidth"),10)-(0,c.default)(t)||0,r.left+=parseInt((0,p.default)(t,"borderLeftWidth"),10)-(0,u.default)(t)||0),(0,s.default)({},n,{top:n.top-r.top-(parseInt((0,p.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,p.default)(e,"marginLeft"),10)||0)})}var i=n(6);t.__esModule=!0,t.default=r;var s=i(n(354)),a=i(n(52)),l=i(n(355)),c=i(n(116)),u=i(n(192)),p=i(n(190));e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){var o="",r="",p=t;if("string"===typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,a.default)(e).getPropertyValue((0,s.default)(t));(p={})[t]=n}Object.keys(p).forEach(function(t){var n=p[t];n||0===n?(0,u.default)(t)?r+=t+"("+n+") ":o+=(0,s.default)(t)+": "+n+";":(0,l.default)(e,(0,s.default)(t))}),r&&(o+=c.transform+": "+r+";"),e.style.cssText+=";"+o}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(191)),s=r(n(357)),a=r(n(359)),l=r(n(360)),c=n(361),u=r(n(362));e.exports=t.default},function(e,t,n){"use strict";function o(e){return(0,i.default)(e.replace(s,"ms-"))}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(356)),s=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(53));e.exports=t.default},function(e,t,n){"use strict";function o(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-p)),o=setTimeout(e,n);return p=t,o}var r=n(6);t.__esModule=!0,t.default=void 0;var i,s=r(n(31)),a=["","webkit","moz","o","ms"],l="clearTimeout",c=o,u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};s.default&&a.some(function(e){var t=u(e,"request");if(t in window)return l=u(e,"cancel"),c=function(e){return window[t](e)}});var p=(new Date).getTime();i=function(e){return c(e)},i.cancel=function(e){window[l]&&"function"===typeof window[l]&&window[l](e)};var h=i;t.default=h,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=o(c),p=n(0),h=o(p),d=n(3),f=o(d),_=n(11),g=o(_),m=n(15),v=n(37),y={event:u.default.object.isRequired,slotStart:u.default.instanceOf(Date),slotEnd:u.default.instanceOf(Date),selected:u.default.bool,isAllDay:u.default.bool,eventPropGetter:u.default.func,titleAccessor:m.accessor,tooltipAccessor:m.accessor,allDayAccessor:m.accessor,startAccessor:m.accessor,endAccessor:m.accessor,eventComponent:m.elementType,eventWrapperComponent:m.elementType.isRequired,onSelect:u.default.func.isRequired,onDoubleClick:u.default.func.isRequired},b=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.event,o=e.selected,i=e.isAllDay,s=e.eventPropGetter,a=e.startAccessor,c=e.endAccessor,u=e.titleAccessor,p=e.tooltipAccessor,d=e.allDayAccessor,_=e.slotStart,m=e.slotEnd,y=e.onSelect,b=e.onDoubleClick,E=e.eventComponent,T=e.eventWrapperComponent,O=r(e,["className","event","selected","isAllDay","eventPropGetter","startAccessor","endAccessor","titleAccessor","tooltipAccessor","allDayAccessor","slotStart","slotEnd","onSelect","onDoubleClick","eventComponent","eventWrapperComponent"]),C=(0,v.accessor)(n,u),S=(0,v.accessor)(n,p),k=(0,v.accessor)(n,c),R=(0,v.accessor)(n,a),w=(0,v.accessor)(n,d),I=i||w||g.default.diff(R,g.default.ceil(k,"day"),"day")>1,D=g.default.lt(R,_,"day"),A=g.default.gte(k,m,"day");if(s)var N=s(n,R,k,o),M=N.style,P=N.className;var x={event:n,allDay:w,continuesPrior:D,continuesAfter:A};return h.default.createElement(T,l({},x,{isRow:!0}),h.default.createElement("div",{style:l({},O.style,M),className:(0,f.default)("rbc-event",t,P,{"rbc-selected":o,"rbc-event-allday":I,"rbc-event-continues-prior":D,"rbc-event-continues-after":A}),onClick:function(e){return y(n,e)},onDoubleClick:function(e){return b(n,e)}},h.default.createElement("div",{className:"rbc-event-content",title:S||void 0},E?h.default.createElement(E,{event:n,title:C,isAllDay:w}):C)))},t}(h.default.Component);b.propTypes=y,t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(3),u=o(c),p=n(196),h=o(p),d=n(121),f=o(d),_=n(5),g=o(_),m=n(0),v=o(m),y=n(7),b=n(11),E=o(b),T=n(15),O=n(56),C=n(439),S=o(C),k=n(445),R=o(k),w=n(446),I=o(w),D=function(e,t){return e.left<=t&&e.right>=t},A={date:g.default.instanceOf(Date),events:g.default.array.isRequired,range:g.default.array.isRequired,rtl:g.default.bool,renderForMeasure:g.default.bool,renderHeader:g.default.func,container:g.default.func,selected:g.default.object,selectable:g.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:g.default.number,onShowMore:g.default.func,onSelectSlot:g.default.func,onSelectEnd:g.default.func,onSelectStart:g.default.func,dayPropGetter:g.default.func,getNow:g.default.func.isRequired,startAccessor:T.accessor.isRequired,endAccessor:T.accessor.isRequired,eventComponent:T.elementType,eventWrapperComponent:T.elementType.isRequired,dateCellWrapperComponent:T.elementType,minRows:g.default.number.isRequired,maxRows:g.default.number.isRequired},N={minRows:0,maxRows:1/0},M=function(e){function t(){var n,o,r;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=s(this,e.call.apply(e,[this].concat(l))),o.handleSelectSlot=function(e){var t=o.props,n=t.range;(0,t.onSelectSlot)(n.slice(e.start,e.end+1),e)},o.handleShowMore=function(e){var t=o.props,n=t.range,r=t.onShowMore,i=(0,f.default)((0,y.findDOMNode)(o),".rbc-row-bg")[0],s=void 0;i&&(s=i.children[e-1]),r(o.segments.filter(function(t){return D(t,e)}).map(function(e){return e.event}),n[e-1],s,e)},o.createHeadingRef=function(e){o.headingRow=e},o.createEventRef=function(e){o.eventRow=e},o.getContainer=function(){var e=o.props.container;return e?e():(0,y.findDOMNode)(o)},o.renderHeadingCell=function(e,t){var n=o.props,r=n.renderHeader,i=n.getNow;return r({date:e,key:"header_"+t,className:(0,u.default)("rbc-date-cell",E.default.eq(e,i(),"day")&&"rbc-now")})},o.renderDummy=function(){var e=o.props,t=e.className,n=e.range,r=e.renderHeader;return v.default.createElement("div",{className:t},v.default.createElement("div",{className:"rbc-row-content"},r&&v.default.createElement("div",{className:"rbc-row",ref:o.createHeadingRef},n.map(o.renderHeadingCell)),v.default.createElement("div",{className:"rbc-row",ref:o.createEventRef},v.default.createElement("div",{className:"rbc-row-segment"},v.default.createElement("div",{className:"rbc-event"},v.default.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},r=n,s(o,r)}return a(t,e),t.prototype.getRowLimit=function(){var e=(0,h.default)(this.eventRow),t=this.headingRow?(0,h.default)(this.headingRow):0,n=(0,h.default)((0,y.findDOMNode)(this))-t;return Math.max(Math.floor(n/e),1)},t.prototype.render=function(){var e=this.props,t=e.date,n=e.rtl,o=e.events,i=e.range,s=e.className,a=e.selectable,c=e.dayPropGetter,u=e.renderForMeasure,p=e.startAccessor,h=e.endAccessor,d=e.getNow,f=e.renderHeader,_=e.minRows,g=e.maxRows,m=e.dateCellWrapperComponent,y=e.eventComponent,b=e.eventWrapperComponent,E=e.onSelectStart,T=e.onSelectEnd,C=e.longPressThreshold,k=r(e,["date","rtl","events","range","className","selectable","dayPropGetter","renderForMeasure","startAccessor","endAccessor","getNow","renderHeader","minRows","maxRows","dateCellWrapperComponent","eventComponent","eventWrapperComponent","onSelectStart","onSelectEnd","longPressThreshold"]);if(u)return this.renderDummy();for(var w=(0,O.endOfRange)(i),D=w.first,A=w.last,N=this.segments=o.map(function(e){return(0,O.eventSegments)(e,D,A,{startAccessor:p,endAccessor:h},i)}),M=(0,O.eventLevels)(N,Math.max(g-1,1)),P=M.levels,x=M.extra;P.length<_;)P.push([]);return v.default.createElement("div",{className:s},v.default.createElement(S.default,{date:t,getNow:d,rtl:n,range:i,selectable:a,container:this.getContainer,dayPropGetter:c,onSelectStart:E,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,cellWrapperComponent:m,longPressThreshold:C}),v.default.createElement("div",{className:"rbc-row-content"},f&&v.default.createElement("div",{className:"rbc-row",ref:this.createHeadingRef},i.map(this.renderHeadingCell)),P.map(function(e,t){return v.default.createElement(R.default,l({},k,{key:t,start:D,end:A,segments:e,slots:i.length,eventComponent:y,eventWrapperComponent:b,startAccessor:p,endAccessor:h}))}),!!x.length&&v.default.createElement(I.default,l({},k,{start:D,end:A,segments:x,onShowMore:this.handleShowMore,eventComponent:y,eventWrapperComponent:b,startAccessor:p,endAccessor:h}))))},t}(v.default.Component);M.propTypes=A,M.defaultProps=N,t.default=M,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n=(0,s.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,i.default)(e).height}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(52)),s=r(n(53));e.exports=t.default},function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var o=Function.prototype,r=o.toString;e.exports=n},function(e,t,n){function o(e,t,n,s,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,s,o,a))}var r=n(404),i=n(30);e.exports=o},function(e,t,n){function o(e,t,n,o,c,u){var p=n&a,h=e.length,d=t.length;if(h!=d&&!(p&&d>h))return!1;var f=u.get(e),_=u.get(t);if(f&&_)return f==t&&_==e;var g=-1,m=!0,v=n&l?new r:void 0;for(u.set(e,t),u.set(t,e);++g<h;){var y=e[g],b=t[g];if(o)var E=p?o(b,y,g,t,e,u):o(y,b,g,e,t,u);if(void 0!==E){if(E)continue;m=!1;break}if(v){if(!i(t,function(e,t){if(!s(v,t)&&(y===e||c(y,e,n,o,u)))return v.push(t)})){m=!1;break}}else if(y!==b&&!c(y,b,n,o,u)){m=!1;break}}return u.delete(e),u.delete(t),m}var r=n(405),i=n(408),s=n(409),a=1,l=2;e.exports=o},function(e,t,n){var o=n(21),r=o.Uint8Array;e.exports=r},function(e,t,n){function o(e){return r(e,s,i)}var r=n(202),i=n(126),s=n(57);e.exports=o},function(e,t,n){function o(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}var r=n(125),i=n(17);e.exports=o},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function o(e,t){var n=s(e),o=!n&&i(e),u=!n&&!o&&a(e),h=!n&&!o&&!u&&c(e),d=n||o||u||h,f=d?r(e.length,String):[],_=f.length;for(var g in e)!t&&!p.call(e,g)||d&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,_))||f.push(g);return f}var r=n(415),i=n(127),s=n(17),a=n(80),l=n(114),c=n(128),u=Object.prototype,p=u.hasOwnProperty;e.exports=o},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function o(e){return e===e&&!r(e)}var r=n(25);e.exports=o},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return y.default.on(n,e,t),{remove:function(){y.default.off(n,e,t)}}}function s(e,t,n){return!e||(0,_.default)(e,document.elementFromPoint(t,n))}function a(e,t){var n=t.clientX,o=t.clientY,r=document.elementFromPoint(n,o);return!!(0,m.default)(r,".rbc-event",e)}function l(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"object"!==("undefined"===typeof e?"undefined":d(e))&&(e={top:e,left:e,right:e,bottom:e}),e}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=p(e),r=o.top,i=o.left,s=o.right,a=void 0===s?i:s,l=o.bottom,c=void 0===l?r:l,u=p(t),h=u.top,d=u.left,f=u.right,_=void 0===f?d:f,g=u.bottom,m=void 0===g?h:g;return!(c-n<h||r+n>m||a-n<d||i+n>_)}function p(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+h("left"),o=t.top+h("top");return{top:o,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+o}}function h(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}t.__esModule=!0;var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isEvent=a,t.objectsCollide=u,t.getBoundsForNode=p;var f=n(74),_=o(f),g=n(440),m=o(g),v=n(442),y=o(v),b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.global,s=void 0!==o&&o,a=n.longPressThreshold,l=void 0===a?250:a;r(this,e),this.container=t,this.globalMouse=!t||s,this.longPressThreshold=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._onTouchMoveWindowListener=i("touchmove",function(){},window),this._onKeyDownListener=i("keydown",this._keyListener),this._onKeyUpListener=i("keyup",this._keyListener),this._addInitialEventListener()}return e.prototype.on=function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=void 0;return(this._listeners[e]||[]).forEach(function(e){void 0===r&&(r=e.apply(void 0,n))}),r},e.prototype.teardown=function(){this.listeners=Object.create(null),this._onTouchMoveWindowListener&&this._onTouchMoveWindowListener.remove(),this._onInitialEventListener&&this._onInitialEventListener.remove(),this._onEndListener&&this._onEndListener.remove(),this._onMoveListener&&this._onMoveListener.remove(),this._onKeyUpListener&&this._onKeyUpListener.remove(),this._onKeyDownListener&&this._onKeyDownListener.remove()},e.prototype.isSelected=function(e){var t=this._selectRect;return!(!t||!this.selecting)&&u(t,p(e))},e.prototype.filter=function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]},e.prototype._addLongPressListener=function(e,t){var n=this,o=null,r=null,s=null,a=function(t){o=setTimeout(function(){c(),e(t)},n.longPressThreshold),r=i("touchmove",function(){return c()}),s=i("touchend",function(){return c()})},l=i("touchstart",a),c=function(){o&&clearTimeout(o),r&&r.remove(),s&&s.remove(),o=null,r=null,s=null};return t&&a(t),{remove:function(){c(),l.remove()}}},e.prototype._addInitialEventListener=function(){var e=this,t=i("mousedown",function(t){e._onInitialEventListener.remove(),e._handleInitialEvent(t),e._onInitialEventListener=i("mousedown",e._handleInitialEvent)}),n=i("touchstart",function(t){e._onInitialEventListener.remove(),e._onInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._onInitialEventListener={remove:function(){t.remove(),n.remove()}}},e.prototype._handleInitialEvent=function(e){var t=l(e),n=t.clientX,o=t.clientY,r=t.pageX,a=t.pageY,h=this.container(),d=void 0;if(3!==e.which&&2!==e.button&&s(h,n,o)){if(!this.globalMouse&&h&&!(0,_.default)(h,e.target)){var f=c(0),g=f.top,m=f.left,v=f.bottom,y=f.right;if(d=p(h),!u({top:d.top-g,left:d.left-m,bottom:d.bottom+v,right:d.right+y},{top:a,left:r}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:r,y:a,clientX:n,clientY:o}))switch(e.type){case"mousedown":this._onEndListener=i("mouseup",this._handleTerminatingEvent),this._onMoveListener=i("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._onEndListener=i("touchend",this._handleTerminatingEvent),this._onMoveListener=i("touchmove",this._handleMoveEvent)}}},e.prototype._handleTerminatingEvent=function(e){var t=l(e),n=t.pageX,o=t.pageY;if(this.selecting=!1,this._onEndListener&&this._onEndListener.remove(),this._onMoveListener&&this._onMoveListener.remove(),this._initialEventData){var r=!this.container||(0,_.default)(this.container(),e.target),i=this._selectRect,s=this.isClick(n,o);return this._initialEventData=null,s&&!r?this.emit("reset"):s&&r?this._handleClickEvent(e):s?void 0:this.emit("select",i)}},e.prototype._handleClickEvent=function(e){var t=l(e),n=t.pageX,o=t.pageY,r=t.clientX,i=t.clientY,s=(new Date).getTime();return this._lastClickData&&s-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:o,clientX:r,clientY:i})):(this._lastClickData={timestamp:s},this.emit("click",{x:n,y:o,clientX:r,clientY:i}))},e.prototype._handleMoveEvent=function(e){var t=this._initialEventData,n=t.x,o=t.y,r=l(e),i=r.pageX,s=r.pageY,a=Math.abs(n-i),c=Math.abs(o-s),u=Math.min(i,n),p=Math.min(s,o),h=this.selecting;(h||a||c)&&(this.selecting=!0,this._selectRect={top:p,left:u,x:i,y:s,right:u+a,bottom:p+c},h||this.emit("selectStart",this._initialEventData),this.isClick(i,s)||this.emit("selecting",this._selectRect),e.preventDefault())},e.prototype._keyListener=function(e){this.ctrl=e.metaKey||e.ctrlKey},e.prototype.isClick=function(e,t){var n=this._initialEventData,o=n.x,r=n.y;return!n.isTouch&&Math.abs(e-o)<=5&&Math.abs(t-r)<=5},e}();t.default=b},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(5),i=o(r),s=n(0),a=o(s),l=n(7),c=n(194),u=o(c),p=n(196),h=o(p),d=n(15),f=n(54);t.default={propTypes:{slots:i.default.number.isRequired,end:i.default.instanceOf(Date),start:i.default.instanceOf(Date),selected:i.default.object,isAllDay:i.default.bool,eventPropGetter:i.default.func,titleAccessor:d.accessor,tooltipAccessor:d.accessor,allDayAccessor:d.accessor,startAccessor:d.accessor,endAccessor:d.accessor,eventComponent:d.elementType,eventWrapperComponent:d.elementType.isRequired,onSelect:i.default.func,onDoubleClick:i.default.func},defaultProps:{segments:[],selected:{},slots:7},renderEvent:function(e,t){var n=e.eventPropGetter,o=e.selected,r=e.isAllDay,i=e.start,s=e.end,l=e.startAccessor,c=e.endAccessor,p=e.titleAccessor,h=e.tooltipAccessor,d=e.allDayAccessor,_=e.eventComponent,g=e.eventWrapperComponent,m=e.onSelect,v=e.onDoubleClick;return a.default.createElement(u.default,{event:t,eventWrapperComponent:g,eventPropGetter:n,onSelect:m,onDoubleClick:v,selected:(0,f.isSelected)(t,o),isAllDay:r,startAccessor:l,endAccessor:c,titleAccessor:p,tooltipAccessor:h,allDayAccessor:d,slotStart:i,slotEnd:s,eventComponent:_})},renderSpan:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",r=Math.abs(t)/e*100+"%";return a.default.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:r,flexBasis:r,maxWidth:r}},o)},getRowHeight:function(){(0,h.default)((0,l.findDOMNode)(this))}},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(5),i=o(r),s=n(0),a=o(s),l=function(e){var t=e.label;return a.default.createElement("span",null,t)};l.propTypes={label:i.default.node},t.default=l,e.exports=t.default},function(e,t,n){"use strict";function o(e){function t(e){var t=i.default.diff(n,e,"minutes")+s(n,e);return Math.min(t,p)}for(var n=e.min,r=e.max,l=e.step,c=e.timeslots,u=a(n,r,l,c),p=i.default.diff(n,r,"minutes")+s(n,r),h=i.default.diff(i.default.startOf(n,"day"),n,"minutes"),d=Math.ceil(p/(l*c)),f=d*c,_=new Array(d),g=new Array(f),m=0;m<d;m++){_[m]=new Array(c);for(var v=0;v<c;v++){var y=m*c+v,b=y*l;g[y]=_[m][v]=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,h+b,0,0)}}var E=g.length*l;return g.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,h+E,0,0)),{groups:_,update:function(e){return a(e)!==u?o(e):this},dateIsInGroup:function(e,t){var n=_[t+1];return i.default.inRange(e,_[t][0],n?n[0]:r,"minutes")},nextSlot:function(e){var t=g[Math.min(g.indexOf(e)+1,g.length-1)];return t===e&&(t=i.default.add(e,l,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(g.length-1,Math.max(0,Math.floor(e*f)));return g[t]},startsBefore:function(e){return i.default.lt(i.default.merge(n,e),n,"minutes")},startsAfter:function(e){return i.default.gt(i.default.merge(r,e),r,"minutes")},getRange:function(e,o){e=i.default.min(r,i.default.max(n,e)),o=i.default.min(r,i.default.max(n,o));var s=t(e),a=t(o),l=s/p*100;return{top:l,height:a/p*100-l,start:t(e),startDate:e,end:t(o),endDate:o}}}}t.__esModule=!0,t.getSlotMetrics=o;var r=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(e,t){return Math.abs(e.getTimezoneOffset()-t.getTimezoneOffset())},a=function(e,t,n,o){return+i.default.startOf(e,"minutes")+""+ +i.default.startOf(t,"minutes")+n+"-"+o}},function(e,t,n){function o(e,t,n,s,a){var l=-1,c=e.length;for(n||(n=i),a||(a=[]);++l<c;){var u=e[l];t>0&&n(u)?t>1?o(u,t-1,n,s,a):r(a,u):s||(a[a.length]=u)}return a}var r=n(125),i=n(455);e.exports=o},function(e,t,n){function o(e,t){return s(i(e,t,r),e+"")}var r=n(86),i=n(214),s=n(215);e.exports=o},function(e,t,n){function o(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),r(e,this,c)}}var r=n(465),i=Math.max;e.exports=o},function(e,t,n){var o=n(466),r=n(468),i=r(o);e.exports=i},function(e,t,n){var o=n(38),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(3),c=o(l),u=n(5),p=o(u),h=n(0),d=o(h),f=n(15),_=n(135),g=o(_),m=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.renderSlot,n=e.resource,o=e.group,r=e.slotPropGetter,i=e.timeSlotWrapperComponent;return d.default.createElement("div",{className:"rbc-timeslot-group"},o.map(function(e,o){var s=r&&r(e)||{};return d.default.createElement(i,{key:o,value:e,resource:n},d.default.createElement("div",a({},s,{className:(0,c.default)("rbc-time-slot",s.className)}),t&&t(e,o)))}))},t}(h.Component);m.propTypes={renderSlot:p.default.func,timeSlotWrapperComponent:f.elementType,group:p.default.array.isRequired,slotPropGetter:p.default.func,resource:p.default.any},m.defaultProps={timeSlotWrapperComponent:g.default},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n=(0,s.default)(e);return n?n.innerWidth:t?e.clientWidth:(0,i.default)(e).width}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(52)),s=r(n(53));e.exports=t.default},function(e,t,n){"use strict";function o(e){if((!i&&0!==i||e)&&s.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i}var r=n(6);t.__esModule=!0,t.default=o;var i,s=r(n(31));e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=o(c),p=n(0),h=o(p),d=n(11),f=o(d),_=n(12),g=o(_),m=n(20),v=n(133),y=o(v),b=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,n=e.date,o=r(e,["date"]),i=t.range(n,this.props);return h.default.createElement(y.default,l({},o,{range:i,eventOffset:15}))},t}(h.default.Component);b.propTypes={date:u.default.instanceOf(Date).isRequired},b.defaultProps=y.default.defaultProps,b.navigate=function(e,t){switch(t){case m.navigate.PREVIOUS:return f.default.add(e,-1,"week");case m.navigate.NEXT:return f.default.add(e,1,"week");default:return e}},b.range=function(e,t){var n=t.culture,o=g.default.startOfWeek(n),r=f.default.startOf(e,"week",o),i=f.default.endOf(e,"week",o);return f.default.range(r,i)},b.title=function(e,t){var n=t.formats,o=t.culture,r=b.range(e,{culture:o}),i=r[0],s=r.slice(1);return g.default.format({start:i,end:s.pop()},n.dayRangeHeaderFormat,o)},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){return this.props.children},t}(a.default.Component);t.default=l,e.exports=t.default},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function o(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}var r=n(136),i=n(49),s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t,n){var o=n(125),r=n(88),i=n(126),s=n(203),a=Object.getOwnPropertySymbols,l=a?function(e){for(var t=[];e;)o(t,i(e)),e=r(e);return t}:s;e.exports=l},function(e,t,n){function o(e){return r(e,s,i)}var r=n(202),i=n(225),s=n(87);e.exports=o},function(e,t,n){var o=n(25),r=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){(function(e){var t;!function(t,n){e.exports=n()}(0,function(){"use strict";function n(){return nr.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(i(e,t))return!1;return!0}function a(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,o=[];for(n=0;n<e.length;++n)o.push(t(e[n],n));return o}function p(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,o){return kt(e,t,n,o,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=d()),e._pf}function _(e){if(null==e._isValid){var t=f(e),n=or.call(t.parsedDateParts,function(e){return null!=e}),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function g(e){var t=h(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}function m(e,t){var n,o,r;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),rr.length>0)for(n=0;n<rr.length;n++)o=rr[n],r=t[o],a(r)||(e[o]=r);return e}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ir&&(ir=!0,n.updateOffset(this),ir=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){!1===n.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var o=!0;return p(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),o){var r,s,a,l=[];for(s=0;s<arguments.length;s++){if(r="","object"===typeof arguments[s]){r+="\n["+s+"] ";for(a in arguments[0])i(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[s];l.push(r)}b(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),o=!1}return t.apply(this,arguments)},t)}function T(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),sr[e]||(b(t),sr[e]=!0)}function O(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,n;for(n in e)i(e,n)&&(t=e[n],O(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(e,t){var n,o=p({},e);for(n in t)i(t,n)&&(r(e[n])&&r(t[n])?(o[n]={},p(o[n],e[n]),p(o[n],t[n])):null!=t[n]?o[n]=t[n]:delete o[n]);for(n in e)i(e,n)&&!i(t,n)&&r(e[n])&&(o[n]=p({},o[n]));return o}function k(e){null!=e&&this.set(e)}function R(e,t,n){var o=this._calendar[e]||this._calendar.sameElse;return O(o)?o.call(t,n):o}function w(e,t,n){var o=""+Math.abs(e),r=t-o.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+o}function I(e,t,n,o){var r=o;"string"===typeof o&&(r=function(){return this[o]()}),e&&(dr[e]=r),t&&(dr[t[0]]=function(){return w(r.apply(this,arguments),t[1],t[2])}),n&&(dr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,o=e.match(ur);for(t=0,n=o.length;t<n;t++)dr[o[t]]?o[t]=dr[o[t]]:o[t]=D(o[t]);return function(t){var r,i="";for(r=0;r<n;r++)i+=O(o[r])?o[r].call(t,e):o[r];return i}}function N(e,t){return e.isValid()?(t=M(t,e.localeData()),hr[t]=hr[t]||A(t),hr[t](e)):e.localeData().invalidDate()}function M(e,t){function n(e){return t.longDateFormat(e)||e}var o=5;for(pr.lastIndex=0;o>=0&&pr.test(e);)e=e.replace(pr,n),pr.lastIndex=0,o-=1;return e}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(ur).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}function x(){return this._invalidDate}function L(e){return this._ordinal.replace("%d",e)}function B(e,t,n,o){var r=this._relativeTime[n];return O(r)?r(e,t,n,o):r.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)}function U(e,t){var n=e.toLowerCase();mr[n]=mr[n+"s"]=mr[t]=e}function j(e){return"string"===typeof e?mr[e]||mr[e.toLowerCase()]:void 0}function W(e){var t,n,o={};for(n in e)i(e,n)&&(t=j(n))&&(o[t]=e[n]);return o}function V(e,t){vr[e]=t}function H(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:vr[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}function G(e){return e%4===0&&e%100!==0||e%400===0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function K(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Y(t)),n}function X(e,t){return function(o){return null!=o?(z(this,e,o),n.updateOffset(this,t),this):J(this,e)}}function J(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function z(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&G(e.year())&&1===e.month()&&29===e.date()?(n=K(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),se(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function q(e){return e=j(e),O(this[e])?this[e]():this}function Z(e,t){if("object"===typeof e){e=W(e);var n,o=H(e);for(n=0;n<o.length;n++)this[o[n].unit](e[o[n].unit])}else if(e=j(e),O(this[e]))return this[e](t);return this}function Q(e,t,n){lr[e]=O(t)?t:function(e,o){return e&&n?n:t}}function $(e,t){return i(lr,e)?lr[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,o,r){return t||n||o||r}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,o=t;for("string"===typeof e&&(e=[e]),l(t)&&(o=function(e,n){n[t]=K(e)}),n=0;n<e.length;n++)Br[e[n]]=o}function oe(e,t){ne(e,function(e,n,o,r){o._w=o._w||{},t(e,o._w,o,r)})}function re(e,t,n){null!=t&&i(Br,e)&&Br[e](t,n._a,n,e)}function ie(e,t){return(e%t+t)%t}function se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ie(t,12);return e+=(t-n)/12,1===n?G(e)?29:28:31-n%7%2}function ae(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||zr).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function le(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[zr.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ce(e,t,n){var o,r,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)i=h([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?(r=Lr.call(this._shortMonthsParse,s),-1!==r?r:null):(r=Lr.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===t?-1!==(r=Lr.call(this._shortMonthsParse,s))?r:(r=Lr.call(this._longMonthsParse,s),-1!==r?r:null):-1!==(r=Lr.call(this._longMonthsParse,s))?r:(r=Lr.call(this._shortMonthsParse,s),-1!==r?r:null)}function ue(e,t,n){var o,r,i;if(this._monthsParseExact)return ce.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=h([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[o]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(n&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}}function pe(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=K(t);else if(t=e.localeData().monthsParse(t),!l(t))return e;return n=Math.min(e.date(),se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(e){return null!=e?(pe(this,e),n.updateOffset(this,!0),this):J(this,"Month")}function de(){return se(this.year(),this.month())}function fe(e){return this._monthsParseExact?(i(this,"_monthsRegex")||ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=qr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function _e(e){return this._monthsParseExact?(i(this,"_monthsRegex")||ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=Zr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ge(){function e(e,t){return t.length-e.length}var t,n,o=[],r=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),o.push(this.monthsShort(n,"")),r.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(o.sort(e),r.sort(e),i.sort(e),t=0;t<12;t++)o[t]=te(o[t]),r[t]=te(r[t]);for(t=0;t<24;t++)i[t]=te(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function me(e){return G(e)?366:365}function ve(){return G(this.year())}function ye(e,t,n,o,r,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,o,r,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,o,r,i,s),a}function be(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ee(e,t,n){var o=7+t-n;return-(7+be(e,0,o).getUTCDay()-t)%7+o-1}function Te(e,t,n,o,r){var i,s,a=(7+n-o)%7,l=Ee(e,o,r),c=1+7*(t-1)+a+l;return c<=0?(i=e-1,s=me(i)+c):c>me(e)?(i=e+1,s=c-me(e)):(i=e,s=c),{year:i,dayOfYear:s}}function Oe(e,t,n){var o,r,i=Ee(e.year(),t,n),s=Math.floor((e.dayOfYear()-i-1)/7)+1;return s<1?(r=e.year()-1,o=s+Ce(r,t,n)):s>Ce(e.year(),t,n)?(o=s-Ce(e.year(),t,n),r=e.year()+1):(r=e.year(),o=s),{week:o,year:r}}function Ce(e,t,n){var o=Ee(e,t,n),r=Ee(e+1,t,n);return(me(e)-o+r)/7}function Se(e){return Oe(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function Re(){return this._week.doy}function we(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ie(e){var t=Oe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function De(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function Ae(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ne(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Me(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ne(n,this._week.dow):e?n[e.day()]:n}function Pe(e){return!0===e?Ne(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function xe(e){return!0===e?Ne(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Le(e,t,n){var o,r,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)i=h([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?(r=Lr.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===t?(r=Lr.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=Lr.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===t?-1!==(r=Lr.call(this._weekdaysParse,s))?r:-1!==(r=Lr.call(this._shortWeekdaysParse,s))?r:(r=Lr.call(this._minWeekdaysParse,s),-1!==r?r:null):"ddd"===t?-1!==(r=Lr.call(this._shortWeekdaysParse,s))?r:-1!==(r=Lr.call(this._weekdaysParse,s))?r:(r=Lr.call(this._minWeekdaysParse,s),-1!==r?r:null):-1!==(r=Lr.call(this._minWeekdaysParse,s))?r:-1!==(r=Lr.call(this._weekdaysParse,s))?r:(r=Lr.call(this._shortWeekdaysParse,s),-1!==r?r:null)}function Be(e,t,n){var o,r,i;if(this._weekdaysParseExact)return Le.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(r=h([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[o]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[o].test(e))return o;if(n&&"ddd"===t&&this._shortWeekdaysParse[o].test(e))return o;if(n&&"dd"===t&&this._minWeekdaysParse[o].test(e))return o;if(!n&&this._weekdaysParse[o].test(e))return o}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=De(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function je(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ae(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function We(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=oi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ve(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ri),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ii),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ge(){function e(e,t){return t.length-e.length}var t,n,o,r,i,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),o=te(this.weekdaysMin(n,"")),r=te(this.weekdaysShort(n,"")),i=te(this.weekdays(n,"")),s.push(o),a.push(r),l.push(i),c.push(o),c.push(r),c.push(i);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ye(){return this.hours()%12||12}function Ke(){return this.hours()||24}function Xe(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Je(e,t){return t._meridiemParse}function ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e,t){var n,o=Math.min(e.length,t.length);for(n=0;n<o;n+=1)if(e[n]!==t[n])return n;return o}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function $e(e){for(var t,n,o,r,i=0;i<e.length;){for(r=Qe(e[i]).split("-"),t=r.length,n=Qe(e[i+1]),n=n?n.split("-"):null;t>0;){if(o=et(r.slice(0,t).join("-")))return o;if(n&&n.length>=t&&Ze(r,n)>=t-1)break;t--}i++}return si}function et(n){var o=null;if(void 0===ui[n]&&"undefined"!==typeof e&&e&&e.exports)try{o=si._abbr,t,function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),tt(o)}catch(e){ui[n]=null}return ui[n]}function tt(e,t){var n;return e&&(n=a(t)?rt(e):nt(e,t),n?si=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),si._abbr}function nt(e,t){if(null!==t){var n,o=ci;if(t.abbr=e,null!=ui[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=ui[e]._config;else if(null!=t.parentLocale)if(null!=ui[t.parentLocale])o=ui[t.parentLocale]._config;else{if(null==(n=et(t.parentLocale)))return pi[t.parentLocale]||(pi[t.parentLocale]=[]),pi[t.parentLocale].push({name:e,config:t}),null;o=n._config}return ui[e]=new k(S(o,t)),pi[e]&&pi[e].forEach(function(e){nt(e.name,e.config)}),tt(e),ui[e]}return delete ui[e],null}function ot(e,t){if(null!=t){var n,o,r=ci;null!=ui[e]&&null!=ui[e].parentLocale?ui[e].set(S(ui[e]._config,t)):(o=et(e),null!=o&&(r=o._config),t=S(r,t),null==o&&(t.abbr=e),n=new k(t),n.parentLocale=ui[e],ui[e]=n),tt(e)}else null!=ui[e]&&(null!=ui[e].parentLocale?(ui[e]=ui[e].parentLocale,e===tt()&&tt(e)):null!=ui[e]&&delete ui[e]);return ui[e]}function rt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return si;if(!o(e)){if(t=et(e))return t;e=[e]}return $e(e)}function it(){return ar(ui)}function st(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[Ur]<0||n[Ur]>11?Ur:n[jr]<1||n[jr]>se(n[Fr],n[Ur])?jr:n[Wr]<0||n[Wr]>24||24===n[Wr]&&(0!==n[Vr]||0!==n[Hr]||0!==n[Gr])?Wr:n[Vr]<0||n[Vr]>59?Vr:n[Hr]<0||n[Hr]>59?Hr:n[Gr]<0||n[Gr]>999?Gr:-1,f(e)._overflowDayOfYear&&(t<Fr||t>jr)&&(t=jr),f(e)._overflowWeeks&&-1===t&&(t=Yr),f(e)._overflowWeekday&&-1===t&&(t=Kr),f(e).overflow=t),e}function at(e){var t,n,o,r,i,s,a=e._i,l=hi.exec(a)||di.exec(a);if(l){for(f(e).iso=!0,t=0,n=_i.length;t<n;t++)if(_i[t][1].exec(l[1])){r=_i[t][0],o=!1!==_i[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=gi.length;t<n;t++)if(gi[t][1].exec(l[3])){i=(l[2]||" ")+gi[t][0];break}if(null==i)return void(e._isValid=!1)}if(!o&&null!=i)return void(e._isValid=!1);if(l[4]){if(!fi.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(i||"")+(s||""),yt(e)}else e._isValid=!1}function lt(e,t,n,o,r,i){var s=[ct(e),Jr.indexOf(t),parseInt(n,10),parseInt(o,10),parseInt(r,10)];return i&&s.push(parseInt(i,10)),s}function ct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ut(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function pt(e,t,n){if(e){if(ti.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ht(e,t,n){if(e)return yi[e];if(t)return 0;var o=parseInt(n,10),r=o%100;return(o-r)/100*60+r}function dt(e){var t,n=vi.exec(ut(e._i));if(n){if(t=lt(n[4],n[3],n[2],n[5],n[6],n[7]),!pt(n[1],t,e))return;e._a=t,e._tzm=ht(n[8],n[9],n[10]),e._d=be.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function ft(e){var t=mi.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));at(e),!1===e._isValid&&(delete e._isValid,dt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))}function _t(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function mt(e){var t,n,o,r,i,s=[];if(!e._d){for(o=gt(e),e._w&&null==e._a[jr]&&null==e._a[Ur]&&vt(e),null!=e._dayOfYear&&(i=_t(e._a[Fr],o[Fr]),(e._dayOfYear>me(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[Ur]=n.getUTCMonth(),e._a[jr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=o[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Wr]&&0===e._a[Vr]&&0===e._a[Hr]&&0===e._a[Gr]&&(e._nextDay=!0,e._a[Wr]=0),e._d=(e._useUTC?be:ye).apply(null,s),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Wr]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(f(e).weekdayMismatch=!0)}}function vt(e){var t,n,o,r,i,s,a,l,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,s=4,n=_t(t.GG,e._a[Fr],Oe(Rt(),1,4).year),o=_t(t.W,1),((r=_t(t.E,1))<1||r>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,c=Oe(Rt(),i,s),n=_t(t.gg,e._a[Fr],c.year),o=_t(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+i,(t.e<0||t.e>6)&&(l=!0)):r=i),o<1||o>Ce(n,i,s)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(a=Te(n,o,r,i,s),e._a[Fr]=a.year,e._dayOfYear=a.dayOfYear)}function yt(e){if(e._f===n.ISO_8601)return void at(e);if(e._f===n.RFC_2822)return void dt(e);e._a=[],f(e).empty=!0;var t,o,r,i,s,a,l=""+e._i,c=l.length,u=0;for(r=M(e._f,e._locale).match(ur)||[],t=0;t<r.length;t++)i=r[t],o=(l.match($(i,e))||[])[0],o&&(s=l.substr(0,l.indexOf(o)),s.length>0&&f(e).unusedInput.push(s),l=l.slice(l.indexOf(o)+o.length),u+=o.length),dr[i]?(o?f(e).empty=!1:f(e).unusedTokens.push(i),re(i,o,e)):e._strict&&!o&&f(e).unusedTokens.push(i);f(e).charsLeftOver=c-u,l.length>0&&f(e).unusedInput.push(l),e._a[Wr]<=12&&!0===f(e).bigHour&&e._a[Wr]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Wr]=bt(e._locale,e._a[Wr],e._meridiem),a=f(e).era,null!==a&&(e._a[Fr]=e._locale.erasConvertYear(a,e._a[Fr])),mt(e),st(e)}function bt(e,t,n){var o;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(o=e.isPM(n),o&&t<12&&(t+=12),o||12!==t||(t=0),t):t}function Et(e){var t,n,o,r,i,s,a=!1;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)i=0,s=!1,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],yt(t),_(t)&&(s=!0),i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,a?i<o&&(o=i,n=t):(null==o||i<o||s)&&(o=i,n=t,s&&(a=!0));p(e,n||t)}function Tt(e){if(!e._d){var t=W(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(e)}}function Ot(e){var t=new v(st(Ct(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ct(e){var t=e._i,n=e._f;return e._locale=e._locale||rt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(st(t)):(c(t)?e._d=t:o(n)?Et(e):n?yt(e):St(e),_(e)||(e._d=null),e))}function St(e){var t=e._i;a(t)?e._d=new Date(n.now()):c(t)?e._d=new Date(t.valueOf()):"string"===typeof t?ft(e):o(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),mt(e)):r(t)?Tt(e):l(t)?e._d=new Date(t):n.createFromInputFallback(e)}function kt(e,t,n,i,a){var l={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(r(e)&&s(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=i,Ot(l)}function Rt(e,t,n,o){return kt(e,t,n,o,!1)}function wt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Rt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function It(){return wt("isBefore",[].slice.call(arguments,0))}function Dt(){return wt("isAfter",[].slice.call(arguments,0))}function At(e){var t,n,o=!1;for(t in e)if(i(e,t)&&(-1===Lr.call(Oi,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Oi.length;++n)if(e[Oi[n]]){if(o)return!1;parseFloat(e[Oi[n]])!==K(e[Oi[n]])&&(o=!0)}return!0}function Nt(){return this._isValid}function Mt(){return $t(NaN)}function Pt(e){var t=W(e),n=t.year||0,o=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=At(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*i,this._months=+r+3*o+12*n,this._data={},this._locale=rt(),this._bubble()}function xt(e){return e instanceof Pt}function Lt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bt(e,t,n){var o,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&K(e[o])!==K(t[o]))&&s++;return s+i}function Ft(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+w(~~(e/60),2)+t+w(~~e%60,2)})}function Ut(e,t){var n,o,r,i=(t||"").match(e);return null===i?null:(n=i[i.length-1]||[],o=(n+"").match(Ci)||["-",0,0],r=60*o[1]+K(o[2]),0===r?0:"+"===o[0]?r:-r)}function jt(e,t){var o,r;return t._isUTC?(o=t.clone(),r=(y(e)||c(e)?e.valueOf():Rt(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+r),n.updateOffset(o,!1),o):Rt(e).local()}function Wt(e){return-Math.round(e._d.getTimezoneOffset())}function Vt(e,t,o){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Ut(Mr,e)))return this}else Math.abs(e)<16&&!o&&(e*=60);return!this._isUTC&&t&&(r=Wt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?rn(this,$t(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Wt(this)}function Ht(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Gt(e){return this.utcOffset(0,e)}function Yt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this}function Kt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Ut(Nr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Xt(e){return!!this.isValid()&&(e=e?Rt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return m(t,this),t=Ct(t),t._a?(e=t._isUTC?h(t._a):Rt(t._a),this._isDSTShifted=this.isValid()&&Bt(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function qt(){return!!this.isValid()&&!this._isUTC}function Zt(){return!!this.isValid()&&this._isUTC}function Qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function $t(e,t){var n,o,r,s=e,a=null;return xt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=Si.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:K(a[jr])*n,h:K(a[Wr])*n,m:K(a[Vr])*n,s:K(a[Hr])*n,ms:K(Lt(1e3*a[Gr]))*n}):(a=ki.exec(e))?(n="-"===a[1]?-1:1,s={y:en(a[2],n),M:en(a[3],n),w:en(a[4],n),d:en(a[5],n),h:en(a[6],n),m:en(a[7],n),s:en(a[8],n)}):null==s?s={}:"object"===typeof s&&("from"in s||"to"in s)&&(r=nn(Rt(s.from),Rt(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),o=new Pt(s),xt(e)&&i(e,"_locale")&&(o._locale=e._locale),xt(e)&&i(e,"_isValid")&&(o._isValid=e._isValid),o}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){var n;return e.isValid()&&t.isValid()?(t=jt(t,e),e.isBefore(t)?n=tn(e,t):(n=tn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function on(e,t){return function(n,o){var r,i;return null===o||isNaN(+o)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=o,o=i),r=$t(n,o),rn(this,r,e),this}}function rn(e,t,o,r){var i=t._milliseconds,s=Lt(t._days),a=Lt(t._months);e.isValid()&&(r=null==r||r,a&&pe(e,J(e,"Month")+a*o),s&&z(e,"Date",J(e,"Date")+s*o),i&&e._d.setTime(e._d.valueOf()+i*o),r&&n.updateOffset(e,s||a))}function sn(e){return"string"===typeof e||e instanceof String}function an(e){return y(e)||c(e)||sn(e)||l(e)||cn(e)||ln(e)||null===e||void 0===e}function ln(e){var t,n,o=r(e)&&!s(e),a=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<l.length;t+=1)n=l[t],a=a||i(e,n);return o&&a}function cn(e){var t=o(e),n=!1;return t&&(n=0===e.filter(function(t){return!l(t)&&sn(e)}).length),t&&n}function un(e){var t,n,o=r(e)&&!s(e),a=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<l.length;t+=1)n=l[t],a=a||i(e,n);return o&&a}function pn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function hn(e,t){1===arguments.length&&(arguments[0]?an(arguments[0])?(e=arguments[0],t=void 0):un(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var o=e||Rt(),r=jt(o,this).startOf("day"),i=n.calendarFormat(this,r)||"sameElse",s=t&&(O(t[i])?t[i].call(this,o):t[i]);return this.format(s||this.localeData().calendar(i,this,Rt(o)))}function dn(){return new v(this)}function fn(e,t){var n=y(e)?e:Rt(e);return!(!this.isValid()||!n.isValid())&&(t=j(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function _n(e,t){var n=y(e)?e:Rt(e);return!(!this.isValid()||!n.isValid())&&(t=j(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function gn(e,t,n,o){var r=y(e)?e:Rt(e),i=y(t)?t:Rt(t);return!!(this.isValid()&&r.isValid()&&i.isValid())&&(o=o||"()",("("===o[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===o[1]?this.isBefore(i,n):!this.isAfter(i,n)))}function mn(e,t){var n,o=y(e)?e:Rt(e);return!(!this.isValid()||!o.isValid())&&(t=j(t)||"millisecond","millisecond"===t?this.valueOf()===o.valueOf():(n=o.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function vn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function yn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function bn(e,t,n){var o,r,i;if(!this.isValid())return NaN;if(o=jt(e,this),!o.isValid())return NaN;switch(r=6e4*(o.utcOffset()-this.utcOffset()),t=j(t)){case"year":i=En(this,o)/12;break;case"month":i=En(this,o);break;case"quarter":i=En(this,o)/3;break;case"second":i=(this-o)/1e3;break;case"minute":i=(this-o)/6e4;break;case"hour":i=(this-o)/36e5;break;case"day":i=(this-o-r)/864e5;break;case"week":i=(this-o-r)/6048e5;break;default:i=this-o}return n?i:Y(i)}function En(e,t){if(e.date()<t.date())return-En(t,e);var n,o,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return t-i<0?(n=e.clone().add(r-1,"months"),o=(t-i)/(i-n)):(n=e.clone().add(r+1,"months"),o=(t-i)/(n-i)),-(r+o)||0}function Tn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function On(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?N(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",N(n,"Z")):N(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Cn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,o,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",o=i+'[")]',this.format(e+t+n+o)}function Sn(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=N(this,e);return this.localeData().postformat(t)}function kn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Rt(e).isValid())?$t({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Rn(e){return this.from(Rt(),e)}function wn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Rt(e).isValid())?$t({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function In(e){return this.to(Rt(),e)}function Dn(e){var t;return void 0===e?this._locale._abbr:(t=rt(e),null!=t&&(this._locale=t),this)}function An(){return this._locale}function Nn(e,t){return(e%t+t)%t}function Mn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Mi:new Date(e,t,n).valueOf()}function Pn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Mi:Date.UTC(e,t,n)}function xn(e){var t,o;if(void 0===(e=j(e))||"millisecond"===e||!this.isValid())return this;switch(o=this._isUTC?Pn:Mn,e){case"year":t=o(this.year(),0,1);break;case"quarter":t=o(this.year(),this.month()-this.month()%3,1);break;case"month":t=o(this.year(),this.month(),1);break;case"week":t=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=o(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Nn(t+(this._isUTC?0:this.utcOffset()*Ai),Ni);break;case"minute":t=this._d.valueOf(),t-=Nn(t,Ai);break;case"second":t=this._d.valueOf(),t-=Nn(t,Di)}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ln(e){var t,o;if(void 0===(e=j(e))||"millisecond"===e||!this.isValid())return this;switch(o=this._isUTC?Pn:Mn,e){case"year":t=o(this.year()+1,0,1)-1;break;case"quarter":t=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=o(this.year(),this.month()+1,1)-1;break;case"week":t=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ni-Nn(t+(this._isUTC?0:this.utcOffset()*Ai),Ni)-1;break;case"minute":t=this._d.valueOf(),t+=Ai-Nn(t,Ai)-1;break;case"second":t=this._d.valueOf(),t+=Di-Nn(t,Di)-1}return this._d.setTime(t),n.updateOffset(this,!0),this}function Bn(){return this._d.valueOf()-6e4*(this._offset||0)}function Fn(){return Math.floor(this.valueOf()/1e3)}function Un(){return new Date(this.valueOf())}function jn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Wn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Vn(){return this.isValid()?this.toISOString():null}function Hn(){return _(this)}function Gn(){return p({},f(this))}function Yn(){return f(this).overflow}function Kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Xn(e,t){var o,r,i,s=this._eras||rt("en")._eras;for(o=0,r=s.length;o<r;++o){switch(typeof s[o].since){case"string":i=n(s[o].since).startOf("day"),s[o].since=i.valueOf()}switch(typeof s[o].until){case"undefined":s[o].until=1/0;break;case"string":i=n(s[o].until).startOf("day").valueOf(),s[o].until=i.valueOf()}}return s}function Jn(e,t,n){var o,r,i,s,a,l=this.eras();for(e=e.toUpperCase(),o=0,r=l.length;o<r;++o)if(i=l[o].name.toUpperCase(),s=l[o].abbr.toUpperCase(),a=l[o].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[o];break;case"NNNN":if(i===e)return l[o];break;case"NNNNN":if(a===e)return l[o]}else if([i,s,a].indexOf(e)>=0)return l[o]}function zn(e,t){var o=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*o}function qn(){var e,t,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until)return o[e].name;if(o[e].until<=n&&n<=o[e].since)return o[e].name}return""}function Zn(){var e,t,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until)return o[e].narrow;if(o[e].until<=n&&n<=o[e].since)return o[e].narrow}return""}function Qn(){var e,t,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until)return o[e].abbr;if(o[e].until<=n&&n<=o[e].since)return o[e].abbr}return""}function $n(){var e,t,o,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(o=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-n(i[e].since).year())*o+i[e].offset;return this.year()}function eo(e){return i(this,"_erasNameRegex")||ao.call(this),e?this._erasNameRegex:this._erasRegex}function to(e){return i(this,"_erasAbbrRegex")||ao.call(this),e?this._erasAbbrRegex:this._erasRegex}function no(e){return i(this,"_erasNarrowRegex")||ao.call(this),e?this._erasNarrowRegex:this._erasRegex}function oo(e,t){return t.erasAbbrRegex(e)}function ro(e,t){return t.erasNameRegex(e)}function io(e,t){return t.erasNarrowRegex(e)}function so(e,t){return t._eraYearOrdinalRegex||Dr}function ao(){var e,t,n=[],o=[],r=[],i=[],s=this.eras();for(e=0,t=s.length;e<t;++e)o.push(te(s[e].name)),n.push(te(s[e].abbr)),r.push(te(s[e].narrow)),i.push(te(s[e].name)),i.push(te(s[e].abbr)),i.push(te(s[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function lo(e,t){I(0,[e,e.length],0,t)}function co(e){return go.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function uo(e){return go.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function po(){return Ce(this.year(),1,4)}function ho(){return Ce(this.isoWeekYear(),1,4)}function fo(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)}function _o(){var e=this.localeData()._week;return Ce(this.weekYear(),e.dow,e.doy)}function go(e,t,n,o,r){var i;return null==e?Oe(this,o,r).year:(i=Ce(e,o,r),t>i&&(t=i),mo.call(this,e,t,n,o,r))}function mo(e,t,n,o,r){var i=Te(e,t,n,o,r),s=be(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function vo(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function yo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function bo(e,t){t[Gr]=K(1e3*("0."+e))}function Eo(){return this._isUTC?"UTC":""}function To(){return this._isUTC?"Coordinated Universal Time":""}function Oo(e){return Rt(1e3*e)}function Co(){return Rt.apply(null,arguments).parseZone()}function So(e){return e}function ko(e,t,n,o){var r=rt(),i=h().set(o,t);return r[n](i,e)}function Ro(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ko(e,t,n,"month");var o,r=[];for(o=0;o<12;o++)r[o]=ko(e,o,n,"month");return r}function wo(e,t,n,o){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r,i=rt(),s=e?i._week.dow:0,a=[];if(null!=n)return ko(t,(n+s)%7,o,"day");for(r=0;r<7;r++)a[r]=ko(t,(r+s)%7,o,"day");return a}function Io(e,t){return Ro(e,t,"months")}function Do(e,t){return Ro(e,t,"monthsShort")}function Ao(e,t,n){return wo(e,t,n,"weekdays")}function No(e,t,n){return wo(e,t,n,"weekdaysShort")}function Mo(e,t,n){return wo(e,t,n,"weekdaysMin")}function Po(){var e=this._data;return this._milliseconds=Wi(this._milliseconds),this._days=Wi(this._days),this._months=Wi(this._months),e.milliseconds=Wi(e.milliseconds),e.seconds=Wi(e.seconds),e.minutes=Wi(e.minutes),e.hours=Wi(e.hours),e.months=Wi(e.months),e.years=Wi(e.years),this}function xo(e,t,n,o){var r=$t(t,n);return e._milliseconds+=o*r._milliseconds,e._days+=o*r._days,e._months+=o*r._months,e._bubble()}function Lo(e,t){return xo(this,e,t,1)}function Bo(e,t){return xo(this,e,t,-1)}function Fo(e){return e<0?Math.floor(e):Math.ceil(e)}function Uo(){var e,t,n,o,r,i=this._milliseconds,s=this._days,a=this._months,l=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*Fo(Wo(a)+s),s=0,a=0),l.milliseconds=i%1e3,e=Y(i/1e3),l.seconds=e%60,t=Y(e/60),l.minutes=t%60,n=Y(t/60),l.hours=n%24,s+=Y(n/24),r=Y(jo(s)),a+=r,s-=Fo(Wo(r)),o=Y(a/12),a%=12,l.days=s,l.months=a,l.years=o,this}function jo(e){return 4800*e/146097}function Wo(e){return 146097*e/4800}function Vo(e){if(!this.isValid())return NaN;var t,n,o=this._milliseconds;if("month"===(e=j(e))||"quarter"===e||"year"===e)switch(t=this._days+o/864e5,n=this._months+jo(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Wo(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return 24*t+o/36e5;case"minute":return 1440*t+o/6e4;case"second":return 86400*t+o/1e3;case"millisecond":return Math.floor(864e5*t)+o;default:throw new Error("Unknown unit "+e)}}function Ho(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*K(this._months/12):NaN}function Go(e){return function(){return this.as(e)}}function Yo(){return $t(this)}function Ko(e){return e=j(e),this.isValid()?this[e+"s"]():NaN}function Xo(e){return function(){return this.isValid()?this._data[e]:NaN}}function Jo(){return Y(this.days()/7)}function zo(e,t,n,o,r){return r.relativeTime(t||1,!!n,e,o)}function qo(e,t,n,o){var r=$t(e).abs(),i=rs(r.as("s")),s=rs(r.as("m")),a=rs(r.as("h")),l=rs(r.as("d")),c=rs(r.as("M")),u=rs(r.as("w")),p=rs(r.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),h=h||c<=1&&["M"]||c<n.M&&["MM",c]||p<=1&&["y"]||["yy",p],h[2]=t,h[3]=+e>0,h[4]=o,zo.apply(null,h)}function Zo(e){return void 0===e?rs:"function"===typeof e&&(rs=e,!0)}function Qo(e,t){return void 0!==is[e]&&(void 0===t?is[e]:(is[e]=t,"s"===e&&(is.ss=t-1),!0))}function $o(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,o,r=!1,i=is;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(i=Object.assign({},is,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=this.localeData(),o=qo(this,!r,i,n),r&&(o=n.pastFuture(+this,o)),n.postformat(o)}function er(e){return(e>0)-(e<0)||+e}function tr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,o,r,i,s,a,l=ss(this._milliseconds)/1e3,c=ss(this._days),u=ss(this._months),p=this.asSeconds();return p?(e=Y(l/60),t=Y(e/60),l%=60,e%=60,n=Y(u/12),u%=12,o=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=p<0?"-":"",i=er(this._months)!==er(p)?"-":"",s=er(this._days)!==er(p)?"-":"",a=er(this._milliseconds)!==er(p)?"-":"",r+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+o+"S":"")):"P0D"}var nr,or;or=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),o=n.length>>>0;for(t=0;t<o;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var rr=n.momentProperties=[],ir=!1,sr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var ar;ar=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};var lr,cr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ur=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hr={},dr={},fr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},_r=/\d{1,2}/,gr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},mr={},vr={},yr=/\d/,br=/\d\d/,Er=/\d{3}/,Tr=/\d{4}/,Or=/[+-]?\d{6}/,Cr=/\d\d?/,Sr=/\d\d\d\d?/,kr=/\d\d\d\d\d\d?/,Rr=/\d{1,3}/,wr=/\d{1,4}/,Ir=/[+-]?\d{1,6}/,Dr=/\d+/,Ar=/[+-]?\d+/,Nr=/Z|[+-]\d\d:?\d\d/gi,Mr=/Z|[+-]\d\d(?::?\d\d)?/gi,Pr=/[+-]?\d+(\.\d{1,3})?/,xr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;lr={};var Lr,Br={},Fr=0,Ur=1,jr=2,Wr=3,Vr=4,Hr=5,Gr=6,Yr=7,Kr=8;Lr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("month","M"),V("month",8),Q("M",Cr),Q("MM",Cr,br),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[Ur]=K(e)-1}),ne(["MMM","MMMM"],function(e,t,n,o){var r=n._locale.monthsParse(e,o,n._strict);null!=r?t[Ur]=r:f(n).invalidMonth=e});var Xr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Jr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qr=xr,Zr=xr;I("Y",0,0,function(){var e=this.year();return e<=9999?w(e,4):"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),Q("Y",Ar),Q("YY",Cr,br),Q("YYYY",wr,Tr),Q("YYYYY",Ir,Or),Q("YYYYYY",Ir,Or),ne(["YYYYY","YYYYYY"],Fr),ne("YYYY",function(e,t){t[Fr]=2===e.length?n.parseTwoDigitYear(e):K(e)}),ne("YY",function(e,t){t[Fr]=n.parseTwoDigitYear(e)}),ne("Y",function(e,t){t[Fr]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return K(e)+(K(e)>68?1900:2e3)};var Qr=X("FullYear",!0);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),Q("w",Cr),Q("ww",Cr,br),Q("W",Cr),Q("WW",Cr,br),oe(["w","ww","W","WW"],function(e,t,n,o){t[o.substr(0,1)]=K(e)});var $r={dow:0,doy:6};I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),Q("d",Cr),Q("e",Cr),Q("E",Cr),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),oe(["dd","ddd","dddd"],function(e,t,n,o){var r=n._locale.weekdaysParse(e,o,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e}),oe(["d","e","E"],function(e,t,n,o){t[o]=K(e)});var ei="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ti="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ni="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oi=xr,ri=xr,ii=xr;I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Ye),I("k",["kk",2],0,Ke),I("hmm",0,0,function(){return""+Ye.apply(this)+w(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Ye.apply(this)+w(this.minutes(),2)+w(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+w(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+w(this.minutes(),2)+w(this.seconds(),2)}),Xe("a",!0),Xe("A",!1),U("hour","h"),V("hour",13),Q("a",Je),Q("A",Je),Q("H",Cr),Q("h",Cr),Q("k",Cr),Q("HH",Cr,br),Q("hh",Cr,br),Q("kk",Cr,br),Q("hmm",Sr),Q("hmmss",kr),Q("Hmm",Sr),Q("Hmmss",kr),ne(["H","HH"],Wr),ne(["k","kk"],function(e,t,n){var o=K(e);t[Wr]=24===o?0:o}),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[Wr]=K(e),f(n).bigHour=!0}),ne("hmm",function(e,t,n){var o=e.length-2;t[Wr]=K(e.substr(0,o)),t[Vr]=K(e.substr(o)),f(n).bigHour=!0}),ne("hmmss",function(e,t,n){var o=e.length-4,r=e.length-2;t[Wr]=K(e.substr(0,o)),t[Vr]=K(e.substr(o,2)),t[Hr]=K(e.substr(r)),f(n).bigHour=!0}),ne("Hmm",function(e,t,n){var o=e.length-2;t[Wr]=K(e.substr(0,o)),t[Vr]=K(e.substr(o))}),ne("Hmmss",function(e,t,n){var o=e.length-4,r=e.length-2;t[Wr]=K(e.substr(0,o)),t[Vr]=K(e.substr(o,2)),t[Hr]=K(e.substr(r))});var si,ai=/[ap]\.?m?\.?/i,li=X("Hours",!0),ci={calendar:cr,longDateFormat:fr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:_r,relativeTime:gr,months:Xr,monthsShort:Jr,week:$r,weekdays:ei,weekdaysMin:ni,weekdaysShort:ti,meridiemParse:ai},ui={},pi={},hi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,di=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fi=/Z|[+-]\d\d(?::?\d\d)?/,_i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mi=/^\/?Date\((-?\d+)/i,vi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var bi=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Rt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Ei=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Rt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}),Ti=function(){return Date.now?Date.now():+new Date},Oi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ft("Z",":"),Ft("ZZ",""),Q("Z",Mr),Q("ZZ",Mr),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(Mr,e)});var Ci=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Si=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;$t.fn=Pt.prototype,$t.invalid=Mt;var Ri=on(1,"add"),wi=on(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ii=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),Di=1e3,Ai=60*Di,Ni=60*Ai,Mi=3506328*Ni;I("N",0,0,"eraAbbr"),I("NN",0,0,"eraAbbr"),I("NNN",0,0,"eraAbbr"),I("NNNN",0,0,"eraName"),I("NNNNN",0,0,"eraNarrow"),I("y",["y",1],"yo","eraYear"),I("y",["yy",2],0,"eraYear"),I("y",["yyy",3],0,"eraYear"),I("y",["yyyy",4],0,"eraYear"),Q("N",oo),Q("NN",oo),Q("NNN",oo),Q("NNNN",ro),Q("NNNNN",io),ne(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,o){var r=n._locale.erasParse(e,o,n._strict);r?f(n).era=r:f(n).invalidEra=e}),Q("y",Dr),Q("yy",Dr),Q("yyy",Dr),Q("yyyy",Dr),Q("yo",so),ne(["y","yy","yyy","yyyy"],Fr),ne(["yo"],function(e,t,n,o){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Fr]=n._locale.eraYearOrdinalParse(e,r):t[Fr]=parseInt(e,10)}),I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),lo("gggg","weekYear"),lo("ggggg","weekYear"),lo("GGGG","isoWeekYear"),lo("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),Q("G",Ar),Q("g",Ar),Q("GG",Cr,br),Q("gg",Cr,br),Q("GGGG",wr,Tr),Q("gggg",wr,Tr),Q("GGGGG",Ir,Or),Q("ggggg",Ir,Or),oe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,o){t[o.substr(0,2)]=K(e)}),oe(["gg","GG"],function(e,t,o,r){t[r]=n.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),Q("Q",yr),ne("Q",function(e,t){t[Ur]=3*(K(e)-1)}),I("D",["DD",2],"Do","date"),U("date","D"),V("date",9),Q("D",Cr),Q("DD",Cr,br),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ne(["D","DD"],jr),ne("Do",function(e,t){t[jr]=K(e.match(Cr)[0])});var Pi=X("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),Q("DDD",Rr),Q("DDDD",Er),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=K(e)}),I("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),Q("m",Cr),Q("mm",Cr,br),ne(["m","mm"],Vr);var xi=X("Minutes",!1);I("s",["ss",2],0,"second"),U("second","s"),V("second",15),Q("s",Cr),Q("ss",Cr,br),ne(["s","ss"],Hr);var Li=X("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),V("millisecond",16),Q("S",Rr,yr),Q("SS",Rr,br),Q("SSS",Rr,Er);var Bi,Fi;for(Bi="SSSS";Bi.length<=9;Bi+="S")Q(Bi,Dr);for(Bi="S";Bi.length<=9;Bi+="S")ne(Bi,bo);Fi=X("Milliseconds",!1),I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Ui=v.prototype;Ui.add=Ri,Ui.calendar=hn,Ui.clone=dn,Ui.diff=bn,Ui.endOf=Ln,Ui.format=Sn,Ui.from=kn,Ui.fromNow=Rn,Ui.to=wn,Ui.toNow=In,Ui.get=q,Ui.invalidAt=Yn,Ui.isAfter=fn,Ui.isBefore=_n,Ui.isBetween=gn,Ui.isSame=mn,Ui.isSameOrAfter=vn,Ui.isSameOrBefore=yn,Ui.isValid=Hn,Ui.lang=Ii,Ui.locale=Dn,Ui.localeData=An,Ui.max=Ei,Ui.min=bi,Ui.parsingFlags=Gn,Ui.set=Z,Ui.startOf=xn,Ui.subtract=wi,Ui.toArray=jn,Ui.toObject=Wn,Ui.toDate=Un,Ui.toISOString=On,Ui.inspect=Cn,"undefined"!==typeof Symbol&&null!=Symbol.for&&(Ui[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ui.toJSON=Vn,Ui.toString=Tn,Ui.unix=Fn,Ui.valueOf=Bn,Ui.creationData=Kn,Ui.eraName=qn,Ui.eraNarrow=Zn,Ui.eraAbbr=Qn,Ui.eraYear=$n,Ui.year=Qr,Ui.isLeapYear=ve,Ui.weekYear=co,Ui.isoWeekYear=uo,Ui.quarter=Ui.quarters=vo,Ui.month=he,Ui.daysInMonth=de,Ui.week=Ui.weeks=we,Ui.isoWeek=Ui.isoWeeks=Ie,Ui.weeksInYear=fo,Ui.weeksInWeekYear=_o,Ui.isoWeeksInYear=po,Ui.isoWeeksInISOWeekYear=ho,Ui.date=Pi,Ui.day=Ui.days=Fe,Ui.weekday=Ue,Ui.isoWeekday=je,Ui.dayOfYear=yo,Ui.hour=Ui.hours=li,Ui.minute=Ui.minutes=xi,Ui.second=Ui.seconds=Li,Ui.millisecond=Ui.milliseconds=Fi,Ui.utcOffset=Vt,Ui.utc=Gt,Ui.local=Yt,Ui.parseZone=Kt,Ui.hasAlignedHourOffset=Xt,Ui.isDST=Jt,Ui.isLocal=qt,Ui.isUtcOffset=Zt,Ui.isUtc=Qt,Ui.isUTC=Qt,Ui.zoneAbbr=Eo,Ui.zoneName=To,Ui.dates=E("dates accessor is deprecated. Use date instead.",Pi),Ui.months=E("months accessor is deprecated. Use month instead",he),Ui.years=E("years accessor is deprecated. Use year instead",Qr),Ui.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ht),Ui.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zt);var ji=k.prototype;ji.calendar=R,ji.longDateFormat=P,ji.invalidDate=x,ji.ordinal=L,ji.preparse=So,ji.postformat=So,ji.relativeTime=B,ji.pastFuture=F,ji.set=C,ji.eras=Xn,ji.erasParse=Jn,ji.erasConvertYear=zn,ji.erasAbbrRegex=to,ji.erasNameRegex=eo,ji.erasNarrowRegex=no,ji.months=ae,ji.monthsShort=le,ji.monthsParse=ue,ji.monthsRegex=_e,ji.monthsShortRegex=fe,ji.week=Se,ji.firstDayOfYear=Re,ji.firstDayOfWeek=ke,ji.weekdays=Me,ji.weekdaysMin=xe,ji.weekdaysShort=Pe,ji.weekdaysParse=Be,ji.weekdaysRegex=We,ji.weekdaysShortRegex=Ve,ji.weekdaysMinRegex=He,ji.isPM=ze,ji.meridiem=qe,tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===K(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=E("moment.lang is deprecated. Use moment.locale instead.",tt),n.langData=E("moment.langData is deprecated. Use moment.localeData instead.",rt);var Wi=Math.abs,Vi=Go("ms"),Hi=Go("s"),Gi=Go("m"),Yi=Go("h"),Ki=Go("d"),Xi=Go("w"),Ji=Go("M"),zi=Go("Q"),qi=Go("y"),Zi=Xo("milliseconds"),Qi=Xo("seconds"),$i=Xo("minutes"),es=Xo("hours"),ts=Xo("days"),ns=Xo("months"),os=Xo("years"),rs=Math.round,is={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},ss=Math.abs,as=Pt.prototype;return as.isValid=Nt,as.abs=Po,as.add=Lo,as.subtract=Bo,as.as=Vo,as.asMilliseconds=Vi,as.asSeconds=Hi,as.asMinutes=Gi,as.asHours=Yi,as.asDays=Ki,as.asWeeks=Xi,as.asMonths=Ji,as.asQuarters=zi,as.asYears=qi,as.valueOf=Ho,as._bubble=Uo,as.clone=Yo,as.get=Ko,as.milliseconds=Zi,as.seconds=Qi,as.minutes=$i,as.hours=es,as.days=ts,as.weeks=Jo,as.months=ns,as.years=os,as.humanize=$o,as.toISOString=tr,as.toString=tr,as.toJSON=tr,as.locale=Dn,as.localeData=An,as.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tr),as.lang=Ii,I("X",0,0,"unix"),I("x",0,0,"valueOf"),Q("x",Ar),Q("X",Pr),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ne("x",function(e,t,n){n._d=new Date(K(e))}),n.version="2.29.1",function(e){nr=e}(Rt),n.fn=Ui,n.min=It,n.max=Dt,n.now=Ti,n.utc=h,n.unix=Oo,n.months=Io,n.isDate=c,n.locale=tt,n.invalid=g,n.duration=$t,n.isMoment=y,n.weekdays=Ao,n.parseZone=Co,n.localeData=rt,n.isDuration=xt,n.monthsShort=Do,n.weekdaysMin=Mo,n.defineLocale=nt,n.updateLocale=ot,n.locales=it,n.weekdaysShort=No,n.normalizeUnits=j,n.relativeTimeRounding=Zo,n.relativeTimeThreshold=Qo,n.calendarFormat=pn,n.prototype=Ui,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})}).call(t,n(81)(e))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),p=o(u),h=n(3),d=o(h),f=n(5),_=o(f),g=n(511),m=o(g),v=n(512),y=o(v),b=n(513),E=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.previouslyChecked=!(!e.checked&&!e.defaultChecked),n.state={checked:!(!e.checked&&!e.defaultChecked),hasFocus:!1},n}return a(t,e),c(t,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var t=this.input;if(e.target!==t&&!this.moved)return this.previouslyChecked=t.checked,e.preventDefault(),t.focus(),void t.click();var n=this.props.hasOwnProperty("checked")?this.props.checked:t.checked;this.setState({checked:n})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=(0,b.pointerCoord)(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var t=(0,b.pointerCoord)(e).x;this.state.checked&&t+15<this.startX?(this.setState({checked:!1}),this.startX=t,this.activated=!0):t-15>this.startX&&(this.setState({checked:!0}),this.startX=t,this.activated=t<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var t=this.input;if(e.preventDefault(),this.startX){var n=(0,b.pointerCoord)(e).x;!0===this.previouslyChecked&&this.startX+4>n?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,t.click()):this.startX-4<n&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,t.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;t&&t(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;t&&t(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var n=this.props.icons;return n?void 0===n[e]?t.defaultProps.icons[e]:n[e]:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=(t.icons,r(t,["className","icons"])),i=(0,d.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},n);return p.default.createElement("div",{className:i,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},p.default.createElement("div",{className:"react-toggle-track"},p.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),p.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),p.default.createElement("div",{className:"react-toggle-thumb"}),p.default.createElement("input",l({},o,{ref:function(t){e.input=t},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),t}(u.PureComponent);t.default=E,E.displayName="Toggle",E.defaultProps={icons:{checked:p.default.createElement(m.default,null),unchecked:p.default.createElement(y.default,null)}},E.propTypes={checked:_.default.bool,disabled:_.default.bool,defaultChecked:_.default.bool,onChange:_.default.func,onFocus:_.default.func,onBlur:_.default.func,className:_.default.string,name:_.default.string,value:_.default.string,id:_.default.string,"aria-labelledby":_.default.string,"aria-label":_.default.string,icons:_.default.oneOfType([_.default.bool,_.default.shape({checked:_.default.node,unchecked:_.default.node})])}},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(18),u=n(8),p=n(232),h=n(519),d=n(529),f=n(4),_=n(62),g=n(22),m=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],v=Object(u.a)("navbar-text",{Component:"span"}),y={expand:!0,variant:"light",collapseOnSelect:!1},b=l.a.forwardRef(function(e,t){var n=Object(c.a)(e,{expanded:"onToggle"}),i=n.bsPrefix,u=n.expand,p=n.variant,h=n.bg,d=n.fixed,v=n.sticky,y=n.className,b=n.children,E=n.as,T=void 0===E?"nav":E,O=n.expanded,C=n.onToggle,S=n.onSelect,k=n.collapseOnSelect,R=Object(r.a)(n,m),w=Object(f.a)(i,"navbar"),I=Object(a.useCallback)(function(){S&&S.apply(void 0,arguments),k&&O&&C&&C(!1)},[S,k,O,C]);void 0===R.role&&"nav"!==T&&(R.role="navigation");var D=w+"-expand";"string"===typeof u&&(D=D+"-"+u);var A=Object(a.useMemo)(function(){return{onToggle:function(){return C&&C(!O)},bsPrefix:w,expanded:!!O}},[w,O,C]);return l.a.createElement(_.a.Provider,{value:A},l.a.createElement(g.a.Provider,{value:I},l.a.createElement(T,Object(o.a)({ref:t},R,{className:s()(y,w,u&&D,p&&w+"-"+p,h&&"bg-"+h,v&&"sticky-"+v,d&&"fixed-"+d)}),b)))});b.defaultProps=y,b.displayName="Navbar",b.Brand=p.a,b.Toggle=d.a,b.Collapse=h.a,b.Text=v,t.a=b},function(e,t,n){"use strict";function o(e,t){var n={};return Object.keys(e).forEach(function(e){n[i(e)]=l}),n}function r(e,t){return void 0!==e[t]}function i(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){return!!e&&("function"!==typeof e||e.prototype&&e.prototype.isReactComponent)}t.d=o,t.c=r,t.b=i,t.a=s;var a=n(9),l=(n.n(a),function(){})},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","as"],p=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,p=Object(r.a)(e,u);n=Object(c.a)(n,"navbar-brand");var h=a||(p.href?"a":"span");return l.a.createElement(h,Object(o.a)({},p,{ref:t,className:s()(i,n)}))});p.displayName="NavbarBrand",t.a=p},function(e,t,n){"use strict";function o(e){var t=Object(s.a)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}function r(e,t,n){void 0===n&&(n=5);var o=!1,r=setTimeout(function(){o||Object(l.a)(e,"transitionend",!0)},t+n),i=Object(a.a)(e,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(r),i()}}function i(e,t,n,i){null==n&&(n=o(e)||0);var s=r(e,n,i),l=Object(a.a)(e,"transitionend",t);return function(){s(),l()}}t.a=i;var s=n(61),a=n(141),l=n(528)},function(e,t,n){"use strict";function o(e,t,n,o){var r=o&&"boolean"!==typeof o?o.capture:o;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)}t.a=o},function(e,t,n){"use strict";function o(e){var t=Object(r.useRef)(e);return Object(r.useEffect)(function(){t.current=e},[e]),t}var r=n(0);n.n(r);t.a=o},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext(null);i.displayName="CardContext",t.a=i},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(145),s=n(0),a=n.n(s),l=n(238),c=n(63),u=n(146),p=n(22),h=n(147),d=["as","onSelect","activeKey","role","onKeyDown"],f=function(){},_=a.a.forwardRef(function(e,t){var n,_,g=e.as,m=void 0===g?"ul":g,v=e.onSelect,y=e.activeKey,b=e.role,E=e.onKeyDown,T=Object(r.a)(e,d),O=Object(l.a)(),C=Object(s.useRef)(!1),S=Object(s.useContext)(p.a),k=Object(s.useContext)(h.a);k&&(b=b||"tablist",y=k.activeKey,n=k.getControlledId,_=k.getControllerId);var R=Object(s.useRef)(null),w=function(e){var t=R.current;if(!t)return null;var n=Object(i.a)(t,"[data-rb-event-key]:not(.disabled)"),o=t.querySelector(".active");if(!o)return null;var r=n.indexOf(o);if(-1===r)return null;var s=r+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},I=function(e,t){null!=e&&(v&&v(e,t),S&&S(e,t))},D=function(e){E&&E(e);var t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=w(-1);break;case"ArrowRight":case"ArrowDown":t=w(1);break;default:return}t&&(e.preventDefault(),I(t.dataset.rbEventKey,e),C.current=!0,O())};Object(s.useEffect)(function(){if(R.current&&C.current){var e=R.current.querySelector("[data-rb-event-key].active");e&&e.focus()}C.current=!1});var A=Object(c.a)(t,R);return a.a.createElement(p.a.Provider,{value:I},a.a.createElement(u.a.Provider,{value:{role:b,activeKey:Object(p.b)(y),getControlledId:n||f,getControllerId:_||f}},a.a.createElement(m,Object(o.a)({},T,{onKeyDown:D,ref:A,role:b}))))});t.a=_},function(e,t,n){"use strict";function o(){return Object(r.useReducer)(function(e){return!e},!1)[1]}t.a=o;var r=n(0);n.n(r)},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(16),u=n(28),p=(n.n(u),n(146)),h=n(22),d=["active","className","eventKey","onSelect","onClick","as"],f={disabled:!1},_=l.a.forwardRef(function(e,t){var n=e.active,i=e.className,u=e.eventKey,f=e.onSelect,_=e.onClick,g=e.as,m=Object(r.a)(e,d),v=Object(h.b)(u,m.href),y=Object(a.useContext)(h.a),b=Object(a.useContext)(p.a),E=n;if(b){m.role||"tablist"!==b.role||(m.role="tab");var T=b.getControllerId(v),O=b.getControlledId(v);m["data-rb-event-key"]=v,m.id=T||m.id,m["aria-controls"]=O||m["aria-controls"],E=null==n&&null!=v?b.activeKey===v:n}"tab"===m.role&&(m.disabled&&(m.tabIndex=-1,m["aria-disabled"]=!0),m["aria-selected"]=E);var C=Object(c.a)(function(e){_&&_(e),null!=v&&(f&&f(v,e),y&&y(v,e))});return l.a.createElement(g,Object(o.a)({},m,{ref:t,onClick:C,className:s()(i,E&&"active")}))});_.defaultProps=f,t.a=_},function(e,t,n){"use strict";var o=n(0);n.n(o)},function(e,t,n){"use strict";function o(e,t){var n=Object(s.useContext)(c.a),o=Object(s.useContext)(l.a);return function(r){var i=e===n?null:e;o&&o(i,r),t&&t(r)}}var r=n(1),i=n(2),s=n(0),a=n.n(s),l=n(22),c=n(92),u=["as","children","eventKey","onClick"],p=a.a.forwardRef(function(e,t){var n=e.as,s=void 0===n?"button":n,l=e.children,c=e.eventKey,p=e.onClick,h=Object(i.a)(e,u),d=o(c,p);return"button"===s&&(h.type="button"),a.a.createElement(s,Object(r.a)({ref:t,onClick:d},h),l)});t.a=p},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(138),l=n(92),c=n(22),u=["children","eventKey"],p=s.a.forwardRef(function(e,t){var n=e.children,p=e.eventKey,h=Object(r.a)(e,u),d=Object(i.useContext)(l.a);return s.a.createElement(c.a.Provider,{value:null},s.a.createElement(a.a,Object(o.a)({ref:t,in:d===p},h),s.a.createElement("div",null,s.a.Children.only(n))))});p.displayName="AccordionCollapse",t.a=p},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(29),u=n(4),p=["bsPrefix","active","children","className","as","linkAs","linkProps","href","title","target"],h={active:!1,linkProps:{}},d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.active,a=e.children,h=e.className,d=e.as,f=void 0===d?"li":d,_=e.linkAs,g=void 0===_?c.a:_,m=e.linkProps,v=e.href,y=e.title,b=e.target,E=Object(r.a)(e,p),T=Object(u.a)(n,"breadcrumb-item");return l.a.createElement(f,Object(o.a)({ref:t},E,{className:s()(T,h,{active:i}),"aria-current":i?"page":void 0}),i?a:l.a.createElement(g,Object(o.a)({},m,{href:v,title:y,target:b}),a))});d.displayName="BreadcrumbItem",d.defaultProps=h,t.a=d},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=n(8),p=n(149),h=n(236),d=n(245),f=["bsPrefix","className","bg","text","border","body","children","as"],_=Object(p.a)("h5"),g=Object(p.a)("h6"),m=Object(u.a)("card-body"),v=Object(u.a)("card-title",{Component:_}),y=Object(u.a)("card-subtitle",{Component:g}),b=Object(u.a)("card-link",{Component:"a"}),E=Object(u.a)("card-text",{Component:"p"}),T=Object(u.a)("card-header"),O=Object(u.a)("card-footer"),C=Object(u.a)("card-img-overlay"),S={body:!1},k=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,u=e.bg,p=e.text,d=e.border,_=e.body,g=e.children,v=e.as,y=void 0===v?"div":v,b=Object(r.a)(e,f),E=Object(c.a)(n,"card"),T=Object(a.useMemo)(function(){return{cardHeaderBsPrefix:E+"-header"}},[E]);return l.a.createElement(h.a.Provider,{value:T},l.a.createElement(y,Object(o.a)({ref:t},b,{className:s()(i,E,u&&"bg-"+u,p&&"text-"+p,d&&"border-"+d)}),_?l.a.createElement(m,null,g):g))});k.displayName="Card",k.defaultProps=S,k.Img=d.a,k.Title=v,k.Subtitle=y,k.Body=m,k.Link=b,k.Text=E,k.Header=T,k.Footer=O,k.ImgOverlay=C,t.a=k},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","variant","as"],p={variant:null},h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.variant,p=e.as,h=void 0===p?"img":p,d=Object(r.a)(e,u),f=Object(c.a)(n,"card-img");return l.a.createElement(h,Object(o.a)({ref:t,className:s()(a?f+"-"+a:f,i)},d))});h.displayName="CardImg",h.defaultProps=p,t.a=h},function(e,t,n){"use strict";var o=n(8);t.a=Object(o.a)("card-columns")},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["as","bsPrefix","children","className"],p=l.a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,a=e.bsPrefix,p=e.children,h=e.className,d=Object(r.a)(e,u),f=s()(h,Object(c.a)(a,"carousel-item"));return l.a.createElement(i,Object(o.a)({ref:t},d,{className:f}),p)});p.displayName="CarouselItem",t.a=p},function(e,t,n){"use strict";function o(e){var t=Object(r.useRef)(null);return Object(r.useEffect)(function(){t.current=e}),t.current}t.a=o;var r=n(0);n.n(r)},function(e,t,n){"use strict";function o(e){void 0===e&&(e={});var t=Object(c.useContext)(h.a),n=Object(p.a)(),o=n[0],r=n[1],i=Object(c.useRef)(!1),a=e,l=a.flip,u=a.offset,m=a.rootCloseEvent,v=a.fixed,y=void 0!==v&&v,b=a.popperConfig,E=void 0===b?{}:b,T=a.usePopper,O=void 0===T?!!t:T,C=null==(null==t?void 0:t.show)?!!e.show:t.show,S=null==(null==t?void 0:t.alignEnd)?e.alignEnd:t.alignEnd;C&&!i.current&&(i.current=!0);var k=function(e){null==t||t.toggle(!1,e)},R=t||{},w=R.drop,I=R.setMenu,D=R.menuElement,A=R.toggleElement,N=S?"bottom-end":"bottom-start";"up"===w?N=S?"top-end":"top-start":"right"===w?N=S?"right-end":"right-start":"left"===w&&(N=S?"left-end":"left-start");var M=Object(d.a)(A,D,Object(_.a)({placement:N,enabled:!(!O||!C),enableEvents:C,offset:u,flip:l,fixed:y,arrowElement:o,popperConfig:E})),P=Object(s.a)({ref:I||g,"aria-labelledby":null==A?void 0:A.id},M.attributes.popper,{style:M.styles.popper}),x={show:C,alignEnd:S,hasShown:i.current,toggle:null==t?void 0:t.toggle,popper:O?M:null,arrowProps:O?Object(s.a)({ref:r},M.attributes.arrow,{style:M.styles.arrow}):{}};return Object(f.a)(D,k,{clickTrigger:m,disabled:!C}),[P,x]}function r(e){var t=e.children,n=Object(i.a)(e,["children"]),r=o(n),s=r[0],a=r[1];return u.a.createElement(u.a.Fragment,null,a.hasShown?t(s,a):null)}t.b=o;var i=n(2),s=n(1),a=n(5),l=n.n(a),c=n(0),u=n.n(c),p=n(155),h=n(154),d=n(250),f=n(260),_=n(261),g=function(){},m={children:l.a.func.isRequired,show:l.a.bool,alignEnd:l.a.bool,flip:l.a.bool,usePopper:l.a.oneOf([!0,!1]),popperConfig:l.a.object,rootCloseEvent:l.a.string},v={usePopper:!0};r.displayName="ReactOverlaysDropdownMenu",r.propTypes=m,r.defaultProps=v,t.a=r},function(e,t,n){"use strict";function o(e,t,n){var o=void 0===n?{}:n,d=o.enabled,f=void 0===d||d,_=o.placement,g=void 0===_?"bottom":_,m=o.strategy,v=void 0===m?"absolute":m,y=o.modifiers,b=void 0===y?h:y,E=Object(i.a)(o,["enabled","placement","strategy","modifiers"]),T=Object(s.useRef)(),O=Object(s.useCallback)(function(){var e;null==(e=T.current)||e.update()},[]),C=Object(s.useCallback)(function(){var e;null==(e=T.current)||e.forceUpdate()},[]),S=Object(a.a)(Object(s.useState)({placement:g,update:O,forceUpdate:C,attributes:{},styles:{popper:c(v),arrow:{}}})),k=S[0],R=S[1],w=Object(s.useMemo)(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},o={};Object.keys(t.elements).forEach(function(e){n[e]=t.styles[e],o[e]=t.attributes[e]}),R({state:t,styles:n,attributes:o,update:O,forceUpdate:C,placement:t.placement})}}},[O,C,R]);return Object(s.useEffect)(function(){T.current&&f&&T.current.setOptions({placement:g,strategy:v,modifiers:[].concat(b,[w,u])})},[v,g,w,f]),Object(s.useEffect)(function(){if(f&&null!=e&&null!=t)return T.current=Object(l.a)(e,t,Object(r.a)({},E,{placement:g,strategy:v,modifiers:[].concat(b,[p,w])})),function(){null!=T.current&&(T.current.destroy(),T.current=void 0,R(function(e){return Object(r.a)({},e,{attributes:{},styles:{popper:c(v)}})}))}},[f,e,t]),k}var r=n(1),i=n(2),s=n(0),a=(n.n(s),n(551)),l=n(251),c=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},u={name:"applyStyles",enabled:!1},p={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,o=e.popper;if("removeAttribute"in n){var r=(n.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==o.id});r.length?n.setAttribute("aria-describedby",r.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state,o=n.elements,r=o.popper,i=o.reference,s=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in i){var a=i.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",a?a+","+r.id:r.id)}}},h=[];t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(552),r=n(554),i=n(555),s=n(556),a=n(564),l=n(565),c=n(566),u=n(567),p=n(13),h=n(569);n.d(t,"b",function(){return p.h});var d=Object(h.a)({defaultModifiers:[a.a,c.a,r.a,i.a,l.a,s.a,u.a,o.a]})},function(e,t,n){"use strict";function o(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Object(r.c)(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}t.a=o;var r=n(19)},function(e,t,n){"use strict";function o(e,t,n){return Object(r.a)(e,Object(r.b)(t,n))}t.a=o;var r=n(66)},function(e,t,n){"use strict";function o(e){return Object.assign({},Object(r.a)(),e)}t.a=o;var r=n(255)},function(e,t,n){"use strict";function o(){return{top:0,right:0,bottom:0,left:0}}t.a=o},function(e,t,n){"use strict";function o(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}t.a=o},function(e,t,n){"use strict";function o(e,t){var n;void 0===t&&(t=[]);var l=Object(r.a)(e),c=l===(null==(n=e.ownerDocument)?void 0:n.body),u=Object(s.a)(l),p=c?[u].concat(u.visualViewport||[],Object(a.a)(l)?l:[]):l,h=t.concat(p);return c?h:h.concat(o(Object(i.a)(p)))}t.a=o;var r=n(562),i=n(96),s=n(26),a=n(160)},function(e,t,n){"use strict";function o(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}t.a=o},function(e,t,n){"use strict";function o(e){var t,n=e.reference,o=e.element,l=e.placement,c=l?Object(r.a)(l):null,u=l?Object(i.a)(l):null,p=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2;switch(c){case a.m:t={x:p,y:n.y-o.height};break;case a.c:t={x:p,y:n.y+n.height};break;case a.k:t={x:n.x+n.width,y:h};break;case a.f:t={x:n.x-o.width,y:h};break;default:t={x:n.x,y:n.y}}var d=c?Object(s.a)(c):null;if(null!=d){var f="y"===d?"height":"width";switch(u){case a.l:t[d]=t[d]-(n[f]/2-o[f]/2);break;case a.e:t[d]=t[d]+(n[f]/2-o[f]/2)}}return t}t.a=o;var r=n(32),i=n(97),s=n(157),a=n(13)},function(e,t,n){"use strict";function o(e){return 0===e.button}function r(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i(e,t,n){var i=void 0===n?{}:n,u=i.disabled,g=i.clickTrigger,m=void 0===g?"click":g,v=Object(l.useRef)(!1),y=t||f,b=Object(l.useCallback)(function(t){var n=_(e);p()(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),v.current=!n||r(t)||!o(t)||!!Object(s.a)(n,t.target)},[e]),E=Object(c.a)(function(e){v.current||y(e)}),T=Object(c.a)(function(e){e.keyCode===d&&y(e)});Object(l.useEffect)(function(){if(!u&&null!=e){var t=window.event,n=Object(h.a)(_(e)),o=Object(a.a)(n,m,b,!0),r=Object(a.a)(n,m,function(e){if(e===t)return void(t=void 0);E(e)}),i=Object(a.a)(n,"keyup",function(e){if(e===t)return void(t=void 0);T(e)}),s=[];return"ontouchstart"in n.documentElement&&(s=[].slice.call(n.body.children).map(function(e){return Object(a.a)(e,"mousemove",f)})),function(){o(),r(),i(),s.forEach(function(e){return e()})}}},[e,u,m,b,E,T])}var s=n(161),a=n(141),l=n(0),c=(n.n(l),n(16)),u=n(28),p=n.n(u),h=n(580),d=27,f=function(){},_=function(e){return e&&("current"in e?e.current:e)};t.a=i},function(e,t,n){"use strict";function o(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}function r(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function i(e){var t,n,i,a,l=e.enabled,c=e.enableEvents,u=e.placement,p=e.flip,h=e.offset,d=e.fixed,f=e.containerPadding,_=e.arrowElement,g=e.popperConfig,m=void 0===g?{}:g,v=o(m.modifiers);return Object(s.a)({},m,{placement:u,enabled:l,strategy:d?"fixed":m.strategy,modifiers:r(Object(s.a)({},v,{eventListeners:{enabled:c},preventOverflow:Object(s.a)({},v.preventOverflow,{options:f?Object(s.a)({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object(s.a)({offset:h},null==(i=v.offset)?void 0:i.options)},arrow:Object(s.a)({},v.arrow,{enabled:!!_,options:Object(s.a)({},null==(a=v.arrow)?void 0:a.options,{element:_})}),flip:Object(s.a)({enabled:!!p},v.flip)}))})}t.a=i;var s=n(1)},function(e,t,n){"use strict";function o(){var e=Object(a.useContext)(c.a)||{},t=e.show,n=void 0!==t&&t,o=e.toggle,r=void 0===o?u:o,i=e.setToggle,s=Object(a.useCallback)(function(e){r(!n,e)},[n,r]);return[{ref:i||u,onClick:s,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:r}]}function r(e){var t=e.children,n=o(),r=n[0],i=n[1];return l.a.createElement(l.a.Fragment,null,t(r,i))}t.b=o;var i=n(5),s=n.n(i),a=n(0),l=n.n(a),c=n(154),u=function(){},p={children:s.a.func.isRequired};r.displayName="ReactOverlaysDropdownToggle",r.propTypes=p,t.a=r},function(e,t,n){"use strict";function o(e,t){return e}t.a=o;var r=n(9),i=(n.n(r),n(0));n.n(i),n(63)},function(e,t,n){"use strict";function o(e){var t=window.getComputedStyle(e);return{top:parseFloat(t.marginTop)||0,right:parseFloat(t.marginRight)||0,bottom:parseFloat(t.marginBottom)||0,left:parseFloat(t.marginLeft)||0}}function r(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useRef)(null),r=Object(a.a)(void 0,"popover"),l=Object(a.a)(void 0,"dropdown-menu");return[Object(i.useCallback)(function(n){n&&(Object(s.a)(n,r)||Object(s.a)(n,l))&&(t.current=o(n),n.style.margin="0",e.current=n)},[r,l]),[Object(i.useMemo)(function(){return{name:"offset",options:{offset:function(e){var n=e.placement;if(!t.current)return[0,0];var o=t.current,r=o.top,i=o.left,s=o.bottom,a=o.right;switch(n.split("-")[0]){case"top":return[0,s];case"left":return[0,a];case"bottom":return[0,r];case"right":return[0,i];default:return[0,0]}}}}},[t]),Object(i.useMemo)(function(){return{name:"arrow",options:{padding:function(){if(!n.current)return 0;var e=n.current,t=e.top,o=e.right,r=t||o;return{top:r,left:r,right:r,bottom:r}}}}},[n]),Object(i.useMemo)(function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",requiresIfExists:["arrow"],effect:function(t){var i=t.state;if(e.current&&i.elements.arrow&&Object(s.a)(e.current,r)){if(i.modifiersData["arrow#persistent"]){var a=o(i.elements.arrow),l=a.top,c=a.right,u=l||c;i.modifiersData["arrow#persistent"].padding={top:u,left:u,right:u,bottom:u}}else n.current=o(i.elements.arrow);return i.elements.arrow.style.margin="0",function(){i.elements.arrow&&(i.elements.arrow.style.margin="")}}}}},[r])]]}t.a=r;var i=n(0),s=(n.n(i),n(265)),a=n(4)},function(e,t,n){"use strict";function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.a=o},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(98),l=(n.n(a),n(0)),c=n.n(l),u=n(262),p=n(63),h=n(10),d=n(4),f=n(263),_=["bsPrefix","split","className","childBsPrefix","as"],g=c.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,l=e.childBsPrefix,g=e.as,m=void 0===g?h.a:g,v=Object(r.a)(e,_),y=Object(d.a)(n,"dropdown-toggle");void 0!==l&&(v.bsPrefix=l);var b=Object(u.b)(),E=b[0];return E.ref=Object(p.a)(E.ref,Object(f.a)(t,"DropdownToggle")),c.a.createElement(m,Object(o.a)({className:s()(a,y,i&&y+"-split")},E,v))});g.displayName="DropdownToggle",t.a=g},function(e,t,n){"use strict";n.d(t,"b",function(){return d});var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(5),u=n.n(c),p=n(4),h=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],d={bsPrefix:u.a.string,fluid:u.a.bool,rounded:u.a.bool,roundedCircle:u.a.bool,thumbnail:u.a.bool},f={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},_=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.fluid,c=e.rounded,u=e.roundedCircle,d=e.thumbnail,f=Object(r.a)(e,h);n=Object(p.a)(n,"img");var _=s()(a&&n+"-fluid",c&&"rounded",u&&"rounded-circle",d&&n+"-thumbnail");return l.a.createElement("img",Object(o.a)({ref:t},f,{className:s()(i,_)}))});_.displayName="Image",_.defaultProps=f,t.a=_},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(239),u=n(4),p=["bsPrefix","active","disabled","className","variant","action","as","onClick"],h={variant:void 0,active:!1,disabled:!1},d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.active,h=e.disabled,d=e.className,f=e.variant,_=e.action,g=e.as,m=e.onClick,v=Object(r.a)(e,p);n=Object(u.a)(n,"list-group-item");var y=Object(a.useCallback)(function(e){if(h)return e.preventDefault(),void e.stopPropagation();m&&m(e)},[h,m]);return h&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0),l.a.createElement(c.a,Object(o.a)({ref:t},v,{as:g||(_?v.href?"a":"button":"div"),onClick:y,className:s()(d,n,i&&"active",h&&"disabled",f&&n+"-"+f,_&&n+"-action")}))});d.defaultProps=h,d.displayName="ListGroupItem",t.a=d},function(e,t,n){"use strict";function o(e,t){var n=-1;return e.some(function(e,o){return!!t(e,o)&&(n=o,!0)}),n}var r=n(593),i=n(594),s=n(61),a=n(164),l=n(595),c=n(598),u=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,o=void 0===n||n,r=t.handleContainerOverflow,i=void 0===r||r;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=o,this.handleContainerOverflow=i,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=Object(a.a)()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return o(this.data,function(t){return-1!==t.modals.indexOf(e)})},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(Object(s.a)(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Object(s.a)(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var o=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==o)return o;if(o=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&Object(c.b)(t,e),-1!==i)return this.data[i].modals.push(e),o;var s={modals:[e],classes:n?n.split(/\s+/):[],overflowing:Object(l.a)(t)};return this.handleContainerOverflow&&this.setContainerStyle(s,t),s.classes.forEach(r.a.bind(null,t)),this.containers.push(t),this.data.push(s),o},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),o=this.data[n],r=this.containers[n];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(t,1),0===o.modals.length)o.classes.forEach(i.a.bind(null,r)),this.handleContainerOverflow&&this.removeContainerStyle(o,r),this.hideSiblingNodes&&Object(c.c)(r,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var s=o.modals[o.modals.length-1],a=s.backdrop,l=s.dialog;Object(c.a)(!1,l),Object(c.a)(!1,a)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();t.a=u},function(e,t,n){"use strict";function o(e,t){var n=Object(i.useState)(function(){return s(e)}),o=n[0],r=n[1];if(!o){var a=s(e);a&&r(a)}return Object(i.useEffect)(function(){t&&o&&t(o)},[t,o]),Object(i.useEffect)(function(){var t=s(e);t!==o&&r(t)},[e,o]),o}t.a=o;var r=n(45),i=n(0),s=(n.n(i),function(e){var t;return"undefined"===typeof document?null:null==e?Object(r.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType?e||null:null)})},function(e,t,n){"use strict";var o=n(8);t.a=Object(o.a)("modal-body")},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext({onHide:function(){}});t.a=i},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],p=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.contentClassName,p=e.centered,h=e.size,d=e.children,f=e.scrollable,_=Object(r.a)(e,u);n=Object(c.a)(n,"modal");var g=n+"-dialog";return l.a.createElement("div",Object(o.a)({},_,{ref:t,className:s()(g,i,h&&n+"-"+h,p&&g+"-centered",f&&g+"-scrollable")}),l.a.createElement("div",{className:s()(n+"-content",a)},d))});p.displayName="ModalDialog",t.a=p},function(e,t,n){"use strict";var o=n(8);t.a=Object(o.a)("modal-footer")},function(e,t,n){"use strict";var o=n(8),r=n(149),i=Object(r.a)("h4");t.a=Object(o.a)("modal-title",{Component:i})},function(e,t,n){"use strict";function o(e,t){var n=e.ref,o=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(h.a)(e))}),t.ref=o.__wrapped||(o.__wrapped=function(e){return o(Object(h.a)(e))})}function r(e){var t=e.children,n=e.transition,r=e.popperConfig,c=void 0===r?{}:r,h=Object(s.a)(e,_),m=Object(a.useRef)({}),v=Object(d.a)(),y=v[0],b=v[1],E=!0===n?f.a:n||null;return l.a.createElement(p.a,Object(i.a)({},h,{ref:y,popperConfig:Object(i.a)({},c,{modifiers:b.concat(c.modifiers||[])}),transition:E}),function(e){var r,a=e.props,c=e.arrowProps,p=e.show,h=e.update,d=(e.forceUpdate,e.placement),f=e.state,_=Object(s.a)(e,g);o(a,c);var v=Object.assign(m.current,{state:f,scheduleUpdate:h,placement:d,outOfBoundaries:(null==f?void 0:null==(r=f.modifiersData.hide)?void 0:r.isReferenceHidden)||!1});return"function"===typeof t?t(Object(i.a)({},_,a,{placement:d,show:p},!n&&p&&{className:"show"},{popper:v,arrowProps:c})):l.a.cloneElement(t,Object(i.a)({},_,a,{placement:d,arrowProps:c,popper:v,className:u()(t.props.className,!n&&p&&"show"),style:Object(i.a)({},t.props.style,a.style)}))})}var i=n(1),s=n(2),a=n(0),l=n.n(a),c=n(3),u=n.n(c),p=n(602),h=n(162),d=n(264),f=n(46),_=["children","transition","popperConfig"],g=["props","arrowProps","show","update","forceUpdate","placement","state"],m={transition:f.a,rootClose:!1,show:!1,placement:"top"};r.defaultProps=m,t.a=r},function(e,t,n){"use strict";function o(e,t,n){function o(e){var o=e.children,r=Object(i.a)(e,h);return c.a.createElement(f,r,c.a.createElement("span",{"aria-hidden":"true"},o||t),c.a.createElement("span",{className:"sr-only"},n))}return void 0===n&&(n=e),o.displayName=e,o}n.d(t,"b",function(){return _}),n.d(t,"e",function(){return g}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return y});var r=n(1),i=n(2),s=n(3),a=n.n(s),l=n(0),c=n.n(l),u=n(29),p=["active","disabled","className","style","activeLabel","children"],h=["children"],d={active:!1,disabled:!1,activeLabel:"(current)"},f=c.a.forwardRef(function(e,t){var n=e.active,o=e.disabled,s=e.className,l=e.style,h=e.activeLabel,d=e.children,f=Object(i.a)(e,p),_=n||o?"span":u.a;return c.a.createElement("li",{ref:t,style:l,className:a()(s,"page-item",{active:n,disabled:o})},c.a.createElement(_,Object(r.a)({className:"page-link",disabled:o},f),d,n&&h&&c.a.createElement("span",{className:"sr-only"},h)))});f.defaultProps=d,f.displayName="PageItem",t.f=f;var _=o("First","\xab"),g=o("Prev","\u2039","Previous"),m=o("Ellipsis","\u2026","More"),v=o("Next","\u203a"),y=o("Last","\xbb")},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["as","bsPrefix","className","children"],p=l.a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,a=e.bsPrefix,p=e.className,h=e.children,d=Object(r.a)(e,u);return a=Object(c.a)(a,"popover-header"),l.a.createElement(i,Object(o.a)({ref:t},d,{className:s()(a,p)}),h)});t.a=p},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["as","bsPrefix","className","children"],p=l.a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,a=e.bsPrefix,p=e.className,h=e.children,d=Object(r.a)(e,u);return a=Object(c.a)(a,"popover-body"),l.a.createElement(i,Object(o.a)({ref:t},d,{className:s()(p,a)}),h)});t.a=p},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(16),u=n(4),p=n(93),h=n(281),d=["bsPrefix","closeLabel","closeButton","className","children"],f={closeLabel:"Close",closeButton:!0},_=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.closeLabel,f=e.closeButton,_=e.className,g=e.children,m=Object(r.a)(e,d);n=Object(u.a)(n,"toast-header");var v=Object(a.useContext)(h.a),y=Object(c.a)(function(e){v&&v.onClose&&v.onClose(e)});return l.a.createElement("div",Object(o.a)({ref:t},m,{className:s()(n,_)}),g,f&&l.a.createElement(p.a,{label:i,onClick:y,className:"ml-2 mb-1","data-dismiss":"toast"}))});_.displayName="ToastHeader",_.defaultProps=f,t.a=_},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=r.a.createContext({onClose:function(){}});t.a=i},function(e,t,n){"use strict";var o=n(8);t.a=Object(o.a)("toast-body")},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(10),u=["children","name","className","checked","type","onChange","value","disabled","inputRef"],p=function(){},h=l.a.forwardRef(function(e,t){var n=e.children,i=e.name,h=e.className,d=e.checked,f=e.type,_=e.onChange,g=e.value,m=e.disabled,v=e.inputRef,y=Object(r.a)(e,u),b=Object(a.useState)(!1),E=b[0],T=b[1],O=Object(a.useCallback)(function(e){"INPUT"===e.target.tagName&&T(!0)},[]),C=Object(a.useCallback)(function(e){"INPUT"===e.target.tagName&&T(!1)},[]);return l.a.createElement(c.a,Object(o.a)({},y,{ref:t,className:s()(h,E&&"focus",m&&"disabled"),type:void 0,active:!!d,as:"label"}),l.a.createElement("input",{name:i,type:f,value:g,ref:v,autoComplete:"off",checked:!!d,disabled:!!m,onFocus:O,onBlur:C,onChange:_||p}),n)});h.displayName="ToggleButton",t.a=h},function(e,t,n){var o,r,i;"function"===typeof Symbol&&Symbol.iterator;!function(s,a){r=[n(35)],o=a,void 0!==(i="function"===typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";return e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Blocks.lists={},e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var n=t.getInput("STACK").connection,o=0;o<this.itemCount_;o++){var r=e.newBlock("lists_create_with_item");r.initSvg(),n.connect(r.previousConnection),n=r.nextConnection}return t},compose:function(t){var n=t.getInputTargetBlock("STACK");for(t=[];n&&!n.isInsertionMarker();)t.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var o=this.getInput("ADD"+n).connection.targetConnection;o&&-1==t.indexOf(o)&&o.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),n=0;n<this.itemCount_;n++)e.Mutator.reconnect(t[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var n=this.appendValueInput("ADD"+t).setAlign(e.ALIGN_RIGHT);0==t&&n.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var t=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(t),"END"),this.setInputsInline(!0);var n=this;this.setTooltip(function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")})}},e.Blocks.lists_getIndex={init:function(){var t=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),t=new e.FieldDropdown(t,function(e){e="REMOVE"==e,this.getSourceBlock().updateStatement_(e)}),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(t,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var n=this;this.setTooltip(function(){var t=n.getFieldValue("MODE"),o=n.getFieldValue("WHERE"),r="";switch(t+" "+o){case"GET FROM_START":case"GET FROM_END":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":r=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=o&&"FROM_END"!=o||(r+="  "+("FROM_START"==o?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),r})},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("statement",!this.outputConnection);var n=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",n),t},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new e.FieldDropdown(this.WHERE_OPTIONS,function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=t){var o=this.getSourceBlock();return o.updateAt_(n),o.setFieldValue(e,"WHERE"),null}});this.getInput("AT").appendField(n,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var t=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(t),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var n=this;this.setTooltip(function(){var t=n.getFieldValue("MODE"),o=n.getFieldValue("WHERE"),r="";switch(t+" "+o){case"SET FROM_START":case"SET FROM_END":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":r=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=o&&"FROM_END"!=o||(r+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),r})},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",n),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new e.FieldDropdown(this.WHERE_OPTIONS,function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=t){var o=this.getSourceBlock();return o.updateAt_(n),o.setFieldValue(e,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(n,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",n),n=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",n),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,n){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),n?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t);var o=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],function(e){var o="FROM_START"==e||"FROM_END"==e;if(o!=n){var r=this.getSourceBlock();return r.updateAt_(t,o),r.setFieldValue(e,"WHERE"+t),null}});this.getInput("AT"+t).appendField(o,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var t=this,n=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(e){t.updateType_(e)});this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var n=t.getFieldValue("MODE");if("SPLIT"==n)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==n)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+n)})},updateType_:function(e){if(this.getFieldValue("MODE")!=e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var n=t.targetBlock();n&&(t.disconnect(),n.isShadow()?n.dispose():this.bumpNeighbours())}"SPLIT"==e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("mode",this.getFieldValue("MODE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var t=e.utils.xml.createElement("mutation");return this.elseifCount_&&t.setAttribute("elseif",this.elseifCount_),this.elseCount_&&t.setAttribute("else",1),t},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var n=t.nextConnection,o=1;o<=this.elseifCount_;o++){var r=e.newBlock("controls_if_elseif");r.initSvg(),n.connect(r.previousConnection),n=r.nextConnection}return this.elseCount_&&(e=e.newBlock("controls_if_else"),e.initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],n=[null],o=null;e&&!e.isInsertionMarker();){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,o=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,o)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t),o=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=o&&o.connection.targetConnection,t++;break;case"controls_if_else":o=this.getInput("ELSE"),e.statementConnection_=o&&o.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape_:function(){var e=[null],t=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var o=1;this.getInput("IF"+o);){var r=this.getInput("IF"+o),i=this.getInput("DO"+o);e.push(r.connection.targetConnection),t.push(i.connection.targetConnection),o++}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var t=1;this.getInput("IF"+t);)this.removeInput("IF"+t),this.removeInput("DO"+t),t++;for(t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(t,n,o){for(var r=1;r<=this.elseifCount_;r++)e.Mutator.reconnect(t[r],this,"IF"+r),e.Mutator.reconnect(n[r],this,"DO"+r);e.Mutator.reconnect(o,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(t){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A"),o=this.getInputTargetBlock("B");n&&o&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,o.outputConnection)&&(e.Events.setGroup(t.group),t=this.prevBlocks_[0],t!==n&&(n.unplug(),!t||t.isDisposed()||t.isShadow()||this.getInput("A").connection.connect(t.outputConnection)),n=this.prevBlocks_[1],n!==o&&(o.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(t){var n=this.getInputTargetBlock("THEN"),o=this.getInputTargetBlock("ELSE"),r=this.outputConnection.targetConnection;if((n||o)&&r)for(var i=0;2>i;i++){var s=1==i?n:o;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,r)&&(e.Events.setGroup(t.group),r===this.prevParentConnection_?(this.unplug(),r.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=r}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),o=n.name;if(!this.isCollapsed()&&null!=o){var r={enabled:!0};r.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),n=e.Variables.generateVariableFieldDom(n),o=e.utils.xml.createElement("block"),o.setAttribute("type","variables_get"),o.appendChild(n),r.callback=e.ContextMenu.callbackFactory(this,o),t.push(r)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(t){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(t.type))return t;t=t.getSurroundParent()}while(t);return null},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()&&t.type==e.Events.BLOCK_MOVE){var n=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(n?null:e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var o=e.Events.getGroup();e.Events.setGroup(t.group),this.setEnabled(n),e.Events.setGroup(o)}}}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return t.setAttribute("divisor_input",n),t},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(e){e="DIVISIBLE_BY"==e,this.getSourceBlock().updateShape_(e)})},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(e){"MODE"==e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("op",this.getFieldValue("OP")),t},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var t=e.Procedures.findLegalName("",this);t=new e.FieldTextInput(t,e.Procedures.rename),t.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(t){this.hasStatements_!==t&&(t?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=t)},updateParams_:function(){var t="";this.arguments_.length&&(t=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(t,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(t){var n=e.utils.xml.createElement("mutation");t&&n.setAttribute("name",this.getFieldValue("NAME"));for(var o=0;o<this.argumentVarModels_.length;o++){var r=e.utils.xml.createElement("arg"),i=this.argumentVarModels_[o];r.setAttribute("name",i.name),r.setAttribute("varid",i.getId()),t&&this.paramIds_&&r.setAttribute("paramId",this.paramIds_[o]),n.appendChild(r)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(t){this.arguments_=[],this.argumentVarModels_=[];for(var n,o=0;n=t.childNodes[o];o++)if("arg"==n.nodeName.toLowerCase()){var r=n.getAttribute("name");n=n.getAttribute("varid")||n.getAttribute("varId"),this.arguments_.push(r),n=e.Variables.getOrCreateVariablePackage(this.workspace,n,r,""),null!=n?this.argumentVarModels_.push(n):console.log("Failed to create a variable with name "+r+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==t.getAttribute("statements"))},decompose:function(t){var n=e.utils.xml.createElement("block");n.setAttribute("type","procedures_mutatorcontainer");var o=e.utils.xml.createElement("statement");o.setAttribute("name","STACK"),n.appendChild(o);for(var r=0;r<this.arguments_.length;r++){var i=e.utils.xml.createElement("block");i.setAttribute("type","procedures_mutatorarg");var s=e.utils.xml.createElement("field");s.setAttribute("name","NAME");var a=e.utils.xml.createTextNode(this.arguments_[r]);s.appendChild(a),i.appendChild(s),s=e.utils.xml.createElement("next"),i.appendChild(s),o.appendChild(i),o=s}return t=e.Xml.domToBlock(n,t),"procedures_defreturn"==this.type?t.setFieldValue(this.hasStatements_,"STATEMENTS"):t.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),t},compose:function(t){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var n=t.getInputTargetBlock("STACK");n&&!n.isInsertionMarker();){var o=n.getFieldValue("NAME");this.arguments_.push(o),o=this.workspace.getVariable(o,""),this.argumentVarModels_.push(o),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(t=t.getFieldValue("STATEMENTS"))&&(t="TRUE"==t,this.hasStatements_!=t)&&(t?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(t=this.getInput("STACK").connection,(this.statementConnection_=t.targetConnection)&&(t=t.targetBlock(),t.unplug(),t.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(t,n){var o=this.workspace.getVariableById(t);if(""==o.type){o=o.name,n=this.workspace.getVariableById(n);for(var r=!1,i=0;i<this.argumentVarModels_.length;i++)this.argumentVarModels_[i].getId()==t&&(this.arguments_[i]=n.name,this.argumentVarModels_[i]=n,r=!0);r&&(this.displayRenamedVar_(o,n.name),e.Procedures.mutateCallers(this))}},updateVarName:function(t){for(var n=t.name,o=!1,r=0;r<this.argumentVarModels_.length;r++)if(this.argumentVarModels_[r].getId()==t.getId()){var i=this.arguments_[r];this.arguments_[r]=n,o=!0}o&&(this.displayRenamedVar_(i,n),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(t,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var o,r=this.mutator.workspace_.getAllBlocks(!1),i=0;o=r[i];i++)"procedures_mutatorarg"==o.type&&e.Names.equals(t,o.getFieldValue("NAME"))&&o.setFieldValue(n,"NAME")},customContextMenu:function(t){if(!this.isInFlyout){var n={enabled:!0},o=this.getFieldValue("NAME");n.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var r=e.utils.xml.createElement("mutation");for(r.setAttribute("name",o),o=0;o<this.arguments_.length;o++){var i=e.utils.xml.createElement("arg");i.setAttribute("name",this.arguments_[o]),r.appendChild(i)}if(o=e.utils.xml.createElement("block"),o.setAttribute("type",this.callType_),o.appendChild(r),n.callback=e.ContextMenu.callbackFactory(this,o),t.push(n),!this.isCollapsed())for(o=0;o<this.argumentVarModels_.length;o++)n={enabled:!0},r=this.argumentVarModels_[o],n.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",r.name),r=e.Variables.generateVariableFieldDom(r),i=e.utils.xml.createElement("block"),i.setAttribute("type","variables_get"),i.appendChild(r),n.callback=e.ContextMenu.callbackFactory(this,i),t.push(n)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var t=e.Procedures.findLegalName("",this);t=new e.FieldTextInput(t,e.Procedures.rename),t.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.procedures_mutatorarg={init:function(){var t=new e.FieldTextInput(e.Procedures.DEFAULT_ARG,this.validator_);t.oldShowEditorFn_=t.showEditor_,t.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(t,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,t.onFinishEditing_=this.deleteIntermediateVars_,t.createdVariables_=[],t.onFinishEditing_("x")},validator_:function(t){var n=this.getSourceBlock(),o=e.Mutator.findParentWs(n.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var r=(n.workspace.targetWorkspace||n.workspace).getAllBlocks(!1),i=t.toLowerCase(),s=0;s<r.length;s++)if(r[s].id!=this.getSourceBlock().id){var a=r[s].getFieldValue("NAME");if(a&&a.toLowerCase()==i)return null}return n.isInFlyout?t:((n=o.getVariable(t,""))&&n.name!=t&&o.renameVariableById(n.getId(),t),n||(n=o.createVariable(t,""))&&this.createdVariables_&&this.createdVariables_.push(n),t)},deleteIntermediateVars_:function(t){var n=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(var o=0;o<this.createdVariables_.length;o++){var r=this.createdVariables_[o];r.name!=t&&n.deleteVariableById(r.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(t,n){e.Names.equals(t,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(t,n){var o=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),r=o&&o.mutator&&o.mutator.isVisible();if(r||(this.quarkConnections_={},this.quarkIds_=null),n)if(t.join("\n")==this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!=t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),o=this.rendered,this.rendered=!1;for(var i=0;i<this.arguments_.length;i++){var s=this.getInput("ARG"+i);s&&(s=s.connection.targetConnection,this.quarkConnections_[this.quarkIds_[i]]=s,r&&s&&-1==n.indexOf(this.quarkIds_[i])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(t),this.argumentVarModels_=[],i=0;i<this.arguments_.length;i++)t=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[i],""),this.argumentVarModels_.push(t);if(this.updateShape_(),this.quarkIds_=n)for(i=0;i<this.arguments_.length;i++)(n=this.quarkIds_[i])in this.quarkConnections_&&(s=this.quarkConnections_[n],e.Mutator.reconnect(s,this,"ARG"+i)||delete this.quarkConnections_[n]);(this.rendered=o)&&this.render()}},updateShape_:function(){for(var t=0;t<this.arguments_.length;t++){var n=this.getField("ARGNAME"+t);if(n){e.Events.disable();try{n.setValue(this.arguments_[t])}finally{e.Events.enable()}}else n=new e.FieldLabel(this.arguments_[t]),this.appendValueInput("ARG"+t).setAlign(e.ALIGN_RIGHT).appendField(n,"ARGNAME"+t).init()}for(;this.getInput("ARG"+t);)this.removeInput("ARG"+t),t++;(t=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(t.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),t.init()):this.getField("WITH")&&t.removeField("WITH"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("name",this.getProcedureCall());for(var n=0;n<this.arguments_.length;n++){var o=e.utils.xml.createElement("arg");o.setAttribute("name",this.arguments_[n]),t.appendChild(o)}return t},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var n,o=[],r=0;n=e.childNodes[r];r++)"arg"==n.nodeName.toLowerCase()&&(t.push(n.getAttribute("name")),o.push(n.getAttribute("paramId")));this.setProcedureParameters_(t,o)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout&&t.recordUndo)if(t.type==e.Events.BLOCK_CREATE&&-1!=t.ids.indexOf(this.id)){var n=this.getProcedureCall();if(n=e.Procedures.getDefinition(n,this.workspace),!n||n.type==this.defType_&&JSON.stringify(n.getVars())==JSON.stringify(this.arguments_)||(n=null),!n){e.Events.setGroup(t.group),t=e.utils.xml.createElement("xml"),n=e.utils.xml.createElement("block"),n.setAttribute("type",this.defType_);var o=this.getRelativeToSurfaceXY(),r=o.y+2*e.SNAP_RADIUS;n.setAttribute("x",o.x+e.SNAP_RADIUS*(this.RTL?-1:1)),n.setAttribute("y",r),o=this.mutationToDom(),n.appendChild(o),o=e.utils.xml.createElement("field"),o.setAttribute("name","NAME"),r=this.getProcedureCall(),r||(r=e.Procedures.findLegalName("",this),this.renameProcedure("",r)),o.appendChild(e.utils.xml.createTextNode(r)),n.appendChild(o),t.appendChild(n),e.Xml.domToWorkspace(t,this.workspace),e.Events.setGroup(!1)}}else t.type==e.Events.BLOCK_DELETE?(n=this.getProcedureCall(),(n=e.Procedures.getDefinition(n,this.workspace))||(e.Events.setGroup(t.group),this.dispose(!0),e.Events.setGroup(!1))):t.type==e.Events.CHANGE&&"disabled"==t.element&&(n=this.getProcedureCall(),(n=e.Procedures.getDefinition(n,this.workspace))&&n.id==t.blockId&&((n=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(t.group),t.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(n)))},customContextMenu:function(t){if(this.workspace.isMovable()){var n={enabled:!0};n.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),r=this.workspace;n.callback=function(){var t=e.Procedures.getDefinition(o,r);t&&(r.centerOnBlock(t.id),t.select())},t.push(n)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVars:e.Blocks.procedures_callnoreturn.getVars,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("value",Number(this.hasReturnValue_)),t},domToMutation:function(t){this.hasReturnValue_=1==t.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()){t=!1;var n=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(n.type)){t=!0;break}n=n.getSurroundParent()}while(n);t?("procedures_defnoreturn"==n.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=n.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",n),n=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",n),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,n){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),n?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t),2==t&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var o=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],function(e){var o="FROM_START"==e||"FROM_END"==e;if(o!=n){var r=this.getSourceBlock();return r.updateAt_(t,o),r.setFieldValue(e,"WHERE"+t),null}});this.getInput("AT"+t).appendField(o,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var t=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var t=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var n=this;t=new e.FieldDropdown(t,function(e){n.updateType_(e)}),this.appendValueInput("TEXT").appendField(t,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==n.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(e){this.outputConnection.setCheck("NUMBER"==e?"Number":"String")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("type",this.getFieldValue("TYPE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],n=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),t=new e.FieldDropdown(t,function(e){n.updateType_(e)}),this.appendDummyInput().appendField(t,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==n.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,n=0;t=this.inputList[n];n++)for(var o,r=0;o=t.fieldRow[r];r++)if(e==o.name)return t.insertFieldAt(r,this.newQuote_(!0)),void t.insertFieldAt(r+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(t){return t=this.RTL?!t:t,new e.FieldImage(t?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,t?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var n=t.getInput("STACK").connection,o=0;o<this.itemCount_;o++){var r=e.newBlock("text_create_join_item");r.initSvg(),n.connect(r.previousConnection),n=r.nextConnection}return t},compose:function(t){var n=t.getInputTargetBlock("STACK");for(t=[];n&&!n.isInsertionMarker();)t.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var o=this.getInput("ADD"+n).connection.targetConnection;o&&-1==t.indexOf(o)&&o.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),n=0;n<this.itemCount_;n++)e.Mutator.reconnect(t[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var n=this.appendValueInput("ADD"+t).setAlign(e.ALIGN_RIGHT);0==t&&n.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var t=this;this.setTooltip(function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")})},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("at",!!this.isAt_),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),t&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=t}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(e){(e="FROM_START"==e||"FROM_END"==e)!=this.isAt_&&this.getSourceBlock().updateAt_(e)}),this.updateAt_(!0);var t=this;this.setTooltip(function(){var n=t.getFieldValue("WHERE"),o=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==n||"FROM_END"==n)&&(n="FROM_START"==n?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(o+="  "+n.replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),o})},e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(n={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},i=this.getField("VAR").getText(),r={text:e.Msg.DELETE_VARIABLE.replace("%1",i),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(n),t.unshift(r));else{if("variables_get"==this.type)var n="variables_set",o=e.Msg.VARIABLES_GET_CREATE_SET;else n="variables_get",o=e.Msg.VARIABLES_SET_CREATE_GET;var r={enabled:0<this.workspace.remainingCapacity()},i=this.getField("VAR").getText();r.text=o.replace("%1",i),o=e.utils.xml.createElement("field"),o.setAttribute("name","VAR"),o.appendChild(e.utils.xml.createTextNode(i)),i=e.utils.xml.createElement("block"),i.setAttribute("type",n),i.appendChild(o),r.callback=e.ContextMenu.callbackFactory(this,i),t.push(r)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var n=t.workspace,o=t.getField("VAR").getVariable();e.Variables.renameVariable(n,o)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(n={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),i={text:e.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(n),t.unshift(i));else{var n=this.getFieldValue("VAR"),o=this.workspace.getVariableById(n).type;if("variables_get_dynamic"==this.type){n="variables_set_dynamic";var r=e.Msg.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",r=e.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();i.text=r.replace("%1",s),r=e.utils.xml.createElement("field"),r.setAttribute("name","VAR"),r.setAttribute("variabletype",o),r.appendChild(e.utils.xml.createTextNode(s)),s=e.utils.xml.createElement("block"),s.setAttribute("type",n),s.appendChild(r),i.callback=e.ContextMenu.callbackFactory(this,s),t.push(i)}},onchange:function(t){t=this.getFieldValue("VAR"),t=e.Variables.getVariable(this.workspace,t),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(t.type):this.getInput("VALUE").connection.setCheck(t.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var n=t.workspace,o=t.getField("VAR").getVariable();e.Variables.renameVariable(n,o)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks})},function(e,t,n){var o,r,i;"function"===typeof Symbol&&Symbol.iterator;!function(s,a){r=[n(35)],o=a,void 0!==(i="function"===typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";return e.JavaScript=new e.Generator("JavaScript"),e.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(e.utils.global).join(",")),e.JavaScript.ORDER_ATOMIC=0,e.JavaScript.ORDER_NEW=1.1,e.JavaScript.ORDER_MEMBER=1.2,e.JavaScript.ORDER_FUNCTION_CALL=2,e.JavaScript.ORDER_INCREMENT=3,e.JavaScript.ORDER_DECREMENT=3,e.JavaScript.ORDER_BITWISE_NOT=4.1,e.JavaScript.ORDER_UNARY_PLUS=4.2,e.JavaScript.ORDER_UNARY_NEGATION=4.3,e.JavaScript.ORDER_LOGICAL_NOT=4.4,e.JavaScript.ORDER_TYPEOF=4.5,e.JavaScript.ORDER_VOID=4.6,e.JavaScript.ORDER_DELETE=4.7,e.JavaScript.ORDER_AWAIT=4.8,e.JavaScript.ORDER_EXPONENTIATION=5,e.JavaScript.ORDER_MULTIPLICATION=5.1,e.JavaScript.ORDER_DIVISION=5.2,e.JavaScript.ORDER_MODULUS=5.3,e.JavaScript.ORDER_SUBTRACTION=6.1,e.JavaScript.ORDER_ADDITION=6.2,e.JavaScript.ORDER_BITWISE_SHIFT=7,e.JavaScript.ORDER_RELATIONAL=8,e.JavaScript.ORDER_IN=8,e.JavaScript.ORDER_INSTANCEOF=8,e.JavaScript.ORDER_EQUALITY=9,e.JavaScript.ORDER_BITWISE_AND=10,e.JavaScript.ORDER_BITWISE_XOR=11,e.JavaScript.ORDER_BITWISE_OR=12,e.JavaScript.ORDER_LOGICAL_AND=13,e.JavaScript.ORDER_LOGICAL_OR=14,e.JavaScript.ORDER_CONDITIONAL=15,e.JavaScript.ORDER_ASSIGNMENT=16,e.JavaScript.ORDER_YIELD=17,e.JavaScript.ORDER_COMMA=18,e.JavaScript.ORDER_NONE=99,e.JavaScript.ORDER_OVERRIDES=[[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_LOGICAL_NOT,e.JavaScript.ORDER_LOGICAL_NOT],[e.JavaScript.ORDER_MULTIPLICATION,e.JavaScript.ORDER_MULTIPLICATION],[e.JavaScript.ORDER_ADDITION,e.JavaScript.ORDER_ADDITION],[e.JavaScript.ORDER_LOGICAL_AND,e.JavaScript.ORDER_LOGICAL_AND],[e.JavaScript.ORDER_LOGICAL_OR,e.JavaScript.ORDER_LOGICAL_OR]],e.JavaScript.isInitialized=!1,e.JavaScript.init=function(t){e.JavaScript.definitions_=Object.create(null),e.JavaScript.functionNames_=Object.create(null),e.JavaScript.variableDB_?e.JavaScript.variableDB_.reset():e.JavaScript.variableDB_=new e.Names(e.JavaScript.RESERVED_WORDS_),e.JavaScript.variableDB_.setVariableMap(t.getVariableMap());for(var n=[],o=e.Variables.allDeveloperVariables(t),r=0;r<o.length;r++)n.push(e.JavaScript.variableDB_.getName(o[r],e.Names.DEVELOPER_VARIABLE_TYPE));for(t=e.Variables.allUsedVarModels(t),r=0;r<t.length;r++)n.push(e.JavaScript.variableDB_.getName(t[r].getId(),e.VARIABLE_CATEGORY_NAME));n.length&&(e.JavaScript.definitions_.variables="var "+n.join(", ")+";"),this.isInitialized=!0},e.JavaScript.finish=function(t){var n,o=[];for(n in e.JavaScript.definitions_)o.push(e.JavaScript.definitions_[n]);return delete e.JavaScript.definitions_,delete e.JavaScript.functionNames_,e.JavaScript.variableDB_.reset(),o.join("\n\n")+"\n\n\n"+t},e.JavaScript.scrubNakedValue=function(e){return e+";\n"},e.JavaScript.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.JavaScript.multiline_quote_=function(t){return t.split(/\n/g).map(e.JavaScript.quote_).join(" + '\\n' +\n")},e.JavaScript.scrub_=function(t,n,o){var r="";if(!t.outputConnection||!t.outputConnection.targetConnection){var i=t.getCommentText();i&&(i=e.utils.string.wrap(i,e.JavaScript.COMMENT_WRAP-3),r+=e.JavaScript.prefixLines(i+"\n","// "));for(var s=0;s<t.inputList.length;s++)t.inputList[s].type==e.inputTypes.VALUE&&(i=t.inputList[s].connection.targetBlock())&&(i=e.JavaScript.allNestedComments(i))&&(r+=e.JavaScript.prefixLines(i,"// "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),o=o?"":e.JavaScript.blockToCode(t),r+n+o},e.JavaScript.getAdjusted=function(t,n,o,r,i){o=o||0,i=i||e.JavaScript.ORDER_NONE,t.workspace.options.oneBasedIndex&&o--;var s=t.workspace.options.oneBasedIndex?"1":"0";if(t=0<o?e.JavaScript.valueToCode(t,n,e.JavaScript.ORDER_ADDITION)||s:0>o?e.JavaScript.valueToCode(t,n,e.JavaScript.ORDER_SUBTRACTION)||s:r?e.JavaScript.valueToCode(t,n,e.JavaScript.ORDER_UNARY_NEGATION)||s:e.JavaScript.valueToCode(t,n,i)||s,e.isNumber(t))t=Number(t)+o,r&&(t=-t);else{if(0<o){t=t+" + "+o;var a=e.JavaScript.ORDER_ADDITION}else 0>o&&(t=t+" - "+-o,a=e.JavaScript.ORDER_SUBTRACTION);r&&(t=o?"-("+t+")":"-"+t,a=e.JavaScript.ORDER_UNARY_NEGATION),a=Math.floor(a),i=Math.floor(i),a&&i>=a&&(t="("+t+")")}return t},e.JavaScript.colour={},e.JavaScript.colour_picker=function(t){return[e.JavaScript.quote_(t.getFieldValue("COLOUR")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.colour_random=function(t){return[e.JavaScript.provideFunction_("colourRandom",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_rgb=function(t){var n=e.JavaScript.valueToCode(t,"RED",e.JavaScript.ORDER_NONE)||0,o=e.JavaScript.valueToCode(t,"GREEN",e.JavaScript.ORDER_NONE)||0;return t=e.JavaScript.valueToCode(t,"BLUE",e.JavaScript.ORDER_NONE)||0,[e.JavaScript.provideFunction_("colourRgb",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+o+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_blend=function(t){var n=e.JavaScript.valueToCode(t,"COLOUR1",e.JavaScript.ORDER_NONE)||"'#000000'",o=e.JavaScript.valueToCode(t,"COLOUR2",e.JavaScript.ORDER_NONE)||"'#000000'";return t=e.JavaScript.valueToCode(t,"RATIO",e.JavaScript.ORDER_NONE)||.5,[e.JavaScript.provideFunction_("colourBlend",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+o+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists={},e.JavaScript.lists_create_empty=function(t){return["[]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_create_with=function(t){for(var n=Array(t.itemCount_),o=0;o<t.itemCount_;o++)n[o]=e.JavaScript.valueToCode(t,"ADD"+o,e.JavaScript.ORDER_NONE)||"null";return["["+n.join(", ")+"]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_repeat=function(t){var n=e.JavaScript.provideFunction_("listsRepeat",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),o=e.JavaScript.valueToCode(t,"ITEM",e.JavaScript.ORDER_NONE)||"null";return t=e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_NONE)||"0",[n+"("+o+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_length=function(t){return[(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.lists_isEmpty=function(t){return["!"+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.lists_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",o=e.JavaScript.valueToCode(t,"FIND",e.JavaScript.ORDER_NONE)||"''";return n=(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+"."+n+"("+o+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.JavaScript.ORDER_ADDITION]:[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_getIndex=function(t){var n=t.getFieldValue("MODE")||"GET",o=t.getFieldValue("WHERE")||"FROM_START",r=e.JavaScript.valueToCode(t,"VALUE","RANDOM"==o?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"[]";switch(o){case"FIRST":if("GET"==n)return[r+"[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".shift()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return r+".shift();\n";break;case"LAST":if("GET"==n)return[r+".slice(-1)[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".pop()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return r+".pop();\n";break;case"FROM_START":if(t=e.JavaScript.getAdjusted(t,"AT"),"GET"==n)return[r+"["+t+"]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".splice("+t+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+".splice("+t+", 1);\n";break;case"FROM_END":if(t=e.JavaScript.getAdjusted(t,"AT",1,!0),"GET"==n)return[r+".slice("+t+")[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==n)return[r+".splice("+t+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+".splice("+t+", 1);";break;case"RANDOM":if(r=e.JavaScript.provideFunction_("listsGetRandomItem",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+r+", "+("GET"!=n)+")","GET"==n||"GET_REMOVE"==n)return[r,e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+";\n"}throw Error("Unhandled combination (lists_getIndex).")},e.JavaScript.lists_setIndex=function(t){function n(){if(o.match(/^\w+$/))return"";var t=e.JavaScript.variableDB_.getDistinctName("tmpList",e.VARIABLE_CATEGORY_NAME),n="var "+t+" = "+o+";\n";return o=t,n}var o=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",r=t.getFieldValue("MODE")||"GET",i=t.getFieldValue("WHERE")||"FROM_START",s=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"null";switch(i){case"FIRST":if("SET"==r)return o+"[0] = "+s+";\n";if("INSERT"==r)return o+".unshift("+s+");\n";break;case"LAST":if("SET"==r)return(t=n())+(o+"[")+o+".length - 1] = "+s+";\n";if("INSERT"==r)return o+".push("+s+");\n";break;case"FROM_START":if(i=e.JavaScript.getAdjusted(t,"AT"),"SET"==r)return o+"["+i+"] = "+s+";\n";if("INSERT"==r)return o+".splice("+i+", 0, "+s+");\n";break;case"FROM_END":if(i=e.JavaScript.getAdjusted(t,"AT",1,!1,e.JavaScript.ORDER_SUBTRACTION),t=n(),"SET"==r)return t+(o+"[")+o+".length - "+i+"] = "+s+";\n";if("INSERT"==r)return t+(o+".splice(")+o+".length - "+i+", 0, "+s+");\n";break;case"RANDOM":if(t=n(),i=e.JavaScript.variableDB_.getDistinctName("tmpX",e.VARIABLE_CATEGORY_NAME),t+="var "+i+" = Math.floor(Math.random() * "+o+".length);\n","SET"==r)return t+(o+"[")+i+"] = "+s+";\n";if("INSERT"==r)return t+(o+".splice(")+i+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")},e.JavaScript.lists.getIndex_=function(e,t,n){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+n:"LAST"==t?e+".length - 1":n},e.JavaScript.lists_getSublist=function(t){var n=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",o=t.getFieldValue("WHERE1"),r=t.getFieldValue("WHERE2");if("FIRST"==o&&"LAST"==r)n+=".slice(0)";else if(n.match(/^\w+$/)||"FROM_END"!=o&&"FROM_START"==r){switch(o){case"FROM_START":var i=e.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":i=e.JavaScript.getAdjusted(t,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION),i=n+".length - "+i;break;case"FIRST":i="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(r){case"FROM_START":t=e.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":t=e.JavaScript.getAdjusted(t,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION),t=n+".length - "+t;break;case"LAST":t=n+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}n=n+".slice("+i+", "+t+")"}else{i=e.JavaScript.getAdjusted(t,"AT1"),t=e.JavaScript.getAdjusted(t,"AT2");var s=e.JavaScript.lists.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=e.JavaScript.provideFunction_("subsequence"+a[o]+a[r],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==o||"FROM_START"==o?", at1":"")+("FROM_END"==r||"FROM_START"==r?", at2":"")+") {","  var start = "+s("sequence",o,"at1")+";","  var end = "+s("sequence",r,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+n+("FROM_END"==o||"FROM_START"==o?", "+i:"")+("FROM_END"==r||"FROM_START"==r?", "+t:"")+")"}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_sort=function(t){var n=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]",o="1"===t.getFieldValue("DIRECTION")?1:-1;return t=t.getFieldValue("TYPE"),[n+".slice().sort("+e.JavaScript.provideFunction_("listsGetSortCompare",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+t+'", '+o+"))",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_split=function(t){var n=e.JavaScript.valueToCode(t,"INPUT",e.JavaScript.ORDER_MEMBER),o=e.JavaScript.valueToCode(t,"DELIM",e.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(t=t.getFieldValue("MODE")))n||(n="''"),t="split";else{if("JOIN"!=t)throw Error("Unknown mode: "+t);n||(n="[]"),t="join"}return[n+"."+t+"("+o+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_reverse=function(t){return[(e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.logic={},e.JavaScript.controls_if=function(t){var n=0,o="";e.JavaScript.STATEMENT_PREFIX&&(o+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t));do{var r=e.JavaScript.valueToCode(t,"IF"+n,e.JavaScript.ORDER_NONE)||"false",i=e.JavaScript.statementToCode(t,"DO"+n);e.JavaScript.STATEMENT_SUFFIX&&(i=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)+i),o+=(0<n?" else ":"")+"if ("+r+") {\n"+i+"}",++n}while(t.getInput("IF"+n));return(t.getInput("ELSE")||e.JavaScript.STATEMENT_SUFFIX)&&(i=e.JavaScript.statementToCode(t,"ELSE"),e.JavaScript.STATEMENT_SUFFIX&&(i=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)+i),o+=" else {\n"+i+"}"),o+"\n"},e.JavaScript.controls_ifelse=e.JavaScript.controls_if,e.JavaScript.logic_compare=function(t){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],o="=="==n||"!="==n?e.JavaScript.ORDER_EQUALITY:e.JavaScript.ORDER_RELATIONAL,r=e.JavaScript.valueToCode(t,"A",o)||"0";return t=e.JavaScript.valueToCode(t,"B",o)||"0",[r+" "+n+" "+t,o]},e.JavaScript.logic_operation=function(t){var n="AND"==t.getFieldValue("OP")?"&&":"||",o="&&"==n?e.JavaScript.ORDER_LOGICAL_AND:e.JavaScript.ORDER_LOGICAL_OR,r=e.JavaScript.valueToCode(t,"A",o);if(t=e.JavaScript.valueToCode(t,"B",o),r||t){var i="&&"==n?"true":"false";r||(r=i),t||(t=i)}else t=r="false";return[r+" "+n+" "+t,o]},e.JavaScript.logic_negate=function(t){var n=e.JavaScript.ORDER_LOGICAL_NOT;return["!"+(e.JavaScript.valueToCode(t,"BOOL",n)||"true"),n]},e.JavaScript.logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"true":"false",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_null=function(t){return["null",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_ternary=function(t){var n=e.JavaScript.valueToCode(t,"IF",e.JavaScript.ORDER_CONDITIONAL)||"false",o=e.JavaScript.valueToCode(t,"THEN",e.JavaScript.ORDER_CONDITIONAL)||"null";return t=e.JavaScript.valueToCode(t,"ELSE",e.JavaScript.ORDER_CONDITIONAL)||"null",[n+" ? "+o+" : "+t,e.JavaScript.ORDER_CONDITIONAL]},e.JavaScript.loops={},e.JavaScript.controls_repeat_ext=function(t){var n=t.getField("TIMES")?String(Number(t.getFieldValue("TIMES"))):e.JavaScript.valueToCode(t,"TIMES",e.JavaScript.ORDER_ASSIGNMENT)||"0",o=e.JavaScript.statementToCode(t,"DO");o=e.JavaScript.addLoopTrap(o,t),t="";var r=e.JavaScript.variableDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME),i=n;return n.match(/^\w+$/)||e.isNumber(n)||(i=e.JavaScript.variableDB_.getDistinctName("repeat_end",e.VARIABLE_CATEGORY_NAME),t+="var "+i+" = "+n+";\n"),t+"for (var "+r+" = 0; "+r+" < "+i+"; "+r+"++) {\n"+o+"}\n"},e.JavaScript.controls_repeat=e.JavaScript.controls_repeat_ext,e.JavaScript.controls_whileUntil=function(t){var n="UNTIL"==t.getFieldValue("MODE"),o=e.JavaScript.valueToCode(t,"BOOL",n?e.JavaScript.ORDER_LOGICAL_NOT:e.JavaScript.ORDER_NONE)||"false",r=e.JavaScript.statementToCode(t,"DO");return r=e.JavaScript.addLoopTrap(r,t),n&&(o="!"+o),"while ("+o+") {\n"+r+"}\n"},e.JavaScript.controls_for=function(t){var n=e.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),o=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_ASSIGNMENT)||"0",r=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"0",i=e.JavaScript.valueToCode(t,"BY",e.JavaScript.ORDER_ASSIGNMENT)||"1",s=e.JavaScript.statementToCode(t,"DO");if(s=e.JavaScript.addLoopTrap(s,t),e.isNumber(o)&&e.isNumber(r)&&e.isNumber(i)){var a=Number(o)<=Number(r);t="for ("+n+" = "+o+"; "+n+(a?" <= ":" >= ")+r+"; "+n,n=Math.abs(Number(i)),t=(1==n?t+(a?"++":"--"):t+(a?" += ":" -= ")+n)+") {\n"+s+"}\n"}else t="",a=o,o.match(/^\w+$/)||e.isNumber(o)||(a=e.JavaScript.variableDB_.getDistinctName(n+"_start",e.VARIABLE_CATEGORY_NAME),t+="var "+a+" = "+o+";\n"),o=r,r.match(/^\w+$/)||e.isNumber(r)||(o=e.JavaScript.variableDB_.getDistinctName(n+"_end",e.VARIABLE_CATEGORY_NAME),t+="var "+o+" = "+r+";\n"),r=e.JavaScript.variableDB_.getDistinctName(n+"_inc",e.VARIABLE_CATEGORY_NAME),t+="var "+r+" = ",t=e.isNumber(i)?t+(Math.abs(i)+";\n"):t+"Math.abs("+i+");\n",t=t+"if ("+a+" > "+o+") {\n"+(e.JavaScript.INDENT+r)+" = -"+r+";\n",t+="}\n",t+="for ("+n+" = "+a+"; "+r+" >= 0 ? "+n+" <= "+o+" : "+n+" >= "+o+"; "+n+" += "+r+") {\n"+s+"}\n";return t},e.JavaScript.controls_forEach=function(t){var n=e.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),o=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_ASSIGNMENT)||"[]",r=e.JavaScript.statementToCode(t,"DO");r=e.JavaScript.addLoopTrap(r,t),t="";var i=o;return o.match(/^\w+$/)||(i=e.JavaScript.variableDB_.getDistinctName(n+"_list",e.VARIABLE_CATEGORY_NAME),t+="var "+i+" = "+o+";\n"),o=e.JavaScript.variableDB_.getDistinctName(n+"_index",e.VARIABLE_CATEGORY_NAME),r=e.JavaScript.INDENT+n+" = "+i+"["+o+"];\n"+r,t+"for (var "+o+" in "+i+") {\n"+r+"}\n"},e.JavaScript.controls_flow_statements=function(t){var n="";if(e.JavaScript.STATEMENT_PREFIX&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t)),e.JavaScript.STATEMENT_SUFFIX&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t)),e.JavaScript.STATEMENT_PREFIX){var o=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(t);o&&!o.suppressPrefixSuffix&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,o))}switch(t.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},e.JavaScript.math={},e.JavaScript.math_number=function(t){return t=Number(t.getFieldValue("NUM")),[t,0<=t?e.JavaScript.ORDER_ATOMIC:e.JavaScript.ORDER_UNARY_NEGATION]},e.JavaScript.math_arithmetic=function(t){var n={ADD:[" + ",e.JavaScript.ORDER_ADDITION],MINUS:[" - ",e.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.JavaScript.ORDER_DIVISION],POWER:[null,e.JavaScript.ORDER_NONE]}[t.getFieldValue("OP")],o=n[0];n=n[1];var r=e.JavaScript.valueToCode(t,"A",n)||"0";return t=e.JavaScript.valueToCode(t,"B",n)||"0",o?[r+o+t,n]:["Math.pow("+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_single=function(t){var n=t.getFieldValue("OP");if("NEG"==n)return t=e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==t[0]&&(t=" "+t),["-"+t,e.JavaScript.ORDER_UNARY_NEGATION];switch(t="SIN"==n||"COS"==n||"TAN"==n?e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_DIVISION)||"0":e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_NONE)||"0",n){case"ABS":var o="Math.abs("+t+")";break;case"ROOT":o="Math.sqrt("+t+")";break;case"LN":o="Math.log("+t+")";break;case"EXP":o="Math.exp("+t+")";break;case"POW10":o="Math.pow(10,"+t+")";break;case"ROUND":o="Math.round("+t+")";break;case"ROUNDUP":o="Math.ceil("+t+")";break;case"ROUNDDOWN":o="Math.floor("+t+")";break;case"SIN":o="Math.sin("+t+" / 180 * Math.PI)";break;case"COS":o="Math.cos("+t+" / 180 * Math.PI)";break;case"TAN":o="Math.tan("+t+" / 180 * Math.PI)"}if(o)return[o,e.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"LOG10":o="Math.log("+t+") / Math.log(10)";break;case"ASIN":o="Math.asin("+t+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+t+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+t+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+n)}return[o,e.JavaScript.ORDER_DIVISION]},e.JavaScript.math_constant=function(t){return{PI:["Math.PI",e.JavaScript.ORDER_MEMBER],E:["Math.E",e.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",e.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",e.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",e.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",e.JavaScript.ORDER_ATOMIC]}[t.getFieldValue("CONSTANT")]},e.JavaScript.math_number_property=function(t){var n=e.JavaScript.valueToCode(t,"NUMBER_TO_CHECK",e.JavaScript.ORDER_MODULUS)||"0",o=t.getFieldValue("PROPERTY");if("PRIME"==o)return[e.JavaScript.provideFunction_("mathIsPrime",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+n+")",e.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"EVEN":var r=n+" % 2 == 0";break;case"ODD":r=n+" % 2 == 1";break;case"WHOLE":r=n+" % 1 == 0";break;case"POSITIVE":r=n+" > 0";break;case"NEGATIVE":r=n+" < 0";break;case"DIVISIBLE_BY":t=e.JavaScript.valueToCode(t,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0",r=n+" % "+t+" == 0"}return[r,e.JavaScript.ORDER_EQUALITY]},e.JavaScript.math_change=function(t){var n=e.JavaScript.valueToCode(t,"DELTA",e.JavaScript.ORDER_ADDITION)||"0";return(t=e.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = (typeof "+t+" == 'number' ? "+t+" : 0) + "+n+";\n"},e.JavaScript.math_round=e.JavaScript.math_single,e.JavaScript.math_trig=e.JavaScript.math_single,e.JavaScript.math_on_list=function(t){var n=t.getFieldValue("OP");switch(n){case"SUM":t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",t+=".reduce(function(x, y) {return x + y;})";break;case"MIN":t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t="Math.min.apply(null, "+t+")";break;case"MAX":t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t="Math.max.apply(null, "+t+")";break;case"AVERAGE":n=e.JavaScript.provideFunction_("mathMean",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]),t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t=n+"("+t+")";break;case"MEDIAN":n=e.JavaScript.provideFunction_("mathMedian",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]),t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t=n+"("+t+")";break;case"MODE":n=e.JavaScript.provideFunction_("mathModes",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]),t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t=n+"("+t+")";break;case"STD_DEV":n=e.JavaScript.provideFunction_("mathStandardDeviation",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]),t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t=n+"("+t+")";break;case"RANDOM":n=e.JavaScript.provideFunction_("mathRandomList",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]),t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]",t=n+"("+t+")";break;default:throw Error("Unknown operator: "+n)}return[t,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_modulo=function(t){var n=e.JavaScript.valueToCode(t,"DIVIDEND",e.JavaScript.ORDER_MODULUS)||"0";return t=e.JavaScript.valueToCode(t,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0",[n+" % "+t,e.JavaScript.ORDER_MODULUS]},e.JavaScript.math_constrain=function(t){var n=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_NONE)||"0",o=e.JavaScript.valueToCode(t,"LOW",e.JavaScript.ORDER_NONE)||"0";return t=e.JavaScript.valueToCode(t,"HIGH",e.JavaScript.ORDER_NONE)||"Infinity",["Math.min(Math.max("+n+", "+o+"), "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_int=function(t){var n=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_NONE)||"0";return t=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_NONE)||"0",[e.JavaScript.provideFunction_("mathRandomInt",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+n+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_float=function(t){return["Math.random()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_atan2=function(t){var n=e.JavaScript.valueToCode(t,"X",e.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(e.JavaScript.valueToCode(t,"Y",e.JavaScript.ORDER_NONE)||"0")+", "+n+") / Math.PI * 180",e.JavaScript.ORDER_DIVISION]},e.JavaScript.procedures={},e.JavaScript.procedures_defreturn=function(t){var n=e.JavaScript.variableDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),o="";e.JavaScript.STATEMENT_PREFIX&&(o+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t)),e.JavaScript.STATEMENT_SUFFIX&&(o+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t)),o&&(o=e.JavaScript.prefixLines(o,e.JavaScript.INDENT));var r="";e.JavaScript.INFINITE_LOOP_TRAP&&(r=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.INFINITE_LOOP_TRAP,t),e.JavaScript.INDENT));var i=e.JavaScript.statementToCode(t,"STACK"),s=e.JavaScript.valueToCode(t,"RETURN",e.JavaScript.ORDER_NONE)||"",a="";i&&s&&(a=o),s&&(s=e.JavaScript.INDENT+"return "+s+";\n");for(var l=[],c=t.getVars(),u=0;u<c.length;u++)l[u]=e.JavaScript.variableDB_.getName(c[u],e.VARIABLE_CATEGORY_NAME);return o="function "+n+"("+l.join(", ")+") {\n"+o+r+i+a+s+"}",o=e.JavaScript.scrub_(t,o),e.JavaScript.definitions_["%"+n]=o,null},e.JavaScript.procedures_defnoreturn=e.JavaScript.procedures_defreturn,e.JavaScript.procedures_callreturn=function(t){for(var n=e.JavaScript.variableDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),o=[],r=t.getVars(),i=0;i<r.length;i++)o[i]=e.JavaScript.valueToCode(t,"ARG"+i,e.JavaScript.ORDER_NONE)||"null";return[n+"("+o.join(", ")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.procedures_callnoreturn=function(t){return e.JavaScript.procedures_callreturn(t)[0]+";\n"},e.JavaScript.procedures_ifreturn=function(t){var n="if ("+(e.JavaScript.valueToCode(t,"CONDITION",e.JavaScript.ORDER_NONE)||"false")+") {\n";return e.JavaScript.STATEMENT_SUFFIX&&(n+=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)),t.hasReturnValue_?(t=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_NONE)||"null",n+=e.JavaScript.INDENT+"return "+t+";\n"):n+=e.JavaScript.INDENT+"return;\n",n+"}\n"},e.JavaScript.texts={},e.JavaScript.text=function(t){return[e.JavaScript.quote_(t.getFieldValue("TEXT")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text_multiline=function(t){return t=e.JavaScript.multiline_quote_(t.getFieldValue("TEXT")),[t,-1!=t.indexOf("+")?e.JavaScript.ORDER_ADDITION:e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text.forceString_=function(t){return e.JavaScript.text.forceString_.strRegExp.test(t)?[t,e.JavaScript.ORDER_ATOMIC]:["String("+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.JavaScript.text_join=function(t){switch(t.itemCount_){case 0:return["''",e.JavaScript.ORDER_ATOMIC];case 1:return t=e.JavaScript.valueToCode(t,"ADD0",e.JavaScript.ORDER_NONE)||"''",e.JavaScript.text.forceString_(t);case 2:var n=e.JavaScript.valueToCode(t,"ADD0",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"ADD1",e.JavaScript.ORDER_NONE)||"''",t=e.JavaScript.text.forceString_(n)[0]+" + "+e.JavaScript.text.forceString_(t)[0],[t,e.JavaScript.ORDER_ADDITION];default:n=Array(t.itemCount_);for(var o=0;o<t.itemCount_;o++)n[o]=e.JavaScript.valueToCode(t,"ADD"+o,e.JavaScript.ORDER_NONE)||"''";return t="["+n.join(",")+"].join('')",[t,e.JavaScript.ORDER_FUNCTION_CALL]}},e.JavaScript.text_append=function(t){var n=e.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return t=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''",n+" += "+e.JavaScript.text.forceString_(t)[0]+";\n"},e.JavaScript.text_length=function(t){return[(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.text_isEmpty=function(t){return["!"+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.text_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",o=e.JavaScript.valueToCode(t,"FIND",e.JavaScript.ORDER_NONE)||"''";return n=(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+"."+n+"("+o+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.JavaScript.ORDER_ADDITION]:[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_charAt=function(t){var n=t.getFieldValue("WHERE")||"FROM_START",o=e.JavaScript.valueToCode(t,"VALUE","RANDOM"==n?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[o+".charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[o+".slice(-1)",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return t=e.JavaScript.getAdjusted(t,"AT"),[o+".charAt("+t+")",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return t=e.JavaScript.getAdjusted(t,"AT",1,!0),[o+".slice("+t+").charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[e.JavaScript.provideFunction_("textRandomLetter",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+o+")",e.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.JavaScript.text.getIndex_=function(e,t,n){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+n:"LAST"==t?e+".length - 1":n},e.JavaScript.text_getSubstring=function(t){var n=t.getFieldValue("WHERE1"),o=t.getFieldValue("WHERE2"),r="FROM_END"!=n&&"LAST"!=n&&"FROM_END"!=o&&"LAST"!=o,i=e.JavaScript.valueToCode(t,"STRING",r?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''";if("FIRST"==n&&"LAST"==o)return[i,e.JavaScript.ORDER_NONE];if(i.match(/^'?\w+'?$/)||r){switch(n){case"FROM_START":r=e.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":r=e.JavaScript.getAdjusted(t,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION),r=i+".length - "+r;break;case"FIRST":r="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(o){case"FROM_START":t=e.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":t=e.JavaScript.getAdjusted(t,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION),t=i+".length - "+t;break;case"LAST":t=i+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}n=i+".slice("+r+", "+t+")"}else{r=e.JavaScript.getAdjusted(t,"AT1"),t=e.JavaScript.getAdjusted(t,"AT2");var s=e.JavaScript.text.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=e.JavaScript.provideFunction_("subsequence"+a[n]+a[o],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==o||"FROM_START"==o?", at2":"")+") {","  var start = "+s("sequence",n,"at1")+";","  var end = "+s("sequence",o,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+i+("FROM_END"==n||"FROM_START"==n?", "+r:"")+("FROM_END"==o||"FROM_START"==o?", "+t:"")+")"}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_changeCase=function(t){var n={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[t.getFieldValue("CASE")];return t=e.JavaScript.valueToCode(t,"TEXT",n?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''",[n?t+n:e.JavaScript.provideFunction_("textToTitleCase",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_trim=function(t){var n={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[t.getFieldValue("MODE")];return[(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_print=function(t){return"window.alert("+(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''")+");\n"},e.JavaScript.text_prompt_ext=function(t){var n="window.prompt("+(t.getField("TEXT")?e.JavaScript.quote_(t.getFieldValue("TEXT")):e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==t.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_prompt=e.JavaScript.text_prompt_ext,e.JavaScript.text_count=function(t){var n=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"SUB",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textCount",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+n+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_replace=function(t){var n=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''",o=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textReplace",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+n+", "+o+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_reverse=function(t){return[(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.variables={},e.JavaScript.variables_get=function(t){return[e.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.variables_set=function(t){var n=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_ASSIGNMENT)||"0";return e.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+n+";\n"},e.JavaScript.variablesDynamic={},e.JavaScript.variables_get_dynamic=e.JavaScript.variables_get,e.JavaScript.variables_set_dynamic=e.JavaScript.variables_set,e.JavaScript})},function(e,t,n){"use strict";var o=n(35),r=n.n(o);r.a.defineBlocksWithJsonArray([{type:"statement",message0:"\u3082\u3057  %1 \u3068\u304d %2",args0:[{type:"input_value",name:"condition",check:""},{type:"input_statement",name:"statement"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""},{type:"statement2*",message0:"%1 \u6761\u4ef6 :  %2 \u3068\u304d %3",args0:[{type:"input_value",name:"calendar",check:"Calendar"},{type:"input_value",name:"condition",check:"Boolean"},{type:"input_statement",name:"NAME"}],inputsInline:!0,colour:120,tooltip:"",helpUrl:""},{type:"condition",message0:"%1 \u306b %2 \u304c%3",args0:[{type:"field_dropdown",name:"item",options:[["\u4e88\u5b9a\u540d","summary"],["\u5834\u6240","location"],["\u8aac\u660e","description"]]},{type:"field_input",name:"text",text:""},{type:"field_dropdown",name:"dd",options:[["\u542b\u307e\u308c\u308b","true"],["\u542b\u307e\u308c\u306a\u3044","false"]]}],inputsInline:!0,output:"Boolean",colour:160,tooltip:"",helpUrl:""},{type:"condition2",message0:"%1 \u304c %2 \u6642 %3 \u5206 %4",args0:[{type:"field_dropdown",name:"dt",options:[["\u958b\u59cb\u6642\u523b","start"],["\u7d42\u4e86\u6642\u523b","end"]]},{type:"field_number",name:"h",value:0,min:0,max:23,precision:1},{type:"field_number",name:"m",value:0,min:0,max:59,precision:1},{type:"field_dropdown",name:"dd",options:[["\u4ee5\u964d","after"],["\u4ee5\u524d","before"]]}],output:"Boolean",colour:160,tooltip:"",helpUrl:""},{type:"and",message0:"%1 \u304b\u3064 %2",args0:[{type:"input_value",name:"bool1",check:"Boolean"},{type:"input_value",name:"bool2",check:"Boolean"}],inputsInline:!1,output:"Boolean",colour:160,tooltip:"",helpUrl:""},{type:"or",message0:"%1 \u307e\u305f\u306f %2",args0:[{type:"input_value",name:"bool1",check:"Boolean"},{type:"input_value",name:"bool2",check:"Boolean"}],inputsInline:!1,output:"Boolean",colour:160,tooltip:"",helpUrl:""},{type:"hide",message0:"%1 \u3092\u96a0\u3059",args0:[{type:"field_dropdown",name:"item",options:[["\u4e88\u5b9a\u540d","summary"],["Property","title"],["\u8aac\u660e","description"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""},{type:"replace",message0:"%1 \u3092 %2 \u306b\u7f6e\u304d\u63db\u3048\u308b",args0:[{type:"field_dropdown",name:"item",options:[["\u4e88\u5b9a\u540d","summary"],["Property","title"],["\u8aac\u660e","description"]]},{type:"field_input",name:"text",text:""}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""},{type:"hide_event",message0:"\u4e88\u5b9a\u3092\u96a0\u3059",previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""},{type:"googlecalendar",lastDummyAlign0:"RIGHT",message0:"google\u30ab\u30ec\u30f3\u30c0\u30fc %1 %2 \u306b\u5171\u6709",args0:[{type:"input_dummy",align:"CENTRE"},{type:"field_dropdown",name:"calendar",options:[["","defalt"],["nomlab","nomlab"]]}],previousStatement:null,colour:210,tooltip:"",helpUrl:""},{type:"googlecalendar2",lastDummyAlign0:"RIGHT",message0:"%1 \u306b\u5171\u6709",args0:[{type:"input_value",name:"calendar",check:"Calendar"}],previousStatement:null,colour:210,tooltip:"",helpUrl:""},{type:"mail",lastDummyAlign0:"CENTRE",message0:"%1 \u306b\u5171\u6709",args0:[{type:"field_input",name:"mailadress",text:"family@example.com"}],previousStatement:null,colour:210,tooltip:"",helpUrl:""},{type:"slack",lastDummyAlign0:"CENTRE",message0:"Slack\u306b\u5171\u6709",previousStatement:null,colour:210,tooltip:"",helpUrl:""},{type:"colorchange",message0:"\u8272\u3092%1\u306b\u5909\u3048\u308b",args0:[{type:"field_dropdown",name:"item",options:[["\u7dd1","green"],["\u30d4\u30f3\u30af","pink"],["\u9752","blue"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""},{type:"variables_get_calendar2",message0:"%1",args0:[{type:"field_variable",name:"FIELD_NAME",variable:"VAR_NAME",variableTypes:["Calendar"],defaultType:"Calendar"}],output:"Calendar",colour:230,tooltip:"",helpUrl:""}]),r.a.Blocks.creat_calendar={init:function(){this.appendDummyInput("calendar").appendField("\u30ab\u30ec\u30f3\u30c0\u3092\u65b0\u898f\u4f5c\u6210: ").appendField(new r.a.FieldTextInput(""),"NAME"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(210),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.insert={init:function(){this.appendValueInput("event"),this.appendValueInput("calendar").setCheck("Calendar").appendField("\u3092"),this.appendDummyInput().appendField("\u306b\u8ffd\u52a0"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(210),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.insert2={init:function(){this.appendValueInput("calendar").setCheck("Calendar"),this.appendDummyInput().appendField("\u306b\u8ffd\u52a0"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(210),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.insert3={init:function(){i?this.appendDummyInput().setAlign(r.a.ALIGN_RIGHT).appendField(new r.a.FieldDropdown(i),"calendar").appendField("\u306e\u4e88\u5b9a\u3092").appendField(new r.a.FieldDropdown(i),"calendar2"):this.menu(),this.appendDummyInput().appendField("\u306b\u8ffd\u52a0"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(210),this.setTooltip(""),this.setHelpUrl("")},menu:function(){var e=this;fetch("http://localhost:4567/info/calendars").then(function(e){return e.json()}).then(function(t){for(var n=new Date;;){if(new Date-n>100)break}var o=[["","defalt"]];t.items.map(function(e){o.push([e.summary,e.id])}),i=o,e.appendDummyInput().setAlign(r.a.ALIGN_RIGHT).appendField(new r.a.FieldDropdown(o),"calendar").appendField("\u306e\u4e88\u5b9a\u3092")})}},r.a.Blocks.event={init:function(){this.appendValueInput("calendar").setCheck("Calendar"),this.appendDummyInput().appendField("\u306e").appendField(new r.a.FieldDropdown([["\u5168\u3066\u306e","all"],["\u66f4\u65b0\u3055\u308c\u305f","update"]]),"NAME").appendField("\u4e88\u5b9a"),this.setInputsInline(!0),this.setOutput(!0,"Event"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.assignment={init:function(){this.appendValueInput("value2").setCheck(null).appendField(new r.a.FieldDropdown([["Variable","h"],["all_events","f"],["wages","w"],["events","OPTIONNAME"],["employees","location"],["employee","description"]]),"item").appendField("="),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.return={init:function(){this.appendValueInput("value2").setCheck(null).appendField("\u4e88\u5b9a\u3092"),this.appendDummyInput("dummy").appendField("\u3067\u7f6e\u304d\u63db\u3048\u308b"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.operation={init:function(){this.appendValueInput("value").setCheck("Event"),this.appendDummyInput().appendField("\u306b\u3064\u3044\u3066"),this.appendStatementInput("statement").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.updated={init:function(){this.appendValueInput("value").setCheck(null),this.appendDummyInput().appendField("\u304c\u66f4\u65b0\u3055\u308c\u305f\u3068\u304d"),this.appendStatementInput("statement").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.operation2={init:function(){this.appendValueInput("value").setCheck("Event"),this.appendDummyInput().appendField("\u306b\u3064\u3044\u3066"),this.appendStatementInput("statement").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.connector={init:function(){this.appendValueInput("e1").setCheck(null),this.appendValueInput("e2").setCheck(null),this.appendValueInput("e3").setCheck(null),this.setInputsInline(!1),this.setOutput(!0,null),this.setColour(180),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.for={init:function(){this.appendDummyInput().appendField("\u30ea\u30b9\u30c8"),this.appendValueInput("e1").setCheck(null),this.appendDummyInput().appendField("\u306e\u5404\u9805\u76ee").appendField(new r.a.FieldDropdown([["Variable","employee"]]),"NAME"),this.appendDummyInput().appendField("\u306b\u3064\u3044\u3066"),this.appendStatementInput("NAME").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.filter={init:function(){this.appendValueInput("e1").setCheck(null),this.appendValueInput("e2").setCheck(null).appendField("\u3092"),this.appendDummyInput().appendField("\u3067\u7d5e\u308a\u8fbc\u3093\u3060\u4e88\u5b9a"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(180),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.filter2={init:function(){this.appendValueInput("e1").setCheck(null),this.appendDummyInput().appendField("\u3092"),this.appendValueInput("NAME").setCheck(null),this.appendDummyInput().appendField("\u3067\u7d5e\u308a\u8fbc\u3080"),this.appendStatementInput("NAME2").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(180),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.filter3={init:function(){this.appendValueInput("e1").setCheck(null),this.appendDummyInput().appendField("\u3092"),this.appendValueInput("NAME").setCheck(null),this.appendDummyInput().appendField("\u3067\u7d5e\u308a\u8fbc\u3080"),this.appendStatementInput("NAME2").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(180),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.property={init:function(){this.appendValueInput("e1").setCheck(null),this.appendDummyInput().appendField("\u306e").appendField(new r.a.FieldDropdown([["\u4e88\u5b9a\u540d","title"],["\u958b\u59cb\u6642\u523b","b"],["\u7d42\u4e86\u6642\u523b","c"]]),"dd"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(180),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.condition4={init:function(){this.appendValueInput("value1").setCheck(null),this.appendValueInput("value2").setCheck(null).appendField("\u304c"),this.appendDummyInput().appendField("\u3067\u3042\u308b"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.statement3={init:function(){this.appendValueInput("condition").setCheck("Boolean").appendField("\u6761\u4ef6 : "),this.appendStatementInput("NAME").setCheck(null).appendField("\u3068\u304d"),this.appendStatementInput("NAME").setCheck(null).appendField("\u3067\u306a\u3051\u308c\u3070"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.arithmetic={init:function(){this.appendValueInput("e1").setCheck(null),this.appendValueInput("e2").setCheck(null).appendField(new r.a.FieldDropdown([["+","+"],["-","-"],["\xd7","*"]]),"NAME"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(450),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.condition3={init:function(){this.appendValueInput("value").setCheck("String").appendField(new r.a.FieldDropdown([["\u4e88\u5b9a\u540d","summary"],["\u4e88\u5b9a\u540d","summary"],["\u8aac\u660e","description"]]),"item").appendField("\u306b"),this.appendDummyInput().appendField("\u304c\u542b\u307e\u308c\u308b"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.condition5={init:function(){this.appendValueInput("date").appendField(new r.a.FieldDropdown([["\u958b\u59cb\u65e5","dtstart"],["\u7d42\u4e86\u65e5","dtend"]]),"item").appendField("\u304c"),this.appendDummyInput().appendField(new r.a.FieldDropdown([["","neither"],["\u4ee5\u964d","after"],["\u4ee5\u524d","before"]]),"item"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.year={init:function(){this.appendValueInput("month").setCheck("month").appendField(new r.a.FieldNumber(2023,1970,1/0,1),"year").appendField("\u5e74"),this.setInputsInline(!1),this.setOutput(!0,"Boolean"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.month={init:function(){this.appendValueInput("date").setCheck("date").appendField(new r.a.FieldDropdown([["1\u6708","1"],["2\u6708","2"],["3\u6708","3"],["4\u6708","4"],["5\u6708","5"],["6\u6708","6"],["7\u6708","7"],["8\u6708","8"],["9\u6708","9"],["10\u6708","10"],["11\u6708","11"],["12\u6708","12"]]),"month"),this.setInputsInline(!1),this.setOutput(!0,"month"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.date={init:function(){this.appendDummyInput().appendField(new r.a.FieldNumber(1,1,31,1),"date").appendField("\u65e5"),this.setInputsInline(!1),this.setOutput(!0,"date"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.day={init:function(){this.appendDummyInput().appendField(new r.a.FieldDropdown([["\u65e5\u66dc\u65e5","0"],["\u6708\u66dc\u65e5","1"],["\u706b\u66dc\u65e5","2"],["\u6c34\u66dc\u65e5","3"],["\u6728\u66dc\u65e5","4"],["\u91d1\u66dc\u65e5","5"],["\u571f\u66dc\u65e5","6"]]),"day"),this.setInputsInline(!1),this.setOutput(!0,"day"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.lastmonth={init:function(){this.appendDummyInput().appendField(new r.a.FieldDropdown([["\u4e88\u5b9a\u540d","summary"],["\u8aac\u660e","description"]]),"dd"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.display={init:function(){this.appendValueInput("NAME").setCheck(null),this.appendDummyInput().appendField("\u3092\u8868\u793a"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.var={init:function(){this.appendDummyInput().appendField(new r.a.FieldDropdown([["Variable","h"],["all_events","f"],["wages","w"],["events","OPTIONNAME"],["employees","location"],["employee","description"]]),"item"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(315),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.sum={init:function(){this.appendValueInput("calendar").setCheck("Event"),this.appendDummyInput().appendField("\u306e\u5408\u8a08\u6642\u9593"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(45),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.delete={init:function(){this.appendValueInput("NAME").setCheck(null),this.appendDummyInput().appendField("\u3092\u6d88\u3059"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.statement2={init:function(){this.appendValueInput("calendar").setCheck("Calendar"),this.appendDummyInput(),this.appendValueInput("condition").setCheck("Boolean").appendField("\u6761\u4ef6 : "),this.appendStatementInput("NAME").setCheck(null).appendField("\u3068\u304d"),this.setInputsInline(!0),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.variables_get_calendar={init:function(){this.appendDummyInput().appendField(new r.a.FieldLabelSerializable("calendar"),"NAME"),this.appendDummyInput().appendField(new r.a.FieldLabelSerializable(""),"id").setVisible(!1),this.setOutput(!0,"Calendar"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.dummy_statement={init:function(){this.appendDummyInput().appendField("Statement"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}};var i;r.a.Blocks.googlecalendar3={init:function(){this.appendDummyInput().setAlign(r.a.ALIGN_CENTRE).appendField("google\u30ab\u30ec\u30f3\u30c0\u30fc"),i?this.appendDummyInput().setAlign(r.a.ALIGN_RIGHT).appendField(new r.a.FieldDropdown(i),"calendar").appendField("\u306b\u5171\u6709"):this.menu(),this.setPreviousStatement(!0,null),this.setColour(210),this.setTooltip(""),this.setHelpUrl("")},menu:function(){var e=this;fetch("http://localhost:4567/info/calendars").then(function(e){return e.json()}).then(function(t){for(var n=new Date;;){if(new Date-n>100)break}var o=[["","defalt"]];t.items.map(function(e){o.push([e.summary,e.id])}),i=o,e.appendDummyInput().setAlign(r.a.ALIGN_RIGHT).appendField(new r.a.FieldDropdown(o),"calendar").appendField("\u306b\u5171\u6709")})}},r.a.Blocks.test={init:function(){this.appendDummyInput().appendField(new r.a.FieldDropdown([["option","OPTIONNAME"]]),"NAME"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.JavaScript.test=function(e){return e.getFieldValue("NAME")},r.a.JavaScript.variables_get_calendar=function(e){return["'"+e.getFieldValue("id")+"'",r.a.JavaScript.ORDER_NONE]},r.a.Python.variables_get_calendar=function(e){return["'"+e.getFieldValue("id")+"'",r.a.Python.ORDER_NONE]},r.a.JavaScript.statement=function(e){return"if "+r.a.JavaScript.valueToCode(e,"condition",r.a.JavaScript.ORDER_ATOMIC)+" {\n"+r.a.JavaScript.statementToCode(e,"statement")+"}\n"},r.a.Python.statement=function(e){return"if "+r.a.Python.valueToCode(e,"condition",r.a.Python.ORDER_ATOMIC)+" \n"+r.a.Python.statementToCode(e,"statement")+"end\n"},r.a.JavaScript.condition=function(e){var t=e.getFieldValue("item"),n=e.getFieldValue("text");e.getFieldValue("dd");return["e."+t+".match(/"+n+"/)",r.a.JavaScript.ORDER_NONE]},r.a.Python.condition=function(e){var t=e.getFieldValue("item"),n=e.getFieldValue("text");e.getFieldValue("dd");return["e."+t+".match(/"+n+"/)",r.a.Python.ORDER_NONE]},r.a.JavaScript.condition2=function(e){var t=e.getFieldValue("dt"),n=e.getFieldValue("h"),o=e.getFieldValue("m");e.getFieldValue("dd");return["e."+t+">="+n+":"+o,r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.event=function(e){return["await get_events("+r.a.JavaScript.valueToCode(e,"calendar",r.a.JavaScript.ORDER_ATOMIC)+")",r.a.JavaScript.ORDER_NONE]},r.a.Python.event=function(e){var t=r.a.Python.valueToCode(e,"calendar",r.a.Python.ORDER_ATOMIC),n="get_events("+t+")";return[n,r.a.Python.ORDER_ATOMIC]},r.a.JavaScript.updated=function(e){return"if (updated("+r.a.JavaScript.valueToCode(e,"value",r.a.JavaScript.ORDER_ATOMIC)+")){\n"+r.a.JavaScript.statementToCode(e,"statement")+"}\n"},r.a.Python.updated=function(e){return"if updated("+r.a.Python.valueToCode(e,"value",r.a.Python.ORDER_ATOMIC)+", etag_list)\n"+r.a.Python.statementToCode(e,"statement")+"end\n"},r.a.JavaScript.operation=function(e){return r.a.JavaScript.valueToCode(e,"value",r.a.JavaScript.ORDER_ATOMIC)+".map(async function(e) {\n"+r.a.JavaScript.statementToCode(e,"statement")+"});\n"},r.a.Python.operation=function(e){var t=r.a.Python.valueToCode(e,"value",r.a.Python.ORDER_ATOMIC),n=r.a.Python.statementToCode(e,"statement"),t=t.split("+++");return null==t[1]&&(t[1]="",t[2]=""),t[0]+".each do |e|\n"+n+"end\n"},r.a.JavaScript.operation2=function(e){return[r.a.JavaScript.valueToCode(e,"value",r.a.JavaScript.ORDER_ATOMIC)+".map(function(e) {\n"+r.a.JavaScript.statementToCode(e,"statement")+"return e;\n})",r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.lastmonth=function(e){return["e."+e.getFieldValue("dd"),r.a.JavaScript.ORDER_NONE]},r.a.Python.lastmonth=function(e){return["e."+e.getFieldValue("dd"),r.a.Python.ORDER_NONE]},r.a.JavaScript.year=function(e){var t=r.a.JavaScript.valueToCode(e,"month",r.a.JavaScript.ORDER_ATOMIC),n=e.getFieldValue("year");return""!=t&&(t="-"+t),[n+t,r.a.JavaScript.ORDER_NONE]},r.a.Python.year=function(e){var t=r.a.Python.valueToCode(e,"month",r.a.Python.ORDER_ATOMIC),n=e.getFieldValue("year");return""!=t&&(t="-"+t),[n+t,r.a.Python.ORDER_NONE]},r.a.JavaScript.month=function(e){var t=r.a.JavaScript.valueToCode(e,"date",r.a.JavaScript.ORDER_ATOMIC),n=e.getFieldValue("month");return""!=t&&(t="-"+t),[n+t,r.a.JavaScript.ORDER_ATOMIC]},r.a.Python.month=function(e){var t=r.a.Python.valueToCode(e,"date",r.a.Python.ORDER_ATOMIC),n=e.getFieldValue("month");return""!=t&&(t="-"+t),[n+t,r.a.Python.ORDER_ATOMIC]},r.a.JavaScript.date=function(e){return[e.getFieldValue("date"),r.a.JavaScript.ORDER_ATOMIC]},r.a.Python.date=function(e){return[e.getFieldValue("date"),r.a.Python.ORDER_ATOMIC]},r.a.JavaScript.day=function(e){return[e.getFieldValue("day"),r.a.JavaScript.ORDER_ATOMIC]},r.a.Python.day=function(e){return[e.getFieldValue("day"),r.a.Python.ORDER_ATOMIC]},r.a.JavaScript.insert=function(e){return"await insert_event("+r.a.JavaScript.valueToCode(e,"event",r.a.JavaScript.ORDER_ATOMIC)+","+r.a.JavaScript.valueToCode(e,"calendar",r.a.JavaScript.ORDER_ATOMIC)+")\n"},r.a.Python.insert=function(e){return"insert_event("+r.a.Python.valueToCode(e,"event",r.a.Python.ORDER_ATOMIC)+","+r.a.Python.valueToCode(e,"calendar",r.a.Python.ORDER_ATOMIC)+")\n"},r.a.JavaScript.insert2=function(e){return"await insert_event(e,"+r.a.JavaScript.valueToCode(e,"calendar",r.a.JavaScript.ORDER_ATOMIC)+")\n"},r.a.Python.insert2=function(e){return"insert_event(e,"+r.a.Python.valueToCode(e,"calendar",r.a.Python.ORDER_ATOMIC)+")\n"},r.a.JavaScript.filter=function(e){var t=r.a.JavaScript.valueToCode(e,"e1",r.a.JavaScript.ORDER_ATOMIC);return["( function(events){\n  var filtered_events=[];\n  events.forEach((e) => {if("+r.a.JavaScript.valueToCode(e,"e2",r.a.JavaScript.ORDER_ATOMIC)+")filtered_events.push(e);})\n  return filtered_events;\n})("+t+")",r.a.JavaScript.ORDER_NONE]},r.a.Python.filter=function(e){return[r.a.Python.valueToCode(e,"e1",r.a.Python.ORDER_ATOMIC)+".filter {|e| "+r.a.Python.valueToCode(e,"e2",r.a.Python.ORDER_ATOMIC)+"}",r.a.Python.ORDER_NONE]},r.a.JavaScript.condition3=function(e){var t=r.a.JavaScript.valueToCode(e,"value",r.a.JavaScript.ORDER_ATOMIC);return["e."+e.getFieldValue("item")+".match("+t+")",r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.sum=function(e){return[r.a.JavaScript.valueToCode(e,"calendar",r.a.JavaScript.ORDER_ATOMIC)+".map(e => {return(parseInt(new Date(e.end.date_time) - new Date(e.start.date_time)))}).reduce((prev,curr) => {return prev+curr;})",r.a.JavaScript.ORDER_NONE]},r.a.Python.sum=function(e){return[r.a.Python.valueToCode(e,"calendar",r.a.JavaScript.ORDER_ATOMIC)+".map{|e| (new Date(e.end.date_time) - new Date(e.start.date_time)).to_i}.sum",r.a.Python.ORDER_NONE]},r.a.JavaScript.condition4=function(e){return[r.a.JavaScript.valueToCode(e,"value1",r.a.JavaScript.ORDER_ATOMIC)+"=="+r.a.JavaScript.valueToCode(e,"value2",r.a.JavaScript.ORDER_ATOMIC),r.a.JavaScript.ORDER_NONE]},r.a.Python.condition4=function(e){return[r.a.Python.valueToCode(e,"value1",r.a.Python.ORDER_ATOMIC)+"=="+r.a.Python.valueToCode(e,"value2",r.a.Python.ORDER_ATOMIC),r.a.Python.ORDER_NONE]},r.a.JavaScript.property=function(e){return[r.a.JavaScript.valueToCode(e,"e1",r.a.JavaScript.ORDER_ATOMIC)+"."+e.getFieldValue("dd"),r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.var=function(e){return[e.getFieldValue("item"),r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.assignment=function(e){return r.a.JavaScript.valueToCode(e,"value1",r.a.JavaScript.ORDER_ATOMIC)+"="+r.a.JavaScript.valueToCode(e,"value2",r.a.JavaScript.ORDER_ATOMIC)+";\n"},r.a.JavaScript.insert3=function(e){var t=e.getFieldValue("calendar"),n=e.getFieldValue("calendar2"),o='fetch( "http://localhost:4567/calendars/'+t+'/2021-0")\n.then( response => response.json() )\n.then( json =>  {\n';return o+='var eventjson = {calendar: "'+n+'",events: json};\n',o+="fetch(\"http://localhost:4567/insertevents\", {\nmethod: \"POST\",\nheaders: {\n'Accept': 'application/json',\n'Content-Type': 'application/json'\n},",o+="body: JSON.stringify(eventjson)\n})\n",o+="});"},r.a.JavaScript.creat_calendar=function(e){var t=r.a.JavaScript.valueToCode(e,"calendar",r.a.JavaScript.ORDER_ATOMIC),n='{access_role: "reader",\nid: "newcalendar@calendar.com",\nsummary: "'+t+'",\ntime_zone: "Asia/Tokyo"\n}',o='fetch("http://localhost:4567/creatcalendar", {\nmethod: "POST",\nheaders: {\n'+"'Accept': 'application/json',\n'Content-Type': 'application/json'\n},";return o=o+"body: JSON.stringify("+n+")\n})"},r.a.JavaScript.display=function(e){return"window.alert("+r.a.JavaScript.valueToCode(e,"NAME",r.a.JavaScript.ORDER_ATOMIC)+");\n"},r.a.Python.display=function(e){return"puts "+r.a.Python.valueToCode(e,"NAME",r.a.Python.ORDER_ATOMIC)+"\n"},r.a.JavaScript.and=function(e){var t=r.a.JavaScript.valueToCode(e,"bool1",r.a.JavaScript.ORDER_ATOMIC),n=r.a.JavaScript.valueToCode(e,"bool2",r.a.JavaScript.ORDER_ATOMIC);return[t+"&&"+n,r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.or=function(e){return[r.a.JavaScript.valueToCode(e,"bool1",r.a.JavaScript.ORDER_ATOMIC)+"||"+r.a.JavaScript.valueToCode(e,"bool2",r.a.JavaScript.ORDER_ATOMIC),r.a.JavaScript.ORDER_NONE]},r.a.JavaScript.hide=function(e){var t=e.getFieldValue("item");return"e."+t+'="Untitled";\n'},r.a.Python.hide=function(e){return"e."+e.getFieldValue("item")+'="Untitled"\n'},r.a.JavaScript.replace=function(e){return"e."+e.getFieldValue("item")+'="'+e.getFieldValue("text")+'";\n'},r.a.Python.replace=function(e){return"e."+e.getFieldValue("item")+'="'+e.getFieldValue("text")+'"\n'},r.a.JavaScript.hide_event=function(e){return'e="";\n'},r.a.Python.hide_event=function(e){return'e=""\n'},r.a.JavaScript.googlecalendar=function(e){e.getFieldValue("calendar");return""},r.a.JavaScript.mail=function(e){e.getFieldValue("mailadress");return""},r.a.JavaScript.slack=function(e){return""},r.a.JavaScript.colorchange=function(e){return'e.color="'+e.getFieldValue("item")+'";\n'}},function(e,t,n){"use strict";n(168),n(99)},function(e,t,n){"use strict";function o(){return"react-tabs-"+r++}t.a=o;var r=0},function(e,t,n){"use strict";function o(e){var t=0;return Object(r.a)(e,function(e){Object(i.a)(e)&&t++}),t}t.a=o;var r=n(168),i=n(99)},function(e,t){},function(e,t,n){n(292),e.exports=n(297)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(293).enable(),window.Promise=n(295)),n(296),Object.assign=n(102)},function(e,t,n){"use strict";function o(){c=!1,a._47=null,a._71=null}function r(e){function t(t){(e.allRejections||s(p[t].error,e.whitelist||l))&&(p[t].displayId=u++,e.onUnhandled?(p[t].logged=!0,e.onUnhandled(p[t].displayId,p[t].error)):(p[t].logged=!0,i(p[t].displayId,p[t].error)))}function n(t){p[t].logged&&(e.onHandled?e.onHandled(p[t].displayId,p[t].error):p[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+p[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+p[t].displayId+".")))}e=e||{},c&&o(),c=!0;var r=0,u=0,p={};a._47=function(e){2===e._83&&p[e._56]&&(p[e._56].logged?n(e._56):clearTimeout(p[e._56].timeout),delete p[e._56])},a._71=function(e,n){0===e._75&&(e._56=r++,p[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),s(n,l)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function s(e,t){return t.some(function(t){return e instanceof t})}var a=n(169),l=[ReferenceError,TypeError,RangeError],c=!1;t.disable=o,t.enable=r},function(e,t,n){"use strict";(function(t){function n(e){s.length||(i(),a=!0),s[s.length]=e}function o(){for(;l<s.length;){var e=l;if(l+=1,s[e].call(),l>c){for(var t=0,n=s.length-l;t<n;t++)s[t]=s[t+l];s.length-=l,l=0}}s.length=0,l=0,a=!1}function r(e){return function(){function t(){clearTimeout(n),clearInterval(o),e()}var n=setTimeout(t,0),o=setInterval(t,50)}}e.exports=n;var i,s=[],a=!1,l=0,c=1024,u="undefined"!==typeof t?t:self,p=u.MutationObserver||u.WebKitMutationObserver;i="function"===typeof p?function(e){var t=1,n=new p(e),o=document.createTextNode("");return n.observe(o,{characterData:!0}),function(){t=-t,o.data=t}}(o):r(o),n.requestFlush=i,n.makeRequestCallFromTimer=r}).call(t,n(101))},function(e,t,n){"use strict";function o(e){var t=new r(r._44);return t._83=1,t._18=e,t}var r=n(169);e.exports=r;var i=o(!0),s=o(!1),a=o(null),l=o(void 0),c=o(0),u=o("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return l;if(!0===e)return i;if(!1===e)return s;if(0===e)return c;if(""===e)return u;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(e){return new r(function(t,n){n(e)})}return o(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function o(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof r&&a.then===r.prototype.then){for(;3===a._83;)a=a._18;return 1===a._83?o(s,a._18):(2===a._83&&n(a._18),void a.then(function(e){o(s,e)},n))}var l=a.then;if("function"===typeof l){return void new r(l.bind(a)).then(function(e){o(s,e)},n)}}t[s]=a,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,s=0;s<t.length;s++)o(s,t[s])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&y(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return E.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function _(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,o){e=t(e),o=n(o);var r=this.map[e];this.map[e]=r?r+","+o:o},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,o){this.map[t(e)]=n(o)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},p.call(d.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];g.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=d,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,o){var r=new d(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:_(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new g(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),r.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n.n(o),i=n(7),s=n.n(i),a=n(14),l=n(327),c=n(328),u=n(331),p=n(338),h=n(339),d=n(514),f=n(530),_=n(617),g=n(618),m=n(619),v=(n(620),n(621)),y=n(629),b=n(630),E=n(631),T=(n.n(E),n(632)),O=(n.n(T),n(633)),C=(n.n(O),function(){return r.a.createElement("div",null,r.a.createElement(a.a,{basename:"/clockly/"},r.a.createElement("div",null,r.a.createElement(d.a,null),r.a.createElement(a.c,{path:"/",component:c.a}),r.a.createElement(a.c,{path:"/calendar",component:h.a}),r.a.createElement(a.c,{path:"/list",component:f.a}),r.a.createElement(a.c,{path:"/make/code",component:v.a}),r.a.createElement(a.c,{path:"/settings",component:y.a}),r.a.createElement(a.c,{path:"/testpage",component:b.a}),r.a.createElement(a.c,{path:"/make/filter",component:_.a}),r.a.createElement(a.c,{path:"/make/action",component:g.a}),r.a.createElement(a.c,{path:"/make/outlet",component:m.a}),r.a.createElement(a.c,{path:"/filter",component:u.a}),r.a.createElement(a.c,{path:"/calendar/:id",component:h.a}),r.a.createElement(a.c,{path:"/action/:id",component:p.a}),r.a.createElement(a.c,{path:"/action",component:p.a}))))});s.a.render(r.a.createElement(C,null),document.getElementById("root")),Object(l.a)(),t.default=Object(a.d)(C)},function(e,t,n){"use strict";function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||P}function i(){}function s(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||P}function a(e,t,n){var o,r={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)F.call(t,o)&&!U.hasOwnProperty(o)&&(r[o]=t[o]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(o in a=e.defaultProps)void 0===r[o]&&(r[o]=a[o]);return{$$typeof:T,type:e,key:i,ref:s,props:r,_owner:B.current}}function l(e,t){return{$$typeof:T,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"===typeof e&&null!==e&&e.$$typeof===T}function u(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function p(e,t,n,o){if(W.length){var r=W.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=o,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:o,count:0}}function h(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>W.length&&W.push(e)}function d(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case T:case O:s=!0}}if(s)return n(r,e,""===t?"."+_(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){i=e[a];var l=t+_(i,a);s+=d(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:(l=M&&e[M]||e["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=t+_(i,a++),s+=d(i,l,n,r);else if("object"===i)throw n=""+e,Error(o(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function f(e,t,n){return null==e?0:d(e,"",t,n)}function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?u(e.key):t.toString(36)}function g(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var o=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,o,n,function(e){return e}):null!=e&&(c(e)&&(e=l(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),o.push(e))}function v(e,t,n,o,r){var i="";null!=n&&(i=(""+n).replace(j,"$&/")+"/"),t=p(t,i,o,r),f(e,m,t),h(t)}function y(){var e=V.current;if(null===e)throw Error(o(321));return e}var b=n(102),E="function"===typeof Symbol&&Symbol.for,T=E?Symbol.for("react.element"):60103,O=E?Symbol.for("react.portal"):60106,C=E?Symbol.for("react.fragment"):60107,S=E?Symbol.for("react.strict_mode"):60108,k=E?Symbol.for("react.profiler"):60114,R=E?Symbol.for("react.provider"):60109,w=E?Symbol.for("react.context"):60110,I=E?Symbol.for("react.forward_ref"):60112,D=E?Symbol.for("react.suspense"):60113,A=E?Symbol.for("react.memo"):60115,N=E?Symbol.for("react.lazy"):60116,M="function"===typeof Symbol&&Symbol.iterator,P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(o(85));this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=r.prototype;var L=s.prototype=new i;L.constructor=s,b(L,r.prototype),L.isPureReactComponent=!0;var B={current:null},F=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,W=[],V={current:null},H={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:B,IsSomeRendererActing:{current:!1},assign:b};t.Children={map:function(e,t,n){if(null==e)return e;var o=[];return v(e,o,null,t,n),o},forEach:function(e,t,n){if(null==e)return e;t=p(null,null,t,n),f(e,g,t),h(t)},count:function(e){return f(e,function(){return null},null)},toArray:function(e){var t=[];return v(e,t,null,function(e){return e}),t},only:function(e){if(!c(e))throw Error(o(143));return e}},t.Component=r,t.Fragment=C,t.Profiler=k,t.PureComponent=s,t.StrictMode=S,t.Suspense=D,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(o(267,e));var r=b({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=B.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)F.call(t,c)&&!U.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:T,type:e.type,key:i,ref:s,props:r,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:w,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:R,_context:e},e.Consumer=e},t.createElement=a,t.createFactory=function(e){var t=a.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:I,render:e}},t.isValidElement=c,t.lazy=function(e){return{$$typeof:N,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return y().useCallback(e,t)},t.useContext=function(e,t){return y().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return y().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return y().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return y().useLayoutEffect(e,t)},t.useMemo=function(e,t){return y().useMemo(e,t)},t.useReducer=function(e,t,n){return y().useReducer(e,t,n)},t.useRef=function(e){return y().useRef(e)},t.useState=function(e){return y().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e,t,n,o,r,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}function i(e,t,n,o,i,s,a,l,c){Vr=!1,Hr=null,r.apply(Kr,arguments)}function s(e,t,n,r,s,a,l,c,u){if(i.apply(this,arguments),Vr){if(!Vr)throw Error(o(198));var p=Hr;Vr=!1,Hr=null,Gr||(Gr=!0,Yr=p)}}function a(e,t,n){var o=e.type||"unknown-event";e.currentTarget=zr(n),s(o,t,void 0,e),e.currentTarget=null}function l(){if(qr)for(var e in Zr){var t=Zr[e],n=qr.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!Qr[n]){if(!t.extractEvents)throw Error(o(97,e));Qr[n]=t,n=t.eventTypes;for(var r in n){var i=void 0,s=n[r],a=t,l=r;if($r.hasOwnProperty(l))throw Error(o(99,l));$r[l]=s;var u=s.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&c(u[i],a,l);i=!0}else s.registrationName?(c(s.registrationName,a,l),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function c(e,t,n){if(ei[e])throw Error(o(100,e));ei[e]=t,ti[e]=t.eventTypes[n].dependencies}function u(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!Zr.hasOwnProperty(t)||Zr[t]!==r){if(Zr[t])throw Error(o(102,t));Zr[t]=r,n=!0}}n&&l()}function p(e){if(e=Jr(e)){if("function"!==typeof oi)throw Error(o(280));var t=e.stateNode;t&&(t=Xr(t),oi(e.stateNode,e.type,t))}}function h(e){ri?ii?ii.push(e):ii=[e]:ri=e}function d(){if(ri){var e=ri,t=ii;if(ii=ri=null,p(e),t)for(e=0;e<t.length;e++)p(t[e])}}function f(e,t){return e(t)}function _(e,t,n,o,r){return e(t,n,o,r)}function g(){}function m(){null===ri&&null===ii||(g(),d())}function v(e,t,n){if(li)return e(t,n);li=!0;try{return si(e,t,n)}finally{li=!1,m()}}function y(e){return!!ui.call(hi,e)||!ui.call(pi,e)&&(ci.test(e)?hi[e]=!0:(pi[e]=!0,!1))}function b(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function E(e,t,n,o){if(null===t||"undefined"===typeof t||b(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,n,o,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}function O(e){return e[1].toUpperCase()}function C(e,t,n,o){var r=di.hasOwnProperty(t)?di[t]:null;(null!==r?0===r.type:!o&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(E(t,n,r,o)&&(n=null),o||null===r?y(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(r=r.type,n=3===r||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}function S(e){return null===e||"object"!==typeof e?null:(e=Mi&&e[Mi]||e["@@iterator"],"function"===typeof e?e:null)}function k(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function R(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Ei:return"Fragment";case bi:return"Portal";case Oi:return"Profiler";case Ti:return"StrictMode";case wi:return"Suspense";case Ii:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Si:return"Context.Consumer";case Ci:return"Context.Provider";case Ri:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Di:return R(e.type);case Ni:return R(e.render);case Ai:if(e=1===e._status?e._result:null)return R(e)}return null}function w(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var o=e._debugOwner,r=e._debugSource,i=R(e.type);n=null,o&&(n=R(o.type)),o=i,i="",r?i=" (at "+r.fileName.replace(mi,"")+":"+r.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(o||"Unknown")+i}t+=n,e=e.return}while(e);return t}function I(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function D(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function A(e){var t=D(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function N(e){e._valueTracker||(e._valueTracker=A(e))}function M(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=D(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function P(e,t){var n=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function x(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=I(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function L(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function B(e,t){L(e,t);var n=I(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?U(e,t.type,n):t.hasOwnProperty("defaultValue")&&U(e,t.type,I(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function F(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function U(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function j(e){var t="";return Ur.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function W(e,t){return e=jr({children:void 0},t),(t=j(t.children))&&(e.children=t),e}function V(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+I(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function H(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:I(n)}}function Y(e,t){var n=I(t.value),o=I(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function K(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function X(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?X(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function z(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function Z(e){if(Bi[e])return Bi[e];if(!Li[e])return e;var t,n=Li[e];for(t in n)if(n.hasOwnProperty(t)&&t in Fi)return Bi[e]=n[t];return e}function Q(e){var t=Xi.get(e);return void 0===t&&(t=new Map,Xi.set(e,t)),t}function $(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ee(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function te(e){if($(e)!==e)throw Error(o(188))}function ne(e){var t=e.alternate;if(!t){if(null===(t=$(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return te(i),e;if(s===r)return te(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function oe(e){if(!(e=ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function re(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ie(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function se(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var o=0;o<t.length&&!e.isPropagationStopped();o++)a(e,t[o],n[o]);else t&&a(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ae(e){if(null!==e&&(Ji=re(Ji,e)),e=Ji,Ji=null,e){if(ie(e,se),Ji)throw Error(o(95));if(Gr)throw e=Yr,Gr=!1,Yr=null,e}}function le(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ce(e){if(!ni)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t}function ue(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>zi.length&&zi.push(e)}function pe(e,t,n,o){if(zi.length){var r=zi.pop();return r.topLevelType=e,r.eventSystemFlags=o,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:o,nativeEvent:t,targetInst:n,ancestors:[]}}function he(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var o=n;if(3===o.tag)o=o.stateNode.containerInfo;else{for(;o.return;)o=o.return;o=3!==o.tag?null:o.stateNode.containerInfo}if(!o)break;t=n.tag,5!==t&&6!==t||e.ancestors.push(n),n=Je(o)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=le(e.nativeEvent);o=e.topLevelType;var i=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,l=0;l<Qr.length;l++){var c=Qr[l];c&&(c=c.extractEvents(o,t,i,r,s))&&(a=re(a,c))}ae(a)}}function de(e,t,n){if(!n.has(e)){switch(e){case"scroll":Re(t,"scroll",!0);break;case"focus":case"blur":Re(t,"focus",!0),Re(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(e)&&Re(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ki.indexOf(e)&&ke(e,t)}n.set(e,null)}}function fe(e,t){var n=Q(t);rs.forEach(function(e){de(e,t,n)}),is.forEach(function(e){de(e,t,n)})}function _e(e,t,n,o,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:o}}function ge(e,t){switch(e){case"focus":case"blur":Qi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function me(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e=_e(t,n,o,r,i),null!==t&&null!==(t=ze(t))&&ji(t),e):(e.eventSystemFlags|=o,e)}function ve(e,t,n,o,r){switch(t){case"focus":return Qi=me(Qi,e,t,n,o,r),!0;case"dragenter":return $i=me($i,e,t,n,o,r),!0;case"mouseover":return es=me(es,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return ts.set(i,me(ts.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,ns.set(i,me(ns.get(i)||null,e,t,n,o,r)),!0}return!1}function ye(e){var t=Je(e.target);if(null!==t){var n=$(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ee(n)))return e.blockedOn=t,void Wr.unstable_runWithPriority(e.priority,function(){Wi(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function be(e){if(null!==e.blockedOn)return!1;var t=Ae(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=ze(t);return null!==n&&ji(n),e.blockedOn=t,!1}return!0}function Ee(e,t,n){be(e)&&n.delete(t)}function Te(){for(qi=!1;0<Zi.length;){var e=Zi[0];if(null!==e.blockedOn){e=ze(e.blockedOn),null!==e&&Ui(e);break}var t=Ae(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Zi.shift()}null!==Qi&&be(Qi)&&(Qi=null),null!==$i&&be($i)&&($i=null),null!==es&&be(es)&&(es=null),ts.forEach(Ee),ns.forEach(Ee)}function Oe(e,t){e.blockedOn===t&&(e.blockedOn=null,qi||(qi=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,Te)))}function Ce(e){function t(t){return Oe(t,e)}if(0<Zi.length){Oe(Zi[0],e);for(var n=1;n<Zi.length;n++){var o=Zi[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Qi&&Oe(Qi,e),null!==$i&&Oe($i,e),null!==es&&Oe(es,e),ts.forEach(t),ns.forEach(t),n=0;n<os.length;n++)o=os[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<os.length&&(n=os[0],null===n.blockedOn);)ye(n),null===n.blockedOn&&os.shift()}function Se(e,t){for(var n=0;n<e.length;n+=2){var o=e[n],r=e[n+1],i="on"+(r[0].toUpperCase()+r.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[o],eventPriority:t},ls.set(o,t),as.set(o,i),ss[r]=i}}function ke(e,t){Re(t,e,!1)}function Re(e,t,n){var o=ls.get(t);switch(void 0===o?2:o){case 0:o=we.bind(null,t,1,e);break;case 1:o=Ie.bind(null,t,1,e);break;default:o=De.bind(null,t,1,e)}n?e.addEventListener(t,o,!0):e.addEventListener(t,o,!1)}function we(e,t,n,o){ai||g();var r=De,i=ai;ai=!0;try{_(r,e,t,n,o)}finally{(ai=i)||m()}}function Ie(e,t,n,o){ds(hs,De.bind(null,e,t,n,o))}function De(e,t,n,o){if(fs)if(0<Zi.length&&-1<rs.indexOf(e))e=_e(null,e,t,n,o),Zi.push(e);else{var r=Ae(e,t,n,o);if(null===r)ge(e,o);else if(-1<rs.indexOf(e))e=_e(r,e,t,n,o),Zi.push(e);else if(!ve(r,e,t,n,o)){ge(e,o),e=pe(e,o,null,t);try{v(he,e)}finally{ue(e)}}}}function Ae(e,t,n,o){if(n=le(o),null!==(n=Je(n))){var r=$(n);if(null===r)n=null;else{var i=r.tag;if(13===i){if(null!==(n=ee(r)))return n;n=null}else if(3===i){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=pe(e,o,n,t);try{v(he,e)}finally{ue(e)}return null}function Ne(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||_s.hasOwnProperty(e)&&_s[e]?(""+t).trim():t+"px"}function Me(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=Ne(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}function Pe(e,t){if(t){if(ms[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Le(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Q(e);t=ti[t];for(var o=0;o<t.length;o++)de(t[o],e,n)}function Be(){}function Fe(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function je(e,t){var n=Ue(e);e=0;for(var o;n;){if(3===n.nodeType){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ue(n)}}function We(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?We(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ve(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=Fe(e.document)}return t}function He(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ge(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ye(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Ke(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xe(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===ys||n===Ts||n===Es){if(0===t)return e;t--}else n===bs&&t++}e=e.previousSibling}return null}function Je(e){var t=e[ws];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ds]||n[ws]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xe(e);null!==e;){if(n=e[ws])return n;e=Xe(e)}return t}e=n,n=e.parentNode}return null}function ze(e){return e=e[ws]||e[Ds],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qe(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ze(e){return e[Is]||null}function Qe(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function $e(e,t){var n=e.stateNode;if(!n)return null;var r=Xr(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function et(e,t,n){(t=$e(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=re(n._dispatchListeners,t),n._dispatchInstances=re(n._dispatchInstances,e))}function tt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Qe(t);for(t=n.length;0<t--;)et(n[t],"captured",e);for(t=0;t<n.length;t++)et(n[t],"bubbled",e)}}function nt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=$e(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,t),n._dispatchInstances=re(n._dispatchInstances,e))}function ot(e){e&&e.dispatchConfig.registrationName&&nt(e._targetInst,null,e)}function rt(e){ie(e,tt)}function it(){if(Ms)return Ms;var e,t,n=Ns,o=n.length,r="value"in As?As.value:As.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var s=o-e;for(t=1;t<=s&&n[o-t]===r[i-t];t++);return Ms=r.slice(e,1<t?1-t:void 0)}function st(){return!0}function at(){return!1}function lt(e,t,n,o){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var r in e)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=o:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?st:at,this.isPropagationStopped=at,this}function ct(e,t,n,o){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,o),r}return new this(e,t,n,o)}function ut(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pt(e){e.eventPool=[],e.getPooled=ct,e.release=ut}function ht(e,t){switch(e){case"keyup":return-1!==Ls.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function dt(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function ft(e,t){switch(e){case"compositionend":return dt(t);case"keypress":return 32!==t.which?null:(Hs=!0,Ws);case"textInput":return e=t.data,e===Ws&&Hs?null:e;default:return null}}function _t(e,t){if(Gs)return"compositionend"===e||!Bs&&ht(e,t)?(e=it(),Ms=Ns=As=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return js&&"ko"!==t.locale?null:t.data;default:return null}}function gt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ks[e.type]:"textarea"===t}function mt(e,t,n){return e=lt.getPooled(Xs.change,e,t,n),e.type="change",h(n),rt(e),e}function vt(e){ae(e)}function yt(e){if(M(qe(e)))return e}function bt(e,t){if("change"===e)return t}function Et(){Js&&(Js.detachEvent("onpropertychange",Tt),zs=Js=null)}function Tt(e){if("value"===e.propertyName&&yt(zs))if(e=mt(zs,e,le(e)),ai)ae(e);else{ai=!0;try{f(vt,e)}finally{ai=!1,m()}}}function Ot(e,t,n){"focus"===e?(Et(),Js=t,zs=n,Js.attachEvent("onpropertychange",Tt)):"blur"===e&&Et()}function Ct(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yt(zs)}function St(e,t){if("click"===e)return yt(t)}function kt(e,t){if("input"===e||"change"===e)return yt(t)}function Rt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$s[e])&&!!t[e]}function wt(){return Rt}function It(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function Dt(e,t){if(la(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!ca.call(t,n[o])||!la(e[n[o]],t[n[o]]))return!1;return!0}function At(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return _a||null==ha||ha!==Fe(n)?null:(n=ha,"selectionStart"in n&&He(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fa&&Dt(fa,n)?null:(fa=n,e=lt.getPooled(pa.select,da,e,t),e.type="select",e.target=ha,rt(e),e))}function Nt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Mt(e){0>Pa||(e.current=Ma[Pa],Ma[Pa]=null,Pa--)}function Pt(e,t){Pa++,Ma[Pa]=e.current,e.current=t}function xt(e,t){var n=e.type.contextTypes;if(!n)return xa;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bt(){Mt(Ba),Mt(La)}function Ft(e,t,n){if(La.current!==xa)throw Error(o(168));Pt(La,t),Pt(Ba,n)}function Ut(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(o(108,R(t)||"Unknown",i));return jr({},n,{},r)}function jt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,Fa=La.current,Pt(La,e),Pt(Ba,Ba.current),!0}function Wt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ut(e,t,Fa),r.__reactInternalMemoizedMergedChildContext=e,Mt(Ba),Mt(La),Pt(La,e)):Mt(Ba),Pt(Ba,n)}function Vt(){switch(Ga()){case Ya:return 99;case Ka:return 98;case Xa:return 97;case Ja:return 96;case za:return 95;default:throw Error(o(332))}}function Ht(e){switch(e){case 99:return Ya;case 98:return Ka;case 97:return Xa;case 96:return Ja;case 95:return za;default:throw Error(o(332))}}function Gt(e,t){return e=Ht(e),Ua(e,t)}function Yt(e,t,n){return e=Ht(e),ja(e,t,n)}function Kt(e){return null===$a?($a=[e],el=ja(Ya,Jt)):$a.push(e),qa}function Xt(){if(null!==el){var e=el;el=null,Wa(e)}Jt()}function Jt(){if(!tl&&null!==$a){tl=!0;var e=0;try{var t=$a;Gt(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),$a=null}catch(t){throw null!==$a&&($a=$a.slice(e+1)),ja(Ya,Xt),t}finally{tl=!1}}}function zt(e,t,n){return n/=10,1073741821-(1+((1073741821-e+t/10)/n|0))*n}function qt(e,t){if(e&&e.defaultProps){t=jr({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function Zt(){al=sl=il=null}function Qt(e){var t=rl.current;Mt(rl),e.type._context._currentValue=t}function $t(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function en(e,t){il=e,al=sl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(xl=!0),e.firstContext=null)}function tn(e,t){if(al!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(al=e,t=1073741823),t={context:e,observedBits:t,next:null},null===sl){if(null===il)throw Error(o(308));sl=t,il.dependencies={expirationTime:0,firstContext:t,responders:null}}else sl=sl.next=t;return e._currentValue}function nn(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function on(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function rn(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function sn(e,t){if(null!==(e=e.updateQueue)){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function an(e,t){var n=e.alternate;null!==n&&on(n,e),e=e.updateQueue,n=e.baseQueue,null===n?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ln(e,t,n,o){var r=e.updateQueue;ll=!1;var i=r.baseQueue,s=r.shared.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}i=s,r.shared.pending=null,a=e.alternate,null!==a&&null!==(a=a.updateQueue)&&(a.baseQueue=s)}if(null!==i){a=i.next;var l=r.baseState,c=0,u=null,p=null,h=null;if(null!==a)for(var d=a;;){if((s=d.expirationTime)<o){var f={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===h?(p=h=f,u=l):h=h.next=f,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),Qo(s,d.suspenseConfig);e:{var _=e,g=d;switch(s=t,f=n,g.tag){case 1:if("function"===typeof(_=g.payload)){l=_.call(f,l,s);break e}l=_;break e;case 3:_.effectTag=-4097&_.effectTag|64;case 0:if(_=g.payload,null===(s="function"===typeof _?_.call(f,l,s):_)||void 0===s)break e;l=jr({},l,s);break e;case 2:ll=!0}}null!==d.callback&&(e.effectTag|=32,s=r.effects,null===s?r.effects=[d]:s.push(d))}if(null===(d=d.next)||d===a){if(null===(s=r.shared.pending))break;d=i.next=s.next,s.next=a,r.baseQueue=i=s,r.shared.pending=null}}null===h?u=l:h.next=p,r.baseState=u,r.baseQueue=h,$o(c),e.expirationTime=c,e.memoizedState=l}}function cn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}function un(e,t,n,o){t=e.memoizedState,n=n(o,t),n=null===n||void 0===n?t:jr({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function pn(e,t,n,o,r,i,s){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(o,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Dt(n,o)||!Dt(r,i))}function hn(e,t,n){var o=!1,r=xa,i=t.contextType;return"object"===typeof i&&null!==i?i=tn(i):(r=Lt(t)?Fa:La.current,o=t.contextTypes,i=(o=null!==o&&void 0!==o)?xt(e,r):xa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternalFiber=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function dn(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function fn(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ul,nn(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=tn(i):(i=Lt(t)?Fa:La.current,r.context=xt(e,i)),ln(e,n,r,o),r.state=e.memoizedState,i=t.getDerivedStateFromProps,"function"===typeof i&&(un(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&pl.enqueueReplaceState(r,r.state,null),ln(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}function _n(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ul&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function gn(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function mn(e){function t(t,n){if(e){var o=t.lastEffect;null!==o?(o.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=yr(e,t),e.index=0,e.sibling=null,e}function s(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index,o<n?(t.effectTag=2,n):o):(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,o){return null===t||6!==t.tag?(t=Tr(n,e.mode,o),t.return=e,t):(t=i(t,n),t.return=e,t)}function c(e,t,n,o){return null!==t&&t.elementType===n.type?(o=i(t,n.props),o.ref=_n(e,t,n),o.return=e,o):(o=br(n.type,n.key,n.props,null,e.mode,o),o.ref=_n(e,t,n),o.return=e,o)}function u(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Or(n,e.mode,o),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function p(e,t,n,o,r){return null===t||7!==t.tag?(t=Er(n,e.mode,o,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=Tr(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case yi:return n=br(t.type,t.key,t.props,null,e.mode,n),n.ref=_n(e,null,t),n.return=e,n;case bi:return t=Or(t,e.mode,n),t.return=e,t}if(hl(t)||S(t))return t=Er(t,e.mode,n,null),t.return=e,t;gn(e,t)}return null}function d(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case yi:return n.key===r?n.type===Ei?p(e,t,n.props.children,o,r):c(e,t,n,o):null;case bi:return n.key===r?u(e,t,n,o):null}if(hl(n)||S(n))return null!==r?null:p(e,t,n,o,null);gn(e,n)}return null}function f(e,t,n,o,r){if("string"===typeof o||"number"===typeof o)return e=e.get(n)||null,l(t,e,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case yi:return e=e.get(null===o.key?n:o.key)||null,o.type===Ei?p(t,e,o.props.children,r,o.key):c(t,e,o,r);case bi:return e=e.get(null===o.key?n:o.key)||null,u(t,e,o,r)}if(hl(o)||S(o))return e=e.get(n)||null,p(t,e,o,r,null);gn(t,o)}return null}function _(o,i,a,l){for(var c=null,u=null,p=i,_=i=0,g=null;null!==p&&_<a.length;_++){p.index>_?(g=p,p=null):g=p.sibling;var m=d(o,p,a[_],l);if(null===m){null===p&&(p=g);break}e&&p&&null===m.alternate&&t(o,p),i=s(m,i,_),null===u?c=m:u.sibling=m,u=m,p=g}if(_===a.length)return n(o,p),c;if(null===p){for(;_<a.length;_++)null!==(p=h(o,a[_],l))&&(i=s(p,i,_),null===u?c=p:u.sibling=p,u=p);return c}for(p=r(o,p);_<a.length;_++)null!==(g=f(p,o,_,a[_],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?_:g.key),i=s(g,i,_),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(o,e)}),c}function g(i,a,l,c){var u=S(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var p=u=null,_=a,g=a=0,m=null,v=l.next();null!==_&&!v.done;g++,v=l.next()){_.index>g?(m=_,_=null):m=_.sibling;var y=d(i,_,v.value,c);if(null===y){null===_&&(_=m);break}e&&_&&null===y.alternate&&t(i,_),a=s(y,a,g),null===p?u=y:p.sibling=y,p=y,_=m}if(v.done)return n(i,_),u;if(null===_){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,g),null===p?u=v:p.sibling=v,p=v);return u}for(_=r(i,_);!v.done;g++,v=l.next())null!==(v=f(_,i,g,v.value,c))&&(e&&null!==v.alternate&&_.delete(null===v.key?g:v.key),a=s(v,a,g),null===p?u=v:p.sibling=v,p=v);return e&&_.forEach(function(e){return t(i,e)}),u}return function(e,r,s,l){var c="object"===typeof s&&null!==s&&s.type===Ei&&null===s.key;c&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case yi:e:{for(u=s.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(s.type===Ei){n(e,c.sibling),r=i(c,s.props.children),r.return=e,e=r;break e}break;default:if(c.elementType===s.type){n(e,c.sibling),r=i(c,s.props),r.ref=_n(e,c,s),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}s.type===Ei?(r=Er(s.props.children,e.mode,l,s.key),r.return=e,e=r):(l=br(s.type,s.key,s.props,null,e.mode,l),l.ref=_n(e,r,s),l.return=e,e=l)}return a(e);case bi:e:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),r=i(r,s.children||[]),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=Or(s,e.mode,l),r.return=e,e=r}return a(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,s),r.return=e,e=r):(n(e,r),r=Tr(s,e.mode,l),r.return=e,e=r),a(e);if(hl(s))return _(e,r,s,l);if(S(s))return g(e,r,s,l);if(u&&gn(e,s),"undefined"===typeof s&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}function vn(e){if(e===_l)throw Error(o(174));return e}function yn(e,t){switch(Pt(vl,t),Pt(ml,e),Pt(gl,_l),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:J(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=J(t,e)}Mt(gl),Pt(gl,t)}function bn(){Mt(gl),Mt(ml),Mt(vl)}function En(e){vn(vl.current);var t=vn(gl.current),n=J(t,e.type);t!==n&&(Pt(ml,e),Pt(gl,n))}function Tn(e){ml.current===e&&(Mt(gl),Mt(ml))}function On(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Es||n.data===Ts))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Cn(e,t){return{responder:e,props:t}}function Sn(){throw Error(o(321))}function kn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}function Rn(e,t,n,r,i,s){if(Tl=s,Ol=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,bl.current=null===e||null===e.memoizedState?wl:Il,e=n(r,i),t.expirationTime===Tl){s=0;do{if(t.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Sl=Cl=null,t.updateQueue=null,bl.current=Dl,e=n(r,i)}while(t.expirationTime===Tl)}if(bl.current=Rl,t=null!==Cl&&null!==Cl.next,Tl=0,Sl=Cl=Ol=null,kl=!1,t)throw Error(o(300));return e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sl?Ol.memoizedState=Sl=e:Sl=Sl.next=e,Sl}function In(){if(null===Cl){var e=Ol.alternate;e=null!==e?e.memoizedState:null}else e=Cl.next;var t=null===Sl?Ol.memoizedState:Sl.next;if(null!==t)Sl=t,Cl=e;else{if(null===e)throw Error(o(310));Cl=e,e={memoizedState:Cl.memoizedState,baseState:Cl.baseState,baseQueue:Cl.baseQueue,queue:Cl.queue,next:null},null===Sl?Ol.memoizedState=Sl=e:Sl=Sl.next=e}return Sl}function Dn(e,t){return"function"===typeof t?t(e):t}function An(e){var t=In(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Cl,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var u=c.expirationTime;if(u<Tl){var p={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=p,s=r):l=l.next=p,u>Ol.expirationTime&&(Ol.expirationTime=u,$o(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Qo(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?s=r:l.next=a,la(r,t.memoizedState)||(xl=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Nn(e){var t=In(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);la(s,t.memoizedState)||(xl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Mn(e){var t=wn();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},e=e.dispatch=Jn.bind(null,Ol,e),[t.memoizedState,e]}function Pn(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Ol.updateQueue,null===t?(t={lastEffect:null},Ol.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function xn(){return In().memoizedState}function Ln(e,t,n,o){var r=wn();Ol.effectTag|=e,r.memoizedState=Pn(1|t,n,void 0,void 0===o?null:o)}function Bn(e,t,n,o){var r=In();o=void 0===o?null:o;var i=void 0;if(null!==Cl){var s=Cl.memoizedState;if(i=s.destroy,null!==o&&kn(o,s.deps))return void Pn(t,n,i,o)}Ol.effectTag|=e,r.memoizedState=Pn(1|t,n,i,o)}function Fn(e,t){return Ln(516,4,e,t)}function Un(e,t){return Bn(516,4,e,t)}function jn(e,t){return Bn(4,2,e,t)}function Wn(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vn(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bn(4,2,Wn.bind(null,t,e),n)}function Hn(){}function Gn(e,t){return wn().memoizedState=[e,void 0===t?null:t],e}function Yn(e,t){var n=In();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&kn(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Kn(e,t){var n=In();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&kn(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Xn(e,t,n){var o=Vt();Gt(98>o?98:o,function(){e(!0)}),Gt(97<o?97:o,function(){var o=El.suspense;El.suspense=void 0===t?null:t;try{e(!1),n()}finally{El.suspense=o}})}function Jn(e,t,n){var o=Fo(),r=cl.suspense;o=Uo(o,e,r),r={expirationTime:o,suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?r.next=r:(r.next=i.next,i.next=r),t.pending=r,i=e.alternate,e===Ol||null!==i&&i===Ol)kl=!0,r.expirationTime=Tl,Ol.expirationTime=Tl;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(r.eagerReducer=i,r.eagerState=a,la(a,s))return}catch(e){}jo(e,o)}}function zn(e,t){var n=gr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Zn(e){if(Ml){var t=Nl;if(t){var n=t;if(!qn(e,t)){if(!(t=Ke(n.nextSibling))||!qn(e,t))return e.effectTag=-1025&e.effectTag|2,Ml=!1,void(Al=e);zn(Al,n)}Al=e,Nl=Ke(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ml=!1,Al=e}}function Qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Al=e}function $n(e){if(e!==Al)return!1;if(!Ml)return Qn(e),Ml=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ye(t,e.memoizedProps))for(t=Nl;t;)zn(e,t),t=Ke(t.nextSibling);if(Qn(e),13===e.tag){if(e=e.memoizedState,!(e=null!==e?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===bs){if(0===t){Nl=Ke(e.nextSibling);break e}t--}else n!==ys&&n!==Ts&&n!==Es||t++}e=e.nextSibling}Nl=null}}else Nl=Al?Ke(e.stateNode.nextSibling):null;return!0}function eo(){Nl=Al=null,Ml=!1}function to(e,t,n,o){t.child=null===e?fl(t,null,n,o):dl(t,e.child,n,o)}function no(e,t,n,o,r){n=n.render;var i=t.ref;return en(t,r),o=Rn(e,t,n,o,i,r),null===e||xl?(t.effectTag|=1,to(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),_o(e,t,r))}function oo(e,t,n,o,r,i){if(null===e){var s=n.type;return"function"!==typeof s||mr(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=br(n.type,null,o,null,t.mode,i),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ro(e,t,s,o,r,i))}return s=e.child,r<i&&(r=s.memoizedProps,n=n.compare,(n=null!==n?n:Dt)(r,o)&&e.ref===t.ref)?_o(e,t,i):(t.effectTag|=1,e=yr(s,o),e.ref=t.ref,e.return=t,t.child=e)}function ro(e,t,n,o,r,i){return null!==e&&Dt(e.memoizedProps,o)&&e.ref===t.ref&&(xl=!1,r<i)?(t.expirationTime=e.expirationTime,_o(e,t,i)):so(e,t,n,o,i)}function io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function so(e,t,n,o,r){var i=Lt(n)?Fa:La.current;return i=xt(t,i),en(t,r),n=Rn(e,t,n,o,i,r),null===e||xl?(t.effectTag|=1,to(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),_o(e,t,r))}function ao(e,t,n,o,r){if(Lt(n)){var i=!0;jt(t)}else i=!1;if(en(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),hn(t,n,o),fn(t,n,o,r),o=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=tn(c):(c=Lt(n)?Fa:La.current,c=xt(t,c));var u=n.getDerivedStateFromProps,p="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==o||l!==c)&&dn(t,s,o,c),ll=!1;var h=t.memoizedState;s.state=h,ln(t,o,s,r),l=t.memoizedState,a!==o||h!==l||Ba.current||ll?("function"===typeof u&&(un(t,n,u,o),l=t.memoizedState),(a=ll||pn(t,n,a,o,h,l,c))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=c,o=a):("function"===typeof s.componentDidMount&&(t.effectTag|=4),o=!1)}else s=t.stateNode,on(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:qt(t.type,a),l=s.context,c=n.contextType,"object"===typeof c&&null!==c?c=tn(c):(c=Lt(n)?Fa:La.current,c=xt(t,c)),u=n.getDerivedStateFromProps,(p="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==o||l!==c)&&dn(t,s,o,c),ll=!1,l=t.memoizedState,s.state=l,ln(t,o,s,r),h=t.memoizedState,a!==o||l!==h||Ba.current||ll?("function"===typeof u&&(un(t,n,u,o),h=t.memoizedState),(u=ll||pn(t,n,a,o,l,h,c))?(p||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(o,h,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,h,c)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=o,t.memoizedState=h),s.props=o,s.state=h,s.context=c,o=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),o=!1);return lo(e,t,n,o,i,r)}function lo(e,t,n,o,r,i){io(e,t);var s=0!==(64&t.effectTag);if(!o&&!s)return r&&Wt(t,n,!1),_o(e,t,i);o=t.stateNode,Pl.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.effectTag|=1,null!==e&&s?(t.child=dl(t,e.child,null,i),t.child=dl(t,null,a,i)):to(e,t,a,i),t.memoizedState=o.state,r&&Wt(t,n,!0),t.child}function co(e){var t=e.stateNode;t.pendingContext?Ft(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ft(e,t.context,!1),yn(e,t.containerInfo)}function uo(e,t,n){var o,r=t.mode,i=t.pendingProps,s=yl.current,a=!1;if((o=0!==(64&t.effectTag))||(o=0!==(2&s)&&(null===e||null!==e.memoizedState)),o?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),Pt(yl,1&s),null===e){if(void 0!==i.fallback&&Zn(t),a){if(a=i.fallback,i=Er(null,r,0,null),i.return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return n=Er(a,r,n,null),n.return=t,i.sibling=n,t.memoizedState=Ll,t.child=i,n}return r=i.children,t.memoizedState=null,t.child=fl(t,null,r,n)}if(null!==e.memoizedState){if(e=e.child,r=e.sibling,a){if(i=i.fallback,n=yr(e,e.pendingProps),n.return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return r=yr(r,i),r.return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ll,t.child=n,r}return n=dl(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=i.fallback,i=Er(null,r,0,null),i.return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return n=Er(a,r,n,null),n.return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Ll,t.child=i,n}return t.memoizedState=null,t.child=dl(t,e,i.children,n)}function po(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),$t(e.return,t)}function ho(e,t,n,o,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailExpiration:0,tailMode:r,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=n,s.tailExpiration=0,s.tailMode=r,s.lastEffect=i)}function fo(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(to(e,t,o.children,n),0!==(2&(o=yl.current)))o=1&o|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&po(e,n);else if(19===e.tag)po(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Pt(yl,o),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)e=n.alternate,null!==e&&null===On(e)&&(r=n),n=n.sibling;n=r,null===n?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ho(t,!1,r,n,i,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===On(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ho(t,!0,n,null,i,t.lastEffect);break;case"together":ho(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function _o(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&$o(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(e=t.child,n=yr(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=yr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function go(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function mo(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Lt(t.type)&&Bt(),null;case 3:return bn(),Mt(Ba),Mt(La),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!$n(t)||(t.effectTag|=4),Da(t),null;case 5:Tn(t),n=vn(vl.current);var i=t.type;if(null!==e&&null!=t.stateNode)Aa(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=vn(gl.current),$n(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[ws]=t,r[Is]=s,i){case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(e=0;e<Ki.length;e++)ke(Ki[e],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"form":ke("reset",r),ke("submit",r);break;case"details":ke("toggle",r);break;case"input":x(r,s),ke("invalid",r),Le(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r),Le(n,"onChange");break;case"textarea":G(r,s),ke("invalid",r),Le(n,"onChange")}Pe(i,s),e=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];"children"===a?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):ei.hasOwnProperty(a)&&null!=l&&Le(n,a)}switch(i){case"input":N(r),F(r,s,!0);break;case"textarea":N(r),K(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Be)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(a=9===n.nodeType?n:n.ownerDocument,e===vs&&(e=X(i)),e===vs?"script"===i?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=a.createElement(i,{is:r.is}):(e=a.createElement(i),"select"===i&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,i),e[ws]=t,e[Is]=r,Ia(e,t,!1,!1),t.stateNode=e,a=xe(i,r),i){case"iframe":case"object":case"embed":ke("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ki.length;l++)ke(Ki[l],e);l=r;break;case"source":ke("error",e),l=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=r;break;case"form":ke("reset",e),ke("submit",e),l=r;break;case"details":ke("toggle",e),l=r;break;case"input":x(e,r),l=P(e,r),ke("invalid",e),Le(n,"onChange");break;case"option":l=W(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=jr({},r,{value:void 0}),ke("invalid",e),Le(n,"onChange");break;case"textarea":G(e,r),l=H(e,r),ke("invalid",e),Le(n,"onChange");break;default:l=r}Pe(i,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?Me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&xi(e,u):"children"===s?"string"===typeof u?("textarea"!==i||""!==u)&&z(e,u):"number"===typeof u&&z(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(ei.hasOwnProperty(s)?null!=u&&Le(n,s):null!=u&&C(e,s,u,a))}switch(i){case"input":N(e),F(e,r,!1);break;case"textarea":N(e),K(e);break;case"option":null!=r.value&&e.setAttribute("value",""+I(r.value));break;case"select":e.multiple=!!r.multiple,n=r.value,null!=n?V(e,!!r.multiple,n,!1):null!=r.defaultValue&&V(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=Be)}Ge(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=vn(vl.current),vn(gl.current),$n(t)?(n=t.stateNode,r=t.memoizedProps,n[ws]=t,n.nodeValue!==r&&(t.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r),n[ws]=t,t.stateNode=n)}return null;case 13:return Mt(yl),(r=t.memoizedState,0!==(64&t.effectTag))?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&$n(t):(i=e.memoizedState,r=null!==i,n||null===i||null!==(i=e.child.sibling)&&(s=t.firstEffect,null!==s?(t.firstEffect=i,i.nextEffect=s):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&yl.current)?oc===Xl&&(oc=ql):(oc!==Xl&&oc!==ql||(oc=Zl),0!==lc&&null!==ec&&(kr(ec,nc),Rr(ec,lc)))),(n||r)&&(t.effectTag|=4),null);case 4:return bn(),Da(t),null;case 10:return Qt(t),null;case 17:return Lt(t.type)&&Bt(),null;case 19:if(Mt(yl),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(s=r.rendering)){if(i)go(r,!1);else if(oc!==Xl||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=On(s))){for(t.effectTag|=64,go(r,!1),i=e.updateQueue,null!==i&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)i=r,s=n,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,e=i.alternate,null===e?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Pt(yl,1&yl.current|2),t.child}s=s.sibling}}else{if(!i)if(null!==(e=On(s))){if(t.effectTag|=64,i=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.effectTag|=4),go(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return t=t.lastEffect=r.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*ol()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,go(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,null!==n?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ol()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ol(),n.sibling=null,t=yl.current,Pt(yl,i?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function vo(e){switch(e.tag){case 1:Lt(e.type)&&Bt();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(bn(),Mt(Ba),Mt(La),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Tn(e),null;case 13:return Mt(yl),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Mt(yl),null;case 4:return bn(),null;case 10:return Qt(e),null;default:return null}}function yo(e,t){return{value:e,source:t,stack:w(t)}}function bo(e,t){var n=t.source,o=t.stack;null===o&&null!==n&&(o=w(n)),null!==n&&R(n.type),t=t.value,null!==e&&1===e.tag&&R(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Eo(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){pr(e,t)}}function To(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){pr(e,t)}else t.current=null}function Oo(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:qt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Co(e,t){if(t=t.updateQueue,null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,void 0!==o&&o()}n=n.next}while(n!==t)}}function So(e,t){if(t=t.updateQueue,null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ko(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void So(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:qt(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&cn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}cn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Ge(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&Ce(n));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function Ro(e,t,n){switch("function"===typeof Cc&&Cc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var o=e.next;Gt(97<n?97:n,function(){var e=o;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){pr(r,e)}}e=e.next}while(e!==o)})}break;case 1:To(t),n=t.stateNode,"function"===typeof n.componentWillUnmount&&Eo(t,n);break;case 5:To(t);break;case 4:Mo(e,t,n)}}function wo(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&wo(t)}function Io(e){return 5===e.tag||3===e.tag||4===e.tag}function Do(e){e:{for(var t=e.return;null!==t;){if(Io(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(z(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Io(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?Ao(e,n,t):No(e,n,t)}function Ao(e,t,n){var o=e.tag,r=5===o||6===o;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Be));else if(4!==o&&null!==(e=e.child))for(Ao(e,t,n),e=e.sibling;null!==e;)Ao(e,t,n),e=e.sibling}function No(e,t,n){var o=e.tag,r=5===o||6===o;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(No(e,t,n),e=e.sibling;null!==e;)No(e,t,n),e=e.sibling}function Mo(e,t,n){for(var r,i,s=t,a=!1;;){if(!a){a=s.return;e:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===s.tag||6===s.tag){e:for(var l=e,c=s,u=n,p=c;;)if(Ro(l,p,u),null!==p.child&&4!==p.tag)p.child.return=p,p=p.child;else{if(p===c)break e;for(;null===p.sibling;){if(null===p.return||p.return===c)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i?(l=r,c=s.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(Ro(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return,4===s.tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function Po(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Co(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Is]=r,"input"===e&&"radio"===r.type&&null!=r.name&&L(n,r),xe(e,i),t=xe(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?Me(n,l):"dangerouslySetInnerHTML"===a?xi(n,l):"children"===a?z(n,l):C(n,a,l,t)}switch(e){case"input":B(n,r);break;case"textarea":Y(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,e=r.value,null!=e?V(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?V(n,!!r.multiple,r.defaultValue,!0):V(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return t=t.stateNode,void(t.hydrate&&(t.hydrate=!1,Ce(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,uc=ol()),null!==n)e:for(e=n;;){if(5===e.tag)s=e.stateNode,r?(s=s.style,"function"===typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(s=e.stateNode,i=e.memoizedProps.style,i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,s.style.display=Ne("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){s=e.child.sibling,s.return=e,e=s;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void xo(t);case 19:return void xo(t);case 17:return}throw Error(o(163))}function xo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Fl),t.forEach(function(t){var o=dr.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}}function Lo(e,t,n){n=rn(n,null),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){dc||(dc=!0,fc=o),bo(e,t)},n}function Bo(e,t,n){n=rn(n,null),n.tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return bo(e,t),o(r)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof o&&(null===_c?_c=new Set([this]):_c.add(this),bo(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function Fo(){return($l&(Yl|Kl))!==Hl?1073741821-(ol()/10|0):0!==Tc?Tc:Tc=1073741821-(ol()/10|0)}function Uo(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Vt();if(0===(4&t))return 99===r?1073741823:1073741822;if(($l&Yl)!==Hl)return nc;if(null!==n)e=zt(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=zt(e,150,100);break;case 97:case 96:e=zt(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==ec&&e===nc&&--e,e}function jo(e,t){if(50<bc)throw bc=0,Ec=null,Error(o(185));if(null!==(e=Wo(e,t))){var n=Vt();1073741823===t?($l&Gl)!==Hl&&($l&(Yl|Kl))===Hl?Yo(e):(Ho(e),$l===Hl&&Xt()):Ho(e),(4&$l)===Hl||98!==n&&99!==n||(null===yc?yc=new Map([[e,t]]):(void 0===(n=yc.get(e))||n>t)&&yc.set(e,t))}}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var o=e.return,r=null;if(null===o&&3===e.tag)r=e.stateNode;else for(;null!==o;){if(n=o.alternate,o.childExpirationTime<t&&(o.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===o.return&&3===o.tag){r=o.stateNode;break}o=o.return}return null!==r&&(ec===r&&($o(t),oc===Zl&&kr(r,nc)),Rr(r,t)),r}function Vo(e){var t=e.lastExpiredTime;if(0!==t)return t;if(t=e.firstPendingTime,!Sr(e,t))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Ho(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Kt(Yo.bind(null,e));else{var t=Vo(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var o=Fo();if(1073741823===t?o=99:1===t||2===t?o=95:(o=10*(1073741821-t)-10*(1073741821-o),o=0>=o?99:250>=o?98:5250>=o?97:95),null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=o)return;n!==qa&&Wa(n)}e.callbackExpirationTime=t,e.callbackPriority=o,t=1073741823===t?Kt(Yo.bind(null,e)):Yt(o,Go.bind(null,e),{timeout:10*(1073741821-t)-ol()}),e.callbackNode=t}}}function Go(e,t){if(Tc=0,t)return t=Fo(),wr(e,t),Ho(e),null;var n=Vo(e);if(0!==n){if(t=e.callbackNode,($l&(Yl|Kl))!==Hl)throw Error(o(327));if(lr(),e===ec&&n===nc||zo(e,n),null!==tc){var r=$l;$l|=Yl;for(var i=Zo();;)try{tr();break}catch(t){qo(e,t)}if(Zt(),$l=r,Wl.current=i,oc===Jl)throw t=rc,zo(e,n),kr(e,n),Ho(e),t;if(null===tc)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=oc,ec=null,r){case Xl:case Jl:throw Error(o(345));case zl:wr(e,2<n?2:n);break;case ql:if(kr(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=rr(i)),1073741823===ic&&10<(i=uc+pc-ol())){if(cc){var s=e.lastPingedTime;if(0===s||s>=n){e.lastPingedTime=n,zo(e,n);break}}if(0!==(s=Vo(e))&&s!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Ss(ir.bind(null,e),i);break}ir(e);break;case Zl:if(kr(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=rr(i)),cc&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,zo(e,n);break}if(0!==(i=Vo(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==sc?r=10*(1073741821-sc)-ol():1073741823===ic?r=0:(r=10*(1073741821-ic)-5e3,i=ol(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r,n<r&&(r=n)),10<r){e.timeoutHandle=Ss(ir.bind(null,e),r);break}ir(e);break;case Ql:if(1073741823!==ic&&null!==ac){s=ic;var a=ac;if(r=0|a.busyMinDurationMs,0>=r?r=0:(i=0|a.busyDelayMs,s=ol()-(10*(1073741821-s)-(0|a.timeoutMs||5e3)),r=s<=i?0:i+r-s),10<r){kr(e,n),e.timeoutHandle=Ss(ir.bind(null,e),r);break}}ir(e);break;default:throw Error(o(329))}if(Ho(e),e.callbackNode===t)return Go.bind(null,e)}}return null}function Yo(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,($l&(Yl|Kl))!==Hl)throw Error(o(327));if(lr(),e===ec&&t===nc||zo(e,t),null!==tc){var n=$l;$l|=Yl;for(var r=Zo();;)try{er();break}catch(t){qo(e,t)}if(Zt(),$l=n,Wl.current=r,oc===Jl)throw n=rc,zo(e,t),kr(e,t),Ho(e),n;if(null!==tc)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ec=null,ir(e),Ho(e)}return null}function Ko(){if(null!==yc){var e=yc;yc=null,e.forEach(function(e,t){wr(t,e),Ho(t)}),Xt()}}function Xo(e,t){var n=$l;$l|=1;try{return e(t)}finally{($l=n)===Hl&&Xt()}}function Jo(e,t){var n=$l;$l&=-2,$l|=Gl;try{return e(t)}finally{($l=n)===Hl&&Xt()}}function zo(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ks(n)),null!==tc)for(n=tc.return;null!==n;){var o=n;switch(o.tag){case 1:o=o.type.childContextTypes,null!==o&&void 0!==o&&Bt();break;case 3:bn(),Mt(Ba),Mt(La);break;case 5:Tn(o);break;case 4:bn();break;case 13:case 19:Mt(yl);break;case 10:Qt(o)}n=n.return}ec=e,tc=yr(e.current,null),nc=t,oc=Xl,rc=null,sc=ic=1073741823,ac=null,lc=0,cc=!1}function qo(e,t){for(;;){try{if(Zt(),bl.current=Rl,kl)for(var n=Ol.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}if(Tl=0,Sl=Cl=Ol=null,kl=!1,null===tc||null===tc.return)return oc=Jl,rc=t,tc=null;e:{var r=e,i=tc.return,s=tc,a=t;if(t=nc,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var l=a;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var u=0!==(1&yl.current),p=i;do{var h;if(h=13===p.tag){var d=p.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var f=p.memoizedProps;h=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(h){var _=p.updateQueue;if(null===_){var g=new Set;g.add(l),p.updateQueue=g}else _.add(l);if(0===(2&p.mode)){if(p.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=rn(1073741823,null);m.tag=2,sn(s,m)}s.expirationTime=1073741823;break e}a=void 0,s=t;var v=r.pingCache;if(null===v?(v=r.pingCache=new Ul,a=new Set,v.set(l,a)):void 0===(a=v.get(l))&&(a=new Set,v.set(l,a)),!a.has(s)){a.add(s);var y=hr.bind(null,r,l,s);l.then(y,y)}p.effectTag|=4096,p.expirationTime=t;break e}p=p.return}while(null!==p);a=Error((R(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+w(s))}oc!==Ql&&(oc=zl),a=yo(a,s),p=i;do{switch(p.tag){case 3:l=a,p.effectTag|=4096,p.expirationTime=t;an(p,Lo(p,l,t));break e;case 1:l=a;var b=p.type,E=p.stateNode;if(0===(64&p.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===_c||!_c.has(E)))){p.effectTag|=4096,p.expirationTime=t;an(p,Bo(p,l,t));break e}}p=p.return}while(null!==p)}tc=or(tc)}catch(e){t=e;continue}break}}function Zo(){var e=Wl.current;return Wl.current=Rl,null===e?Rl:e}function Qo(e,t){e<ic&&2<e&&(ic=e),null!==t&&e<sc&&2<e&&(sc=e,ac=t)}function $o(e){e>lc&&(lc=e)}function er(){for(;null!==tc;)tc=nr(tc)}function tr(){for(;null!==tc&&!Za();)tc=nr(tc)}function nr(e){var t=Bl(e.alternate,e,nc);return e.memoizedProps=e.pendingProps,null===t&&(t=or(e)),Vl.current=null,t}function or(e){tc=e;do{var t=tc.alternate;if(e=tc.return,0===(2048&tc.effectTag)){if(t=mo(t,tc,nc),1===nc||1!==tc.childExpirationTime){for(var n=0,o=tc.child;null!==o;){var r=o.expirationTime,i=o.childExpirationTime;r>n&&(n=r),i>n&&(n=i),o=o.sibling}tc.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=tc.firstEffect),null!==tc.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=tc.firstEffect),e.lastEffect=tc.lastEffect),1<tc.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=tc:e.firstEffect=tc,e.lastEffect=tc))}else{if(null!==(t=vo(tc)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=tc.sibling))return t;tc=e}while(null!==tc);return oc===Xl&&(oc=Ql),null}function rr(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function ir(e){var t=Vt();return Gt(99,sr.bind(null,e,t)),null}function sr(e,t){do{lr()}while(null!==mc);if(($l&(Yl|Kl))!==Hl)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=rr(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ec&&(tc=ec=null,nc=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var s=$l;$l|=Kl,Vl.current=null,Os=fs;var a=Ve();if(He(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,_=0,g=0,m=a,v=null;t:for(;;){for(var y;m!==l||0!==u&&3!==m.nodeType||(d=h+u),m!==p||0!==c&&3!==m.nodeType||(f=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===a)break t;if(v===l&&++_===u&&(d=h),v===p&&++g===c&&(f=h),null!==(y=m.nextSibling))break;m=v,v=m.parentNode}m=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;Cs={activeElementDetached:null,focusedElem:a,selectionRange:l},fs=!1,hc=i;do{try{ar()}catch(e){if(null===hc)throw Error(o(330));pr(hc,e),hc=hc.nextEffect}}while(null!==hc);hc=i;do{try{for(a=e,l=t;null!==hc;){var b=hc.effectTag;if(16&b&&z(hc.stateNode,""),128&b){var E=hc.alternate;if(null!==E){var T=E.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&b){case 2:Do(hc),hc.effectTag&=-3;break;case 6:Do(hc),hc.effectTag&=-3,Po(hc.alternate,hc);break;case 1024:hc.effectTag&=-1025;break;case 1028:hc.effectTag&=-1025,Po(hc.alternate,hc);break;case 4:Po(hc.alternate,hc);break;case 8:u=hc,Mo(a,u,l),wo(u)}hc=hc.nextEffect}}catch(e){if(null===hc)throw Error(o(330));pr(hc,e),hc=hc.nextEffect}}while(null!==hc);if(T=Cs,E=Ve(),b=T.focusedElem,l=T.selectionRange,E!==b&&b&&b.ownerDocument&&We(b.ownerDocument.documentElement,b)){null!==l&&He(b)&&(E=l.start,T=l.end,void 0===T&&(T=E),"selectionStart"in b?(b.selectionStart=E,b.selectionEnd=Math.min(T,b.value.length)):(T=(E=b.ownerDocument||document)&&E.defaultView||window,T.getSelection&&(T=T.getSelection(),u=b.textContent.length,a=Math.min(l.start,u),l=void 0===l.end?a:Math.min(l.end,u),!T.extend&&a>l&&(u=l,l=a,a=u),u=je(b,a),p=je(b,l),u&&p&&(1!==T.rangeCount||T.anchorNode!==u.node||T.anchorOffset!==u.offset||T.focusNode!==p.node||T.focusOffset!==p.offset)&&(E=E.createRange(),E.setStart(u.node,u.offset),T.removeAllRanges(),a>l?(T.addRange(E),T.extend(p.node,p.offset)):(E.setEnd(p.node,p.offset),T.addRange(E)))))),E=[];for(T=b;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<E.length;b++)T=E[b],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}fs=!!Os,Cs=Os=null,e.current=n,hc=i;do{try{for(b=e;null!==hc;){var O=hc.effectTag;if(36&O&&ko(b,hc.alternate,hc),128&O){E=void 0;var C=hc.ref;if(null!==C){var S=hc.stateNode;switch(hc.tag){case 5:E=S;break;default:E=S}"function"===typeof C?C(E):C.current=E}}hc=hc.nextEffect}}catch(e){if(null===hc)throw Error(o(330));pr(hc,e),hc=hc.nextEffect}}while(null!==hc);hc=null,Qa(),$l=s}else e.current=n;if(gc)gc=!1,mc=e,vc=t;else for(hc=i;null!==hc;)t=hc.nextEffect,hc.nextEffect=null,hc=t;if(t=e.firstPendingTime,0===t&&(_c=null),1073741823===t?e===Ec?bc++:(bc=0,Ec=e):bc=0,"function"===typeof Oc&&Oc(n.stateNode,r),Ho(e),dc)throw dc=!1,e=fc,fc=null,e;return($l&Gl)!==Hl?null:(Xt(),null)}function ar(){for(;null!==hc;){var e=hc.effectTag;0!==(256&e)&&Oo(hc.alternate,hc),0===(512&e)||gc||(gc=!0,Yt(97,function(){return lr(),null})),hc=hc.nextEffect}}function lr(){if(90!==vc){var e=97<vc?97:vc;return vc=90,Gt(e,cr)}}function cr(){if(null===mc)return!1;var e=mc;if(mc=null,($l&(Yl|Kl))!==Hl)throw Error(o(331));var t=$l;for($l|=Kl,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Co(5,n),So(5,n)}}catch(t){if(null===e)throw Error(o(330));pr(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return $l=t,Xt(),!0}function ur(e,t,n){t=yo(n,t),t=Lo(e,t,1073741823),sn(e,t),null!==(e=Wo(e,1073741823))&&Ho(e)}function pr(e,t){if(3===e.tag)ur(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ur(n,e,t);break}if(1===n.tag){var o=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===_c||!_c.has(o))){e=yo(t,e),e=Bo(n,e,1073741823),sn(n,e),n=Wo(n,1073741823),null!==n&&Ho(n);break}}n=n.return}}function hr(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),ec===e&&nc===n?oc===Zl||oc===ql&&1073741823===ic&&ol()-uc<pc?zo(e,nc):cc=!0:Sr(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Ho(e)))}function dr(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=Fo(),t=Uo(t,e,null)),null!==(e=Wo(e,t))&&Ho(e)}function fr(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Oc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(e){}},Cc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function _r(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function gr(e,t,n,o){return new _r(e,t,n,o)}function mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function vr(e){if("function"===typeof e)return mr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Ri)return 11;if(e===Di)return 14}return 2}function yr(e,t){var n=e.alternate;return null===n?(n=gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function br(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)mr(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case Ei:return Er(n.children,i,s,t);case ki:a=8,i|=7;break;case Ti:a=8,i|=1;break;case Oi:return e=gr(12,n,t,8|i),e.elementType=Oi,e.type=Oi,e.expirationTime=s,e;case wi:return e=gr(13,n,t,i),e.type=wi,e.elementType=wi,e.expirationTime=s,e;case Ii:return e=gr(19,n,t,i),e.elementType=Ii,e.expirationTime=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Ci:a=10;break e;case Si:a=9;break e;case Ri:a=11;break e;case Di:a=14;break e;case Ai:a=16,r=null;break e;case Ni:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return t=gr(a,n,t,i),t.elementType=e,t.type=r,t.expirationTime=s,t}function Er(e,t,n,o){return e=gr(7,e,o,t),e.expirationTime=n,e}function Tr(e,t,n){return e=gr(6,e,null,t),e.expirationTime=n,e}function Or(e,t,n){return t=gr(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cr(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Sr(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function kr(e,t){var n=e.firstSuspendedTime,o=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(o>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rr(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function wr(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ir(e,t,n,r){var i=t.current,s=Fo(),a=cl.suspense;s=Uo(s,i,a);e:if(n){n=n._reactInternalFiber;t:{if($(n)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Lt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(Lt(c)){n=Ut(n,c,l);break e}}n=l}else n=xa;return null===t.context?t.context=n:t.pendingContext=n,t=rn(s,a),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),sn(i,t),jo(i,s),s}function Dr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ar(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Nr(e,t){Ar(e,t),(e=e.alternate)&&Ar(e,t)}function Mr(e,t,n){n=null!=n&&!0===n.hydrate;var o=new Cr(e,t,n),r=gr(3,null,null,2===t?7:1===t?3:0);o.current=r,r.stateNode=o,nn(r),e[Ds]=o.current,n&&0!==t&&fe(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=o}function Pr(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function xr(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Mr(e,0,t?{hydrate:!0}:void 0)}function Lr(e,t,n,o,r){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if("function"===typeof r){var a=r;r=function(){var e=Dr(s);a.call(e)}}Ir(t,s,e,r)}else{if(i=n._reactRootContainer=xr(n,o),s=i._internalRoot,"function"===typeof r){var l=r;r=function(){var e=Dr(s);l.call(e)}}Jo(function(){Ir(t,s,e,r)})}return Dr(s)}function Br(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:bi,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}function Fr(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pr(t))throw Error(o(200));return Br(e,t,null,n)}var Ur=n(0),jr=n(102),Wr=n(300);if(!Ur)throw Error(o(227));var Vr=!1,Hr=null,Gr=!1,Yr=null,Kr={onError:function(e){Vr=!0,Hr=e}},Xr=null,Jr=null,zr=null,qr=null,Zr={},Qr=[],$r={},ei={},ti={},ni=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),oi=null,ri=null,ii=null,si=f,ai=!1,li=!1,ci=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ui=Object.prototype.hasOwnProperty,pi={},hi={},di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){di[e]=new T(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];di[t]=new T(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){di[e]=new T(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){di[e]=new T(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){di[e]=new T(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){di[e]=new T(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){di[e]=new T(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){di[e]=new T(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){di[e]=new T(e,5,!1,e.toLowerCase(),null,!1)});var fi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fi,O);di[t]=new T(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fi,O);di[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fi,O);di[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){di[e]=new T(e,1,!1,e.toLowerCase(),null,!1)}),di.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){di[e]=new T(e,1,!1,e.toLowerCase(),null,!0)});var _i=Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_i.hasOwnProperty("ReactCurrentDispatcher")||(_i.ReactCurrentDispatcher={current:null}),_i.hasOwnProperty("ReactCurrentBatchConfig")||(_i.ReactCurrentBatchConfig={suspense:null});var gi,mi=/^(.*)[\\\/]/,vi="function"===typeof Symbol&&Symbol.for,yi=vi?Symbol.for("react.element"):60103,bi=vi?Symbol.for("react.portal"):60106,Ei=vi?Symbol.for("react.fragment"):60107,Ti=vi?Symbol.for("react.strict_mode"):60108,Oi=vi?Symbol.for("react.profiler"):60114,Ci=vi?Symbol.for("react.provider"):60109,Si=vi?Symbol.for("react.context"):60110,ki=vi?Symbol.for("react.concurrent_mode"):60111,Ri=vi?Symbol.for("react.forward_ref"):60112,wi=vi?Symbol.for("react.suspense"):60113,Ii=vi?Symbol.for("react.suspense_list"):60120,Di=vi?Symbol.for("react.memo"):60115,Ai=vi?Symbol.for("react.lazy"):60116,Ni=vi?Symbol.for("react.block"):60121,Mi="function"===typeof Symbol&&Symbol.iterator,Pi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},xi=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Pi.svg||"innerHTML"in e)e.innerHTML=t;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Li={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},Bi={},Fi={};ni&&(Fi=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);var Ui,ji,Wi,Vi=Z("animationend"),Hi=Z("animationiteration"),Gi=Z("animationstart"),Yi=Z("transitionend"),Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xi=new("function"===typeof WeakMap?WeakMap:Map),Ji=null,zi=[],qi=!1,Zi=[],Qi=null,$i=null,es=null,ts=new Map,ns=new Map,os=[],rs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),is="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),ss={},as=new Map,ls=new Map,cs=["abort","abort",Vi,"animationEnd",Hi,"animationIteration",Gi,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Yi,"transitionEnd","waiting","waiting"];Se("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Se("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Se(cs,2);for(var us="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ps=0;ps<us.length;ps++)ls.set(us[ps],0);var hs=Wr.unstable_UserBlockingPriority,ds=Wr.unstable_runWithPriority,fs=!0,_s={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(e){gs.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_s[t]=_s[e]})});var ms=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),vs=Pi.html,ys="$",bs="/$",Es="$?",Ts="$!",Os=null,Cs=null,Ss="function"===typeof setTimeout?setTimeout:void 0,ks="function"===typeof clearTimeout?clearTimeout:void 0,Rs=Math.random().toString(36).slice(2),ws="__reactInternalInstance$"+Rs,Is="__reactEventHandlers$"+Rs,Ds="__reactContainere$"+Rs,As=null,Ns=null,Ms=null;jr(lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=st)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=st)},persist:function(){this.isPersistent=st},isPersistent:at,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=at,this._dispatchInstances=this._dispatchListeners=null}}),lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},lt.extend=function(e){function t(){}function n(){return o.apply(this,arguments)}var o=this;t.prototype=o.prototype;var r=new t;return jr(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=jr({},o.Interface,e),n.extend=o.extend,pt(n),n},pt(lt);var Ps=lt.extend({data:null}),xs=lt.extend({data:null}),Ls=[9,13,27,32],Bs=ni&&"CompositionEvent"in window,Fs=null;ni&&"documentMode"in document&&(Fs=document.documentMode);var Us=ni&&"TextEvent"in window&&!Fs,js=ni&&(!Bs||Fs&&8<Fs&&11>=Fs),Ws=String.fromCharCode(32),Vs={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Hs=!1,Gs=!1,Ys={eventTypes:Vs,extractEvents:function(e,t,n,o){var r;if(Bs)e:{switch(e){case"compositionstart":var i=Vs.compositionStart;break e;case"compositionend":i=Vs.compositionEnd;break e;case"compositionupdate":i=Vs.compositionUpdate;break e}i=void 0}else Gs?ht(e,n)&&(i=Vs.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Vs.compositionStart);return i?(js&&"ko"!==n.locale&&(Gs||i!==Vs.compositionStart?i===Vs.compositionEnd&&Gs&&(r=it()):(As=o,Ns="value"in As?As.value:As.textContent,Gs=!0)),i=Ps.getPooled(i,t,n,o),r?i.data=r:null!==(r=dt(n))&&(i.data=r),rt(i),r=i):r=null,(e=Us?ft(e,n):_t(e,n))?(t=xs.getPooled(Vs.beforeInput,t,n,o),t.data=e,rt(t)):t=null,null===r?t:null===t?r:[r,t]}},Ks={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xs={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Js=null,zs=null,qs=!1;ni&&(qs=ce("input")&&(!document.documentMode||9<document.documentMode));var Zs={eventTypes:Xs,_isInputEventSupported:qs,extractEvents:function(e,t,n,o){var r=t?qe(t):window,i=r.nodeName&&r.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===r.type)var s=bt;else if(gt(r))if(qs)s=kt;else{s=Ct;var a=Ot}else(i=r.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=St);if(s&&(s=s(e,t)))return mt(s,n,o);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&U(r,"number",r.value)}},Qs=lt.extend({view:null,detail:null}),$s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ea=0,ta=0,na=!1,oa=!1,ra=Qs.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=ea;return ea=e.screenX,na?"mousemove"===e.type?e.screenX-t:0:(na=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=ta;return ta=e.screenY,oa?"mousemove"===e.type?e.screenY-t:0:(oa=!0,0)}}),ia=ra.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),sa={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},aa={eventTypes:sa,extractEvents:function(e,t,n,o,r){var i="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(i&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!s&&!i)return null;if(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,s){if(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?Je(t):null)){var a=$(t);(t!==a||5!==t.tag&&6!==t.tag)&&(t=null)}}else s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var l=ra,c=sa.mouseLeave,u=sa.mouseEnter,p="mouse";else"pointerout"!==e&&"pointerover"!==e||(l=ia,c=sa.pointerLeave,u=sa.pointerEnter,p="pointer");if(e=null==s?i:qe(s),i=null==t?i:qe(t),c=l.getPooled(c,s,n,o),c.type=p+"leave",c.target=e,c.relatedTarget=i,n=l.getPooled(u,t,n,o),n.type=p+"enter",n.target=i,n.relatedTarget=e,o=s,p=t,o&&p)e:{for(l=o,u=p,s=0,e=l;e;e=Qe(e))s++;for(e=0,t=u;t;t=Qe(t))e++;for(;0<s-e;)l=Qe(l),s--;for(;0<e-s;)u=Qe(u),e--;for(;s--;){if(l===u||l===u.alternate)break e;l=Qe(l),u=Qe(u)}l=null}else l=null;for(u=l,l=[];o&&o!==u&&(null===(s=o.alternate)||s!==u);)l.push(o),o=Qe(o);for(o=[];p&&p!==u&&(null===(s=p.alternate)||s!==u);)o.push(p),p=Qe(p);for(p=0;p<l.length;p++)nt(l[p],"bubbled",c);for(p=o.length;0<p--;)nt(o[p],"captured",n);return 0===(64&r)?[c]:[c,n]}},la="function"===typeof Object.is?Object.is:It,ca=Object.prototype.hasOwnProperty,ua=ni&&"documentMode"in document&&11>=document.documentMode,pa={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ha=null,da=null,fa=null,_a=!1,ga={eventTypes:pa,extractEvents:function(e,t,n,o,r,i){if(r=i||(o.window===o?o.document:9===o.nodeType?o:o.ownerDocument),!(i=!r)){e:{r=Q(r),i=ti.onSelect;for(var s=0;s<i.length;s++)if(!r.has(i[s])){r=!1;break e}r=!0}i=!r}if(i)return null;switch(r=t?qe(t):window,e){case"focus":(gt(r)||"true"===r.contentEditable)&&(ha=r,da=t,fa=null);break;case"blur":fa=da=ha=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":return _a=!1,At(n,o);case"selectionchange":if(ua)break;case"keydown":case"keyup":return At(n,o)}return null}},ma=lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),va=lt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ya=Qs.extend({relatedTarget:null}),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ea={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ta=Qs.extend({key:function(e){if(e.key){var t=ba[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Nt(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ea[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:wt,charCode:function(e){return"keypress"===e.type?Nt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Nt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Oa=ra.extend({dataTransfer:null}),Ca=Qs.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:wt}),Sa=lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ka=ra.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ra={eventTypes:ss,extractEvents:function(e,t,n,o){var r=as.get(e);if(!r)return null;switch(e){case"keypress":if(0===Nt(n))return null;case"keydown":case"keyup":e=Ta;break;case"blur":case"focus":e=ya;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ca;break;case Vi:case Hi:case Gi:e=ma;break;case Yi:e=Sa;break;case"scroll":e=Qs;break;case"wheel":e=ka;break;case"copy":case"cut":case"paste":e=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ia;break;default:e=lt}return t=e.getPooled(r,t,n,o),rt(t),t}};if(qr)throw Error(o(101));qr=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),l();var wa=ze;Xr=Ze,Jr=wa,zr=qe,u({SimpleEventPlugin:Ra,EnterLeaveEventPlugin:aa,ChangeEventPlugin:Zs,SelectEventPlugin:ga,BeforeInputEventPlugin:Ys});var Ia,Da,Aa,Na,Ma=[],Pa=-1,xa={},La={current:xa},Ba={current:!1},Fa=xa,Ua=Wr.unstable_runWithPriority,ja=Wr.unstable_scheduleCallback,Wa=Wr.unstable_cancelCallback,Va=Wr.unstable_requestPaint,Ha=Wr.unstable_now,Ga=Wr.unstable_getCurrentPriorityLevel,Ya=Wr.unstable_ImmediatePriority,Ka=Wr.unstable_UserBlockingPriority,Xa=Wr.unstable_NormalPriority,Ja=Wr.unstable_LowPriority,za=Wr.unstable_IdlePriority,qa={},Za=Wr.unstable_shouldYield,Qa=void 0!==Va?Va:function(){},$a=null,el=null,tl=!1,nl=Ha(),ol=1e4>nl?Ha:function(){return Ha()-nl},rl={current:null},il=null,sl=null,al=null,ll=!1,cl=_i.ReactCurrentBatchConfig,ul=(new Ur.Component).refs,pl={isMounted:function(e){return!!(e=e._reactInternalFiber)&&$(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var o=Fo(),r=cl.suspense;o=Uo(o,e,r),r=rn(o,r),r.payload=t,void 0!==n&&null!==n&&(r.callback=n),sn(e,r),jo(e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var o=Fo(),r=cl.suspense;o=Uo(o,e,r),r=rn(o,r),r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),sn(e,r),jo(e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Fo(),o=cl.suspense;n=Uo(n,e,o),o=rn(n,o),o.tag=2,void 0!==t&&null!==t&&(o.callback=t),sn(e,o),jo(e,n)}},hl=Array.isArray,dl=mn(!0),fl=mn(!1),_l={},gl={current:_l},ml={current:_l},vl={current:_l},yl={current:0},bl=_i.ReactCurrentDispatcher,El=_i.ReactCurrentBatchConfig,Tl=0,Ol=null,Cl=null,Sl=null,kl=!1,Rl={readContext:tn,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useResponder:Sn,useDeferredValue:Sn,useTransition:Sn},wl={readContext:tn,useCallback:Gn,useContext:tn,useEffect:Fn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ln(4,2,Wn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ln(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=wn();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e=o.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Jn.bind(null,Ol,e),[o.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Mn,useDebugValue:Hn,useResponder:Cn,useDeferredValue:function(e,t){var n=Mn(e),o=n[0],r=n[1];return Fn(function(){var n=El.suspense;El.suspense=void 0===t?null:t;try{r(e)}finally{El.suspense=n}},[e,t]),o},useTransition:function(e){var t=Mn(!1),n=t[0];return t=t[1],[Gn(Xn.bind(null,t,e),[t,e]),n]}},Il={readContext:tn,useCallback:Yn,useContext:tn,useEffect:Un,useImperativeHandle:Vn,useLayoutEffect:jn,useMemo:Kn,useReducer:An,useRef:xn,useState:function(){return An(Dn)},useDebugValue:Hn,useResponder:Cn,useDeferredValue:function(e,t){var n=An(Dn),o=n[0],r=n[1];return Un(function(){var n=El.suspense;El.suspense=void 0===t?null:t;try{r(e)}finally{El.suspense=n}},[e,t]),o},useTransition:function(e){var t=An(Dn),n=t[0];return t=t[1],[Yn(Xn.bind(null,t,e),[t,e]),n]}},Dl={readContext:tn,useCallback:Yn,useContext:tn,useEffect:Un,useImperativeHandle:Vn,useLayoutEffect:jn,useMemo:Kn,useReducer:Nn,useRef:xn,useState:function(){return Nn(Dn)},useDebugValue:Hn,useResponder:Cn,useDeferredValue:function(e,t){var n=Nn(Dn),o=n[0],r=n[1];return Un(function(){var n=El.suspense;El.suspense=void 0===t?null:t;try{r(e)}finally{El.suspense=n}},[e,t]),o},useTransition:function(e){var t=Nn(Dn),n=t[0];return t=t[1],[Yn(Xn.bind(null,t,e),[t,e]),n]}},Al=null,Nl=null,Ml=!1,Pl=_i.ReactCurrentOwner,xl=!1,Ll={dehydrated:null,retryTime:0};Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Aa=function(e,t,n,o,r){var i=e.memoizedProps;if(i!==o){var s=t.stateNode;switch(vn(gl.current),e=null,n){case"input":i=P(s,i),o=P(s,o),e=[];break;case"option":i=W(s,i),o=W(s,o),e=[];break;case"select":i=jr({},i,{value:void 0}),o=jr({},o,{value:void 0}),e=[];break;case"textarea":i=H(s,i),o=H(s,o),e=[];break;default:"function"!==typeof i.onClick&&"function"===typeof o.onClick&&(s.onclick=Be)}Pe(n,o);var a,l;n=null;for(a in i)if(!o.hasOwnProperty(a)&&i.hasOwnProperty(a)&&null!=i[a])if("style"===a)for(l in s=i[a])s.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(ei.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in o){var c=o[a];if(s=null!=i?i[a]:void 0,o.hasOwnProperty(a)&&c!==s&&(null!=c||null!=s))if("style"===a)if(s){for(l in s)!s.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&s[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(e=e||[]).push(a,c)):"children"===a?s===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(ei.hasOwnProperty(a)?(null!=c&&Le(r,a),e||s===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),r=e,(t.updateQueue=r)&&(t.effectTag|=4)}},Na=function(e,t,n,o){n!==o&&(t.effectTag|=4)};var Bl,Fl="function"===typeof WeakSet?WeakSet:Set,Ul="function"===typeof WeakMap?WeakMap:Map,jl=Math.ceil,Wl=_i.ReactCurrentDispatcher,Vl=_i.ReactCurrentOwner,Hl=0,Gl=8,Yl=16,Kl=32,Xl=0,Jl=1,zl=2,ql=3,Zl=4,Ql=5,$l=Hl,ec=null,tc=null,nc=0,oc=Xl,rc=null,ic=1073741823,sc=1073741823,ac=null,lc=0,cc=!1,uc=0,pc=500,hc=null,dc=!1,fc=null,_c=null,gc=!1,mc=null,vc=90,yc=null,bc=0,Ec=null,Tc=0;Bl=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ba.current)xl=!0;else{if(r<n){switch(xl=!1,t.tag){case 3:co(t),eo();break;case 5:if(En(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Lt(t.type)&&jt(t);break;case 4:yn(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Pt(rl,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?uo(e,t,n):(Pt(yl,1&yl.current),t=_o(e,t,n),null!==t?t.sibling:null);Pt(yl,1&yl.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return fo(e,t,n);t.effectTag|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null),Pt(yl,yl.current),!r)return null}return _o(e,t,n)}xl=!1}}else xl=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=xt(t,La.current),en(t,n),i=Rn(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)){var s=!0;jt(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,nn(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&un(t,r,a,e),i.updater=pl,t.stateNode=i,i._reactInternalFiber=t,fn(t,r,e,n),t=lo(null,t,r,!0,s,n)}else t.tag=0,to(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,k(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,s=t.tag=vr(i),e=qt(i,e),s){case 0:t=so(null,t,i,e,n);break e;case 1:t=ao(null,t,i,e,n);break e;case 11:t=no(null,t,i,e,n);break e;case 14:t=oo(null,t,i,qt(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),so(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),ao(e,t,r,i,n);case 3:if(co(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,on(e,t),ln(t,r,null,n),(r=t.memoizedState.element)===i)eo(),t=_o(e,t,n);else{if((i=t.stateNode.hydrate)&&(Nl=Ke(t.stateNode.containerInfo.firstChild),Al=t,i=Ml=!0),i)for(n=fl(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else to(e,t,r,n),eo();t=t.child}return t;case 5:return En(t),null===e&&Zn(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Ye(r,i)?a=null:null!==s&&Ye(r,s)&&(t.effectTag|=16),io(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(to(e,t,a,n),t=t.child),t;case 6:return null===e&&Zn(t),null;case 13:return uo(e,t,n);case 4:return yn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=dl(t,null,r,n):to(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),no(e,t,r,i,n);case 7:return to(e,t,t.pendingProps,n),t.child;case 8:case 12:return to(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(Pt(rl,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=la(l,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!Ba.current){t=_o(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&s)){1===l.tag&&(u=rn(n,null),u.tag=2,sn(l,u)),l.expirationTime<n&&(l.expirationTime=n),u=l.alternate,null!==u&&u.expirationTime<n&&(u.expirationTime=n),$t(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}to(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps,r=s.children,en(t,n),i=tn(i,s.unstable_observedBits),r=r(i),t.effectTag|=1,to(e,t,r,n),t.child;case 14:return i=t.type,s=qt(i,t.pendingProps),s=qt(i.type,s),oo(e,t,i,s,r,n);case 15:return ro(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Lt(r)?(e=!0,jt(t)):e=!1,en(t,n),hn(t,r,i),fn(t,r,i,n),lo(null,t,r,!0,e,n);case 19:return fo(e,t,n)}throw Error(o(156,t.tag))};var Oc=null,Cc=null;Mr.prototype.render=function(e){Ir(e,this._internalRoot,null,null)},Mr.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ir(null,e,null,function(){t[Ds]=null})},Ui=function(e){if(13===e.tag){var t=zt(Fo(),150,100);jo(e,t),Nr(e,t)}},ji=function(e){13===e.tag&&(jo(e,3),Nr(e,3))},Wi=function(e){if(13===e.tag){var t=Fo();t=Uo(t,e,null),jo(e,t),Nr(e,t)}},oi=function(e,t,n){switch(t){case"input":if(B(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ze(r);if(!i)throw Error(o(90));M(r),B(r,i)}}}break;case"textarea":Y(e,n);break;case"select":null!=(t=n.value)&&V(e,!!n.multiple,t,!1)}},f=Xo,_=function(e,t,n,o,r){var i=$l;$l|=4;try{return Gt(98,e.bind(null,t,n,o,r))}finally{($l=i)===Hl&&Xt()}},g=function(){($l&(1|Yl|Kl))===Hl&&(Ko(),lr())},si=function(e,t){var n=$l;$l|=2;try{return e(t)}finally{($l=n)===Hl&&Xt()}};var Sc={Events:[ze,qe,Ze,u,$r,rt,function(e){ie(e,ot)},h,d,De,ae,lr,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;fr(jr({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oe(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Je,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sc,t.createPortal=Fr,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=oe(t),e=null===e?null:e.stateNode},t.flushSync=function(e,t){if(($l&(Yl|Kl))!==Hl)throw Error(o(187));var n=$l;$l|=1;try{return Gt(99,e.bind(null,t))}finally{$l=n,Xt()}},t.hydrate=function(e,t,n){if(!Pr(t))throw Error(o(200));return Lr(null,e,t,!0,n)},t.render=function(e,t,n){if(!Pr(t))throw Error(o(200));return Lr(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Pr(e))throw Error(o(40));return!!e._reactRootContainer&&(Jo(function(){Lr(null,null,e,!1,function(){e._reactRootContainer=null,e[Ds]=null})}),!0)},t.unstable_batchedUpdates=Xo,t.unstable_createPortal=function(e,t){return Fr(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pr(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Lr(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(301)},function(e,t,n){"use strict";function o(e,t){var n=e.length;e.push(t);e:for(;;){var o=n-1>>>1,r=e[o];if(!(void 0!==r&&0<s(r,t)))break e;e[o]=t,e[n]=r,n=o}}function r(e){return e=e[0],void 0===e?null:e}function i(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length;o<r;){var i=2*(o+1)-1,a=e[i],l=i+1,c=e[l];if(void 0!==a&&0>s(a,n))void 0!==c&&0>s(c,a)?(e[o]=c,e[l]=n,o=l):(e[o]=a,e[i]=n,o=i);else{if(!(void 0!==c&&0>s(c,n)))break e;e[o]=c,e[l]=n,o=l}}}return t}return null}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function a(e){for(var t=r(P);null!==t;){if(null===t.callback)i(P);else{if(!(t.startTime<=e))break;i(P),t.sortIndex=t.expirationTime,o(M,t)}t=r(P)}}function l(e){if(j=!1,a(e),!U)if(null!==r(M))U=!0,p(c);else{var t=r(P);null!==t&&h(l,t.startTime-e)}}function c(e,n){U=!1,j&&(j=!1,d()),F=!0;var o=B;try{for(a(n),L=r(M);null!==L&&(!(L.expirationTime>n)||e&&!f());){var s=L.callback;if(null!==s){L.callback=null,B=L.priorityLevel;var c=s(L.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?L.callback=c:L===r(M)&&i(M),a(n)}else i(M);L=r(M)}if(null!==L)var u=!0;else{var p=r(P);null!==p&&h(l,p.startTime-n),u=!1}return u}finally{L=null,B=o,F=!1}}function u(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var p,h,d,f,_;if("undefined"===typeof window||"function"!==typeof MessageChannel){var g=null,m=null,v=function(){if(null!==g)try{var e=t.unstable_now();g(!0,e),g=null}catch(e){throw setTimeout(v,0),e}},y=Date.now();t.unstable_now=function(){return Date.now()-y},p=function(e){null!==g?setTimeout(p,0,e):(g=e,setTimeout(v,0))},h=function(e,t){m=setTimeout(e,t)},d=function(){clearTimeout(m)},f=function(){return!1},_=t.unstable_forceFrameRate=function(){}}else{var b=window.performance,E=window.Date,T=window.setTimeout,O=window.clearTimeout;if("undefined"!==typeof console){var C=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof C&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof b&&"function"===typeof b.now)t.unstable_now=function(){return b.now()};else{var S=E.now();t.unstable_now=function(){return E.now()-S}}var k=!1,R=null,w=-1,I=5,D=0;f=function(){return t.unstable_now()>=D},_=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):I=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,N=A.port2;A.port1.onmessage=function(){if(null!==R){var e=t.unstable_now();D=e+I;try{R(!0,e)?N.postMessage(null):(k=!1,R=null)}catch(e){throw N.postMessage(null),e}}else k=!1},p=function(e){R=e,k||(k=!0,N.postMessage(null))},h=function(e,n){w=T(function(){e(t.unstable_now())},n)},d=function(){O(w),w=-1}}var M=[],P=[],x=1,L=null,B=3,F=!1,U=!1,j=!1,W=_;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){U||F||(U=!0,p(c))},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return r(M)},t.unstable_next=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=W,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},t.unstable_scheduleCallback=function(e,n,i){var s=t.unstable_now();if("object"===typeof i&&null!==i){var a=i.delay;a="number"===typeof a&&0<a?s+a:s,i="number"===typeof i.timeout?i.timeout:u(e)}else i=u(e),a=s;return i=a+i,e={id:x++,callback:n,priorityLevel:e,startTime:a,expirationTime:i,sortIndex:-1},a>s?(e.sortIndex=a,o(P,e),null===r(M)&&e===r(P)&&(j?d():j=!0,h(l,a-s))):(e.sortIndex=i,o(M,e),U||F||(U=!0,p(c))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();a(e);var n=r(M);return n!==L&&null!==L&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<L.expirationTime||f()},t.unstable_wrapCallback=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(170),a=n.n(s),l=n(0),c=n.n(l),u=n(5),p=n.n(u),h=n(39),d=n(103),f=function(e){function t(){var n,i,s;o(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=r(this,e.call.apply(e,[this].concat(l))),i.history=Object(h.a)(i.props),s=n,r(i,s)}return i(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(c.a.Component);f.propTypes={basename:p.a.string,forceRefresh:p.a.bool,getUserConfirmation:p.a.func,keyLength:p.a.number,children:p.a.node},t.a=f},function(e,t,n){"use strict";function o(){}function r(){}var i=n(304);r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,o=n+1,r=e.length;o<r;n+=1,o+=1)e[n]=e[o];e.pop()}function i(e,t){void 0===t&&(t="");var n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&o(e),a=t&&o(t),l=s||a;if(e&&o(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var c;if(i.length){var u=i[i.length-1];c="."===u||".."===u||""===u}else c=!1;for(var p=0,h=i.length;h>=0;h--){var d=i[h];"."===d?r(i,h):".."===d?(r(i,h),p++):p&&(r(i,h),p--)}if(!l)for(;p--;p)i.unshift("..");!l||""===i[0]||i[0]&&o(i[0])||i.unshift("");var f=i.join("/");return c&&"/"!==f.substr(-1)&&(f+="/"),f}t.a=i},function(e,t,n){"use strict";function o(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===typeof e||"object"===typeof t){var n=o(e),i=o(t);return n!==e||i!==t?r(n,i):Object.keys(Object.assign({},e,t)).every(function(n){return r(e[n],t[n])})}return!1}t.a=r},function(e,t,n){"use strict"},function(e,t,n){"use strict";function o(e,t){if(!e){if(r)throw new Error(i);throw new Error(i+": "+(t||""))}}var r=!0,i="Invariant failed";t.a=o},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(170),a=n.n(s),l=n(0),c=n.n(l),u=n(5),p=n.n(u),h=n(39),d=n(103),f=function(e){function t(){var n,i,s;o(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=r(this,e.call.apply(e,[this].concat(l))),i.history=Object(h.b)(i.props),s=n,r(i,s)}return i(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(c.a.Component);f.propTypes={basename:p.a.string,getUserConfirmation:p.a.func,hashType:p.a.oneOf(["hashbang","noslash","slash"]),children:p.a.node}},function(e,t,n){"use strict";var o=n(311);o.a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(40),a=n.n(s),l=n(0),c=n.n(l),u=n(5),p=n.n(u),h=n(39),d=n(104),f=function(e){function t(){var n,i,s;o(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=r(this,e.call.apply(e,[this].concat(l))),i.history=Object(h.d)(i.props),s=n,r(i,s)}return i(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(c.a.Component);f.propTypes={initialEntries:p.a.array,initialIndex:p.a.number,getUserConfirmation:p.a.func,keyLength:p.a.number,children:p.a.node},t.a=f},function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var r=n(0),i=n.n(r),s=n(5),a=n.n(s),l=n(172),c=n(171),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e){var t=e.to,n=e.exact,r=e.strict,s=e.location,a=e.activeClassName,h=e.className,d=e.activeStyle,f=e.style,_=e.isActive,g=e["aria-current"],m=o(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),v="object"===("undefined"===typeof t?"undefined":p(t))?t.pathname:t,y=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return i.a.createElement(l.a,{path:y,exact:n,strict:r,location:s,children:function(e){var n=e.location,o=e.match,r=!!(_?_(o,n):o);return i.a.createElement(c.a,u({to:t,className:r?[h,a].filter(function(e){return e}).join(" "):h,style:r?u({},f,d):f,"aria-current":r&&g||null},m))}})};h.propTypes={to:c.a.propTypes.to,exact:a.a.bool,strict:a.a.bool,location:a.a.object,activeClassName:a.a.string,className:a.a.string,activeStyle:a.a.object,style:a.a.object,isActive:a.a.func,"aria-current":a.a.oneOf(["page","step","location","date","time","true"])},h.defaultProps={activeClassName:"active","aria-current":"page"}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var o=n(315);o.a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(5),c=n.n(l),u=n(9),p=n.n(u),h=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(a.a.Component);h.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},h.defaultProps={when:!0},h.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},t.a=h},function(e,t,n){"use strict";var o=n(317);o.a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(5),c=n.n(l),u=n(40),p=n.n(u),h=n(9),d=n.n(h),f=n(39),_=n(175),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(f.c)(e.to),n=Object(f.c)(this.props.to);if(Object(f.f)(t,n))return void p()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?Object(_.a)(n,t.params):g({},n,{pathname:Object(_.a)(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(a.a.Component);m.propTypes={computedMatch:c.a.object,push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},m.defaultProps={push:!1},m.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},t.a=m},function(e,t,n){"use strict";var o=n(319);o.a},function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(40),l=n.n(a),c=n(9),u=n.n(c),p=n(0),h=n.n(p),d=n(5),f=n.n(d),_=n(39),g=n(104),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v=function(e){return"/"===e.charAt(0)?e:"/"+e},y=function(e,t){return e?m({},t,{pathname:v(e)+t.pathname}):t},b=function(e,t){if(!e)return t;var n=v(e);return 0!==t.pathname.indexOf(n)?t:m({},t,{pathname:t.pathname.substr(n.length)})},E=function(e){return"string"===typeof e?e:Object(_.e)(e)},T=function(e){return function(){u()(!1,"You cannot %s with <StaticRouter>",e)}},O=function(){},C=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.createHref=function(e){return v(o.props.basename+E(e))},o.handlePush=function(e){var t=o.props,n=t.basename,r=t.context;r.action="PUSH",r.location=y(n,Object(_.c)(e)),r.url=E(r.location)},o.handleReplace=function(e){var t=o.props,n=t.basename,r=t.context;r.action="REPLACE",r.location=y(n,Object(_.c)(e)),r.url=E(r.location)},o.handleListen=function(){return O},o.handleBlock=function(){return O},s=n,i(o,s)}return s(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){l()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=o(e,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:b(t,Object(_.c)(n)),push:this.handlePush,replace:this.handleReplace,go:T("go"),goBack:T("goBack"),goForward:T("goForward"),listen:this.handleListen,block:this.handleBlock};return h.a.createElement(g.a,m({},r,{history:i}))},t}(h.a.Component);C.propTypes={basename:f.a.string,context:f.a.object.isRequired,location:f.a.oneOfType([f.a.string,f.a.object])},C.defaultProps={basename:"",location:"/"},C.childContextTypes={router:f.a.object.isRequired},t.a=C},function(e,t,n){"use strict";var o=n(321);o.a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(5),c=n.n(l),u=n(40),p=n.n(u),h=n(9),d=n.n(h),f=n(105),_=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){p()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),p()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,o=void 0,r=void 0;return a.a.Children.forEach(t,function(t){if(null==o&&a.a.isValidElement(t)){var i=t.props,s=i.path,l=i.exact,c=i.strict,u=i.sensitive,p=i.from,h=s||p;r=t,o=Object(f.a)(n.pathname,{path:h,exact:l,strict:c,sensitive:u},e.match)}}),o?a.a.cloneElement(r,{location:n,computedMatch:o}):null},t}(a.a.Component);_.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},_.propTypes={children:c.a.node,location:c.a.object},t.a=_},function(e,t,n){"use strict";var o=n(175);o.a},function(e,t,n){"use strict";var o=n(105);o.a},function(e,t,n){"use strict";var o=n(325);t.a=o.a},function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var r=n(0),i=n.n(r),s=n(5),a=n.n(s),l=n(326),c=n.n(l),u=n(173),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h=function(e){var t=function(t){var n=t.wrappedComponentRef,r=o(t,["wrappedComponentRef"]);return i.a.createElement(u.a,{children:function(t){return i.a.createElement(e,p({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:a.a.func},c()(t,e)};t.a=h},function(e,t,n){"use strict";function o(e,t,n){if("string"!==typeof t){if(p){var h=u(t);h&&h!==p&&o(e,h,n)}var d=a(t);l&&(d=d.concat(l(t)));for(var f=0;f<d.length;++f){var _=d[f];if(!r[_]&&!i[_]&&(!n||!n[_])){var g=c(t,_);try{s(e,_,g)}catch(e){}}}return e}return e}var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s=Object.defineProperty,a=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,p=u&&u(Object);e.exports=o},function(e,t,n){"use strict";function o(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";s?(i(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):r(e)})}}function r(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function i(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):r(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=o;var s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=n(329),s=(n.n(i),n(330)),a=(n.n(s),function(e){return r.a.createElement("div",null)});t.a=a},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t){},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(69),c=n(23),u=n(14),p=n(10),h=n(41),d=n(36),f=n(181),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=["","\u542b\u3080","\u4e00\u81f4\u3059\u308b"],i=["","\u4ee5\u524d\u3067\u3042\u308b","\u4ee5\u964d\u3067\u3042\u308b"],s=["","\u96a0\u3059","\u7f6e\u63db\u3059\u308b"],a=["","\u96a0\u3059"];return e.state={name:"",f_names:[],condition_string_methods:n,condition_date_methods:i,modifier_string_methods:s,modifier_date_methods:a,condition_arg:"",modifier_arg:""},e.handleCM=e.handleCM.bind(e),e.handleCA=e.handleCA.bind(e),e.handleMM=e.handleMM.bind(e),e.handleMA=e.handleMA.bind(e),e.handleNameChange=e.handleNameChange.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return i(t,e),_(t,[{key:"handleCM",value:function(e){this.setState({condition_method:e.target.value})}},{key:"handleCA",value:function(e){this.setState({condition_arg:e.target.value})}},{key:"handleMM",value:function(e){this.setState({modifier_method:e.target.value})}},{key:"handleMA",value:function(e){this.setState({modifier_arg:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){alert("\u30d5\u30a3\u30eb\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),this.state.f_names.push(this.state.name),this.setState(this.state),e.preventDefault()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Filter"),a.a.createElement("br",null),"\u30d5\u30a3\u30eb\u30bf\u540d: ",a.a.createElement(c.a,{handleTextChange:this.handleNameChange}),a.a.createElement("p",null),a.a.createElement("br",null),a.a.createElement("h4",null,"\u9069\u7528\u6761\u4ef6"),a.a.createElement(h.a,null,a.a.createElement(d.a,{xs:3,md:2},"\u9805\u76ee: \u4e88\u5b9a\u540d",a.a.createElement("br",null),"\u5f15\u6570: ",a.a.createElement(c.a,{handleTextChange:this.handleCA}),a.a.createElement("br",null),"\u51e6\u7406: ",a.a.createElement(l.a,{data:this.state.condition_string_methods,handleChange:this.handleCM})),a.a.createElement(d.a,{xs:3,md:2},"\u958b\u59cb\u65e5\u6642",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleCA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.condition_date_methods,handleChange:this.handleCM})),a.a.createElement(d.a,{xs:3,md:2},"\u7d42\u4e86\u65e5\u6642",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleCA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.condition_date_methods,handleChange:this.handleCM})),a.a.createElement(d.a,{xs:3,md:2},"\u5834\u6240",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleCA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.condition_string_methods,handleChange:this.handleCM})),a.a.createElement(d.a,{xs:3,md:2},"\u53c2\u52a0\u8005",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleCA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.condition_string_methods,handleChange:this.handleCM})),a.a.createElement(d.a,{xs:3,md:2},"\u8aac\u660e",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleCA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.condition_string_methods,handleChange:this.handleCM}))),a.a.createElement("p",null),a.a.createElement("br",null),a.a.createElement("h4",null,"\u7de8\u96c6\u65b9\u6cd5"),a.a.createElement(h.a,null,a.a.createElement(d.a,{xs:3,md:2},"\u9805\u76ee: \u4e88\u5b9a\u540d",a.a.createElement("br",null),"\u5f15\u6570: ",a.a.createElement(c.a,{handleTextChange:this.handleMA}),a.a.createElement("br",null),"\u51e6\u7406: ",a.a.createElement(l.a,{data:this.state.modifier_string_methods,handleChange:this.handleMM})),a.a.createElement(d.a,{xs:3,md:2},"\u958b\u59cb\u65e5\u6642",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleMA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.modifier_date_methods,handleChange:this.handleMM})),a.a.createElement(d.a,{xs:3,md:2},"\u7d42\u4e86\u65e5\u6642",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleMA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.modifier_date_methods,handleChange:this.handleMM})),a.a.createElement(d.a,{xs:3,md:2},"\u5834\u6240",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleMA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.modifier_string_methods,handleChange:this.handleMM})),a.a.createElement(d.a,{xs:3,md:2},"\u53c2\u52a0\u8005",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleMA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.modifier_string_methods,handleChange:this.handleMM})),a.a.createElement(d.a,{xs:3,md:2},"\u8aac\u660e",a.a.createElement("br",null),a.a.createElement(c.a,{handleTextChange:this.handleMA}),a.a.createElement("br",null),a.a.createElement(l.a,{data:this.state.modifier_string_methods,handleChange:this.handleMM}))),a.a.createElement("p",null),a.a.createElement("br",null),a.a.createElement(p.a,{bsStyle:"success",onClick:this.handleSubmit},"\u30d5\u30a3\u30eb\u30bf\u3092\u4f5c\u6210"),a.a.createElement("p",null),a.a.createElement("br",null),a.a.createElement("h4",null,"\u4f5c\u6210\u3057\u305f\u30d5\u30a3\u30eb\u30bf"),a.a.createElement("br",null),a.a.createElement(f.a,{data:this.state.f_names}),a.a.createElement("br",null),a.a.createElement("h4",null,a.a.createElement(u.b,{to:"/calendar/"+this.state.f_names},a.a.createElement(p.a,null,"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0"))}}]),t}(s.Component);t.a=g},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(24),u=n(4),p=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],h=l.a.forwardRef(function(e,t){var n=e.id,i=e.bsPrefix,h=e.bsCustomPrefix,d=e.className,f=e.type,_=void 0===f?"checkbox":f,g=e.isValid,m=void 0!==g&&g,v=e.isInvalid,y=void 0!==v&&v,b=e.isStatic,E=e.as,T=void 0===E?"input":E,O=Object(r.a)(e,p),C=Object(a.useContext)(c.a),S=C.controlId,k=C.custom,R=k?[h,"custom-control-input"]:[i,"form-check-input"],w=R[0],I=R[1];return i=Object(u.a)(w,I),l.a.createElement(T,Object(o.a)({},O,{ref:t,type:_,id:n||S,className:s()(d,i,m&&"is-valid",y&&"is-invalid",b&&"position-static")}))});h.displayName="FormCheckInput",t.a=h},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(24),u=n(4),p=["bsPrefix","bsCustomPrefix","className","htmlFor"],h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,h=e.className,d=e.htmlFor,f=Object(r.a)(e,p),_=Object(a.useContext)(c.a),g=_.controlId,m=_.custom,v=m?[i,"custom-control-label"]:[n,"form-check-label"],y=v[0],b=v[1];return n=Object(u.a)(y,b),l.a.createElement("label",Object(o.a)({},f,{ref:t,htmlFor:d||g,className:s()(h,n)}))});h.displayName="FormCheckLabel",t.a=h},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(24),u=n(4),p=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],h=l.a.forwardRef(function(e,t){var n=e.id,i=e.bsPrefix,h=e.bsCustomPrefix,d=e.className,f=e.isValid,_=e.isInvalid,g=e.lang,m=e.as,v=void 0===m?"input":m,y=Object(r.a)(e,p),b=Object(a.useContext)(c.a),E=b.controlId,T=b.custom,O=T?[h,"custom-file-input"]:[i,"form-control-file"],C=O[0],S=O[1];return i=Object(u.a)(C,S),l.a.createElement(v,Object(o.a)({},y,{ref:t,id:n||E,type:"file",lang:g,className:s()(d,i,f&&"is-valid",_&&"is-invalid")}))});h.displayName="FormFileInput",t.a=h},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(24),u=n(4),p=["bsPrefix","bsCustomPrefix","className","htmlFor"],h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,h=e.className,d=e.htmlFor,f=Object(r.a)(e,p),_=Object(a.useContext)(c.a),g=_.controlId,m=_.custom,v=m?[i,"custom-file-label"]:[n,"form-file-label"],y=v[0],b=v[1];return n=Object(u.a)(y,b),l.a.createElement("label",Object(o.a)({},f,{ref:t,htmlFor:d||g,className:s()(h,n),"data-browse":f["data-browse"]}))});h.displayName="FormFileLabel",t.a=h},function(e,t,n){"use strict";var o=n(1),r=n(0),i=n.n(r),s=n(106),a=i.a.forwardRef(function(e,t){return i.a.createElement(s.a,Object(o.a)({},e,{ref:t,type:"switch"}))});a.displayName="Switch",a.Input=s.a.Input,a.Label=s.a.Label,t.a=a},function(e,t,n){"use strict";function o(e){return e.replace(r,function(e,t){return t.toUpperCase()})}t.a=o;var r=/-(.)/g},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(69),c=n(23),u=n(14),p=n(10),h=(n(41),n(36),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),d=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=["","Google Calendar","Mail","Slack"];return e.state={address:"",opponents:n,opponent:n[0]},e.handleActionChange=e.handleActionChange.bind(e),e.handleAddressChange=e.handleAddressChange.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return i(t,e),h(t,[{key:"handleActionChange",value:function(e){this.setState({opponent:e.target.value})}},{key:"handleAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"handleSubmit",value:function(e){alert("\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\n\u5171\u6709\u5148: "+this.state.opponent+"\n\u5f15\u6570: "+this.state.address),this.setState(this.state),e.preventDefault()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Action"),a.a.createElement("br",null),"\u5171\u6709\u5148: ",a.a.createElement(l.a,{data:this.state.opponents,handleChange:this.handleActionChange}),a.a.createElement("p",null),"\u5f15\u6570: ",a.a.createElement(c.a,{handleTextChange:this.handleAddressChange}),"(\u4f8b: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff0c\u30ab\u30ec\u30f3\u30c0ID)",a.a.createElement("p",null),a.a.createElement("br",null),a.a.createElement(p.a,{bsStyle:"success",onClick:this.handleSubmit},"\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210"),a.a.createElement("p",null),a.a.createElement("br",null),a.a.createElement("h4",null,a.a.createElement(u.b,{to:"/calendar/"+this.props.match.params.id},a.a.createElement(p.a,null,"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b"))))}}]),t}(s.Component);t.a=d},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1_react_big_calendar__=__webpack_require__(71),__WEBPACK_IMPORTED_MODULE_1_react_big_calendar___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_big_calendar__),__WEBPACK_IMPORTED_MODULE_2_moment__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_2_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__),__WEBPACK_IMPORTED_MODULE_3_react_big_calendar_lib_css_react_big_calendar_css__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_3_react_big_calendar_lib_css_react_big_calendar_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_big_calendar_lib_css_react_big_calendar_css__),__WEBPACK_IMPORTED_MODULE_4_react_router_dom__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Button__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_6__PullDown__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_7_react_toggle__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_7_react_toggle___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_toggle__),__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Row__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_9_react_bootstrap_Col__=__webpack_require__(36),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();__WEBPACK_IMPORTED_MODULE_2_moment___default.a.locale("ja"),__WEBPACK_IMPORTED_MODULE_1_react_big_calendar___default.a.momentLocalizer(__WEBPACK_IMPORTED_MODULE_2_moment___default.a);var allViews=Object.keys(__WEBPACK_IMPORTED_MODULE_1_react_big_calendar___default.a.Views).map(function(e){return __WEBPACK_IMPORTED_MODULE_1_react_big_calendar___default.a.Views[e]}),PageOfCalendar=function(_Component){function PageOfCalendar(){_classCallCheck(this,PageOfCalendar);var e=_possibleConstructorReturn(this,(PageOfCalendar.__proto__||Object.getPrototypeOf(PageOfCalendar)).call(this));return e.state={filter:"",events:[],calendar_id:"nomura.laboratory",calendars:[],filtered:!1},e.handleCalendarChange=e.handleCalendarChange.bind(e),e.fetchEvents=e.fetchEvents.bind(e),e.handleApp=e.handleApp.bind(e),e.handleSwitch=e.handleSwitch.bind(e),e.reload=e.reload.bind(e),e}return _inherits(PageOfCalendar,_Component),_createClass(PageOfCalendar,[{key:"componentDidMount",value:function(){var e=this;fetch("/info/calendars").then(function(e){return e.json()}).then(function(t){for(var n=new Date;;){if(new Date-n>100)break}var o={"":""};t.items.map(function(e){o[e.summary]=e.id}),e.setState({calendars:o})}),this.fetchEvents()}},{key:"componentDidUpdate",value:function(){console.log(this.state.calendar_id)}},{key:"handleCalendarChange",value:function(e){var t=this.state.calendars[e.target.value],n=t.split("@")[0];this.setState({events:[],calendar_id:n}),this.fetchEvents(n)}},{key:"reload",value:function(){this.fetchEvents(this.state.calendar_id)}},{key:"fetchEvents",value:function(e){var t=this;fetch("/calendars/"+e+"/2022-0").then(function(e){return e.json()}).then(function(e){for(var n=[],o=0;o<e.items.length;o++){var r=e.items[o],i=r.start.date_time?r.start.date_time:r.start.date,s=r.end.date_time?r.end.date_time:r.end.date;r={title:r.summary,start:new Date(i),end:new Date(s),tag:"office"},n.push(r)}t.setState({events:n})})}},{key:"getFilteredEvents",value:function(e,t){return e.map(function(e){return t(e)})}},{key:"handleSwitch",value:function(){0==this.state.filtered?(this.setState({filtered:!0}),this.handleApp()):(this.setState({filtered:!1}),this.fetchEvents(this.state.calendar_id))}},{key:"handleApp",value:function handleApp(){var _this4=this,code="",rule_list=[];fetch("http://localhost:4567/blocks/").then(function(e){return e.json()}).then(function(blocks){fetch("http://localhost:4567/info/").then(function(e){return e.json()}).then(function(info){var block_list=[];console.log(blocks);var _loop=function(e){status=!1,info.enabled_funnel.map(function(t){t==blocks[e].name&&(rule_list.push(blocks[e]),code+=blocks[e].code)})};for(var k in blocks){var status;_loop(k)}var fullcode="filter=function(e){"+code+"return e;};",filter;eval(fullcode),_this4.setState({events:_this4.getFilteredEvents(_this4.state.events,filter)})})}),console.log(rule_list)}},{key:"render",value:function(){return console.log(this.props.match.params.id),null==this.props.match.params.id&&(this.props.match.params.id="undefined"),this.props.match.params.id.includes("undefined")&&(this.props.match.params.id="\u306a\u3057"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{style:{height:625}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Row__.a,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_react_bootstrap_Col__.a,{xs:16,md:12},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h1",null,"Calendar",this.state.filter,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__PullDown__.a,{data:Object.keys(this.state.calendars).sort(),handleChange:this.handleCalendarChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Button__.a,{variant:"outline-success",onClick:this.reload},"\u66f4\u65b0")))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Row__.a,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_react_bootstrap_Col__.a,{xs:6,md:4},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{align:"left"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h4",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__.b,{to:"/make/code"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Button__.a,{variant:"outline-success"},"\u65b0\u3057\u3044\u30eb\u30fc\u30eb\u3092\u4f5c\u6210")),"\xa0"))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_react_bootstrap_Col__.a,{xs:6,md:4},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{align:"left"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h4",null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_big_calendar___default.a,{events:this.state.events,step:60,views:allViews,defaultDate:new Date,eventPropGetter:function(e,t,n,o){if("lecture"==e.tag){return{className:"",style:{backgroundColor:"lightblue",color:"black",borderRadius:"0px",border:"none"}}}if("office"==e.tag){return{className:"",style:{backgroundColor:"lightgreen",color:"black",borderRadius:"0px",border:"none"}}}if("personal"==e.tag){return{className:"",style:{backgroundColor:"lightpink",color:"black",borderRadius:"0px",border:"none"}}}return{className:"",style:{backgroundColor:"lightgrey",color:"black",borderRadius:"0px",border:"none"}}}}))}}]),PageOfCalendar}(__WEBPACK_IMPORTED_MODULE_0_react__.Component);__webpack_exports__.a=PageOfCalendar},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return Array.isArray(e)?e:Object.keys(e)}function c(e,t){return-1!==l(t.views).indexOf(e)}t.__esModule=!0;var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h=n(5),d=o(h),f=n(0),_=o(f),g=n(341),m=o(g),v=n(3),y=o(v),b=n(15),E=n(182),T=(o(E),n(42)),O=n(20),C=n(72),S=o(C),k=n(111),R=o(k),w=n(183),I=o(w),D=n(184),A=o(D),N=n(476),M=o(N),P=n(222),x=o(P),L=n(135),B=o(L),F=n(477),U=o(F),j=n(505),W=o(j),V=n(506),H=o(V),G=n(507),Y=o(G),K=function(e){function t(){var n,o,r;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=s(this,e.call.apply(e,[this].concat(l))),X.call(o),r=n,s(o,r)}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.view,n=e.toolbar,o=e.events,i=e.culture,s=e.components,a=void 0===s?{}:s,c=e.formats,u=void 0===c?{}:c,h=e.messages,d=void 0===h?{}:h,f=e.style,g=e.className,m=e.elementProps,v=e.date,b=e.getNow,E=e.length,T=r(e,["view","toolbar","events","culture","components","formats","messages","style","className","elementProps","date","getNow","length"]);v=v||b(),u=(0,S.default)(u),d=(0,R.default)(d);var O=this.getView(),C=l(this.props.views),k=(0,W.default)(a[t]||{},(0,U.default)(a,C),{eventWrapper:x.default,dayWrapper:B.default,dateCellWrapper:B.default}),w=a.toolbar||M.default,I=O.title(v,{formats:u,culture:i,length:E});return _.default.createElement("div",p({},m,{className:(0,y.default)(g,"rbc-calendar",T.rtl&&"rbc-is-rtl"),style:f}),n&&_.default.createElement(w,{date:v,view:t,views:C,label:I,onViewChange:this.handleViewChange,onNavigate:this.handleNavigate,messages:d}),_.default.createElement(O,p({ref:"view"},T,u,{messages:d,culture:i,formats:void 0,events:o,date:v,getNow:b,length:E,components:k,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onSelectSlot:this.handleSelectSlot,onShowMore:this._showMore})))},t}(_.default.Component);K.propTypes={elementProps:d.default.object,date:d.default.instanceOf(Date),view:d.default.string,defaultView:d.default.string,events:d.default.arrayOf(d.default.object),titleAccessor:b.accessor,tooltipAccessor:b.accessor,allDayAccessor:b.accessor,startAccessor:b.accessor,endAccessor:b.accessor,resourceAccessor:b.accessor,resources:d.default.arrayOf(d.default.object),resourceIdAccessor:b.accessor,resourceTitleAccessor:b.accessor,getNow:d.default.func,onNavigate:d.default.func,onView:d.default.func,onDrillDown:d.default.func,onRangeChange:d.default.func,onSelectSlot:d.default.func,onSelectEvent:d.default.func,onDoubleClickEvent:d.default.func,onSelecting:d.default.func,selected:d.default.object,views:b.views,drilldownView:d.default.string,getDrilldownView:d.default.func,length:d.default.number,toolbar:d.default.bool,popup:d.default.bool,popupOffset:d.default.oneOfType([d.default.number,d.default.shape({x:d.default.number,y:d.default.number})]),selectable:d.default.oneOf([!0,!1,"ignoreEvents"]),resizable:d.default.bool,longPressThreshold:d.default.number,step:d.default.number,timeslots:d.default.number,rtl:d.default.bool,eventPropGetter:d.default.func,slotPropGetter:d.default.func,dayPropGetter:d.default.func,showMultiDayTimes:d.default.bool,min:d.default.instanceOf(Date),max:d.default.instanceOf(Date),scrollToTime:d.default.instanceOf(Date),culture:d.default.string,formats:d.default.shape({dateFormat:b.dateFormat,dayFormat:b.dateFormat,weekdayFormat:b.dateFormat,timeGutterFormat:b.dateFormat,monthHeaderFormat:b.dateFormat,dayRangeHeaderFormat:b.dateRangeFormat,dayHeaderFormat:b.dateFormat,agendaHeaderFormat:b.dateRangeFormat,selectRangeFormat:b.dateRangeFormat,agendaDateFormat:b.dateFormat,agendaTimeFormat:b.dateFormat,agendaTimeRangeFormat:b.dateRangeFormat,eventTimeRangeFormat:b.dateRangeFormat,eventTimeRangeStartFormat:b.dateFormat,eventTimeRangeEndFormat:b.dateFormat}),components:d.default.shape({event:b.elementType,eventWrapper:b.elementType,dayWrapper:b.elementType,dateCellWrapper:b.elementType,toolbar:b.elementType,agenda:d.default.shape({date:b.elementType,time:b.elementType,event:b.elementType}),day:d.default.shape({header:b.elementType,event:b.elementType}),week:d.default.shape({header:b.elementType,event:b.elementType}),month:d.default.shape({header:b.elementType,dateHeader:b.elementType,event:b.elementType})}),messages:d.default.shape({allDay:d.default.node,previous:d.default.node,next:d.default.node,today:d.default.node,month:d.default.node,week:d.default.node,day:d.default.node,agenda:d.default.node,date:d.default.node,time:d.default.node,event:d.default.node,showMore:d.default.func})},K.defaultProps={elementProps:{},popup:!1,toolbar:!0,view:O.views.MONTH,views:[O.views.MONTH,O.views.WEEK,O.views.DAY,O.views.AGENDA],step:30,length:30,drilldownView:O.views.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date}};var X=function(){var e=this;this.getViews=function(){var t=e.props.views;return Array.isArray(t)?(0,H.default)(t,function(e,t){return e[t]=A.default[t]},{}):"object"===("undefined"===typeof t?"undefined":u(t))?(0,Y.default)(t,function(e,t){return!0===e?A.default[t]:e}):A.default},this.getView=function(){return e.getViews()[e.props.view]},this.getDrilldownView=function(t){var n=e.props,o=n.view,r=n.drilldownView,i=n.getDrilldownView;return i?i(t,o,Object.keys(e.getViews())):r},this.handleRangeChange=function(t,n){var o=e.props.onRangeChange;o&&n.range&&o(n.range(t,{}))},this.handleNavigate=function(t,n){var o=e.props,i=o.view,s=o.date,a=o.getNow,l=o.onNavigate,c=r(o,["view","date","getNow","onNavigate"]),u=e.getView(),h=a();s=(0,I.default)(u,p({},c,{action:t,date:n||s||h,today:h})),l(s,i,t),e.handleRangeChange(s,u)},this.handleViewChange=function(t){t!==e.props.view&&c(t,e.props)&&e.props.onView(t);var n=e.getViews();e.handleRangeChange(e.props.date,n[t])},this.handleSelectEvent=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(0,T.notify)(e.props.onSelectEvent,n)},this.handleDoubleClickEvent=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(0,T.notify)(e.props.onDoubleClickEvent,n)},this.handleSelectSlot=function(t){(0,T.notify)(e.props.onSelectSlot,t)},this.handleDrillDown=function(t,n){var o=e.props.onDrillDown;if(o)return void o(t,n,e.drilldownView);n&&e.handleViewChange(n),e.handleNavigate(O.navigate.DATE,t)}};t.default=(0,m.default)(K,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o,r){n&&(e._notifying=!0,n.call.apply(n,[e,o].concat(r)),e._notifying=!1),e._values[t]=o,e.unmounted||e.forceUpdate()}t.__esModule=!0;var r=n(342),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s={shouldComponentUpdate:function(){return!this._notifying}};t.default=(0,i.default)(s,o),e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){function n(o,a){function c(e,n){var o=f.getLinkName(e),r=this.props[a[e]];o&&p(this.props,o)&&!r&&(r=this.props[o].requestChange);for(var i=arguments.length,s=Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];t(this,e,r,n,s)}function p(e,t){return void 0!==e[t]}function d(e){var t={};return f.each(e,function(e,n){-1===O.indexOf(n)&&(t[n]=e)}),t}var _,g,m,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],y=o.displayName||o.name||"Component",b=f.getType(o).propTypes,E=f.isReactComponent(o),T=Object.keys(a),O=["valueLink","checkedLink"].concat(T.map(f.defaultKey));m=f.uncontrolledPropTypes(a,b,y),(0,h.default)(E||!v.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+y+", attempting to pass through methods: "+v.join(", ")),v=f.transform(v,function(e,t){e[t]=function(){var e;return(e=this.refs.inner)[t].apply(e,arguments)}},{});var C=(g=_=function(t){function n(){return r(this,n),i(this,t.apply(this,arguments))}return s(n,t),n.prototype.shouldComponentUpdate=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return!e.shouldComponentUpdate||e.shouldComponentUpdate.apply(this,n)},n.prototype.componentWillMount=function(){var e=this,t=this.props;this._values={},T.forEach(function(n){e._values[n]=t[f.defaultKey(n)]})},n.prototype.componentWillReceiveProps=function(t){var n=this,o=this.props;e.componentWillReceiveProps&&e.componentWillReceiveProps.call(this,t),T.forEach(function(e){void 0===f.getValue(t,e)&&void 0!==f.getValue(o,e)&&(n._values[e]=t[f.defaultKey(e)])})},n.prototype.componentWillUnmount=function(){this.unmounted=!0},n.prototype.getControlledInstance=function(){return this.refs.inner},n.prototype.render=function(){var e=this,t={},n=d(this.props);return f.each(a,function(n,o){var r=f.getLinkName(o),i=e.props[o];r&&!p(e.props,o)&&p(e.props,r)&&(i=e.props[r].value),t[o]=void 0!==i?i:e._values[o],t[n]=c.bind(e,o)}),t=l({},n,t,{ref:E?"inner":null}),u.default.createElement(o,t)},n}(u.default.Component),_.displayName="Uncontrolled("+y+")",_.propTypes=m,g);return l(C.prototype,v),C.ControlledComponent=o,C.deferControlTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];return n(e,l({},a,t),o)},C}return n}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=a;var c=n(0),u=o(c),p=n(9),h=o(p),d=n(343),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var o={};return o}function i(e){return v[0]>=15||0===v[0]&&v[1]>=13?e:e.type}function s(e,t){var n=l(t);return n&&!a(e,t)&&a(e,n)?e[n].value:e[t]}function a(e,t){return void 0!==e[t]}function l(e){return"value"===e?"valueLink":"checked"===e?"checkedLink":null}function c(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function u(e,t,n){return function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];t&&t.call.apply(t,[e].concat(r)),n&&n.call.apply(n,[e].concat(r))}}function p(e,t,n){return h(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n}function h(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var o in e)d(e,o)&&t.call(n,e[o],o,e)}function d(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function f(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)}t.__esModule=!0,t.version=void 0,t.uncontrolledPropTypes=r,t.getType=i,t.getValue=s,t.getLinkName=l,t.defaultKey=c,t.chain=u,t.transform=p,t.each=h,t.has=d,t.isReactComponent=f;var _=n(0),g=o(_),m=n(9),v=(o(m),t.version=g.default.version.split(".").map(parseFloat))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o,r){var s=e[t],l="undefined"===typeof s?"undefined":i(s);return a.default.isValidElement(s)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+o+" `"+r+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}t.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(0),a=o(s),l=n(110),c=o(l);t.default=(0,c.default)(r)},function(e,t,n){"use strict";function o(){function e(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=null;return n.forEach(function(e){if(null==r){var n=e.apply(void 0,t);null!=n&&(r=n)}}),r}for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(0,i.default)(e)}t.__esModule=!0,t.default=o;var r=n(110),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t){function n(e){return e<0?Math.ceil(e):Math.floor(e)}function o(e,t){var n=a.month(e),o=n+t;for(e=a.month(e,o);o<0;)o=12+o;return a.month(e)!==o%12&&(e=a.date(e,0)),e}function r(e){return function(t,n){return void 0===n?t["get"+e]():(t=new Date(t),t["set"+e](n),t)}}function i(e){return function(t,n,o){return e(+a.startOf(t,o),+a.startOf(n,o))}}var s="milliseconds",a=e.exports={add:function(e,t,n){switch(e=new Date(e),n){case s:case"seconds":case"minutes":case"hours":case"year":return a[n](e,a[n](e)+t);case"day":return a.date(e,a.date(e)+t);case"week":return a.date(e,a.date(e)+7*t);case"month":return o(e,t);case"decade":return a.year(e,a.year(e)+10*t);case"century":return a.year(e,a.year(e)+100*t)}throw new TypeError('Invalid units: "'+n+'"')},subtract:function(e,t,n){return a.add(e,-t,n)},startOf:function(e,t,n){switch(e=new Date(e),t){case"century":case"decade":case"year":e=a.month(e,0);case"month":e=a.date(e,1);case"week":case"day":e=a.hours(e,0);case"hours":e=a.minutes(e,0);case"minutes":e=a.seconds(e,0);case"seconds":e=a.milliseconds(e,0)}return"decade"===t&&(e=a.subtract(e,a.year(e)%10,"year")),"century"===t&&(e=a.subtract(e,a.year(e)%100,"year")),"week"===t&&(e=a.weekday(e,0,n)),e},endOf:function(e,t,n){return e=new Date(e),e=a.startOf(e,t,n),e=a.add(e,1,t),e=a.subtract(e,1,s)},eq:i(function(e,t){return e===t}),neq:i(function(e,t){return e!==t}),gt:i(function(e,t){return e>t}),gte:i(function(e,t){return e>=t}),lt:i(function(e,t){return e<t}),lte:i(function(e,t){return e<=t}),min:function(){return new Date(Math.min.apply(Math,arguments))},max:function(){return new Date(Math.max.apply(Math,arguments))},inRange:function(e,t,n,o){return o=o||"day",(!t||a.gte(e,t,o))&&(!n||a.lte(e,n,o))},milliseconds:r("Milliseconds"),seconds:r("Seconds"),minutes:r("Minutes"),hours:r("Hours"),day:r("Day"),date:r("Date"),month:r("Month"),year:r("FullYear"),decade:function(e,t){return void 0===t?a.year(a.startOf(e,"decade")):a.add(e,t+10,"year")},century:function(e,t){return void 0===t?a.year(a.startOf(e,"century")):a.add(e,t+100,"year")},weekday:function(e,t,n){var o=(a.day(e)+7-(n||0))%7;return void 0===t?o:a.add(e,t-o,"day")},diff:function(e,t,o,r){var i,l,c;switch(o){case s:case"seconds":case"minutes":case"hours":case"day":case"week":i=t.getTime()-e.getTime();break;case"month":case"year":case"decade":case"century":i=12*(a.year(t)-a.year(e))+a.month(t)-a.month(e);break;default:throw new TypeError('Invalid units: "'+o+'"')}switch(o){case s:l=1;break;case"seconds":l=1e3;break;case"minutes":l=6e4;break;case"hours":l=36e5;break;case"day":l=864e5;break;case"week":l=6048e5;break;case"month":l=1;break;case"year":l=12;break;case"decade":l=120;break;case"century":l=1200;break;default:throw new TypeError('Invalid units: "'+o+'"')}return c=i/l,r?c:n(c)}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=o(c),p=n(0),h=o(p),d=n(7),f=n(3),_=o(f),g=n(11),m=o(g),v=n(12),y=o(v),b=n(348),E=o(b),T=n(20),O=n(42),C=n(189),S=o(C),k=n(193),R=o(k),w=n(363),I=o(w),D=n(364),A=o(D),N=n(195),M=o(N),P=n(210),x=o(P),L=n(450),B=o(L),F=n(15),U=n(56),j=function(e,t,n,o){return e.filter(function(e){return(0,U.inRange)(e,t,n,o)})},W={events:u.default.array.isRequired,date:u.default.instanceOf(Date),min:u.default.instanceOf(Date),max:u.default.instanceOf(Date),step:u.default.number,getNow:u.default.func.isRequired,scrollToTime:u.default.instanceOf(Date),eventPropGetter:u.default.func,dayPropGetter:u.default.func,culture:u.default.string,dayFormat:F.dateFormat,rtl:u.default.bool,width:u.default.number,titleAccessor:F.accessor.isRequired,tooltipAccessor:F.accessor.isRequired,allDayAccessor:F.accessor.isRequired,startAccessor:F.accessor.isRequired,endAccessor:F.accessor.isRequired,selected:u.default.object,selectable:u.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:u.default.number,onNavigate:u.default.func,onSelectSlot:u.default.func,onSelectEvent:u.default.func,onDoubleClickEvent:u.default.func,onShowMore:u.default.func,onDrillDown:u.default.func,getDrilldownView:u.default.func.isRequired,dateFormat:F.dateFormat,weekdayFormat:F.dateFormat,popup:u.default.bool,messages:u.default.object,components:u.default.object.isRequired,popupOffset:u.default.oneOfType([u.default.number,u.default.shape({x:u.default.number,y:u.default.number})])},V=function(e){function t(){i(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=s(this,e.call.apply(e,[this].concat(o)));return H.call(a),a._bgRows=[],a._pendingSelection=[],a.state={rowLimit:5,needLimitMeasure:!0},a}return a(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.date;this.setState({needLimitMeasure:!m.default.eq(t,this.props.date)})},t.prototype.componentDidMount=function(){var e=this,t=void 0;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){t||(0,R.default)(function(){t=!1,e.setState({needLimitMeasure:!0})})},!1)},t.prototype.componentDidUpdate=function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener,!1)},t.prototype.render=function(){var e=this.props,t=e.date,n=e.culture,o=e.weekdayFormat,r=e.className,i=m.default.visibleDays(t,n),s=(0,E.default)(i,7);return this._weekCount=s.length,h.default.createElement("div",{className:(0,_.default)("rbc-month-view",r)},h.default.createElement("div",{className:"rbc-row rbc-month-header"},this.renderHeaders(s[0],o,n)),s.map(this.renderWeek),this.props.popup&&this.renderOverlay())},t.prototype.renderHeaders=function(e,t,n){var o=e[0],r=e[e.length-1],i=this.props.components.header||x.default;return m.default.range(o,r,"day").map(function(e,o){return h.default.createElement("div",{key:"header_"+o,className:"rbc-header"},h.default.createElement(i,{date:e,label:y.default.format(e,t,n),localizer:y.default,format:t,culture:n}))})},t.prototype.renderOverlay=function(){var e=this,t=this.state&&this.state.overlay||{},n=this.props.components;return h.default.createElement(A.default,{rootClose:!0,placement:"bottom",container:this,show:!!t.position,onHide:function(){return e.setState({overlay:null})}},h.default.createElement(I.default,l({},this.props,{eventComponent:n.event,eventWrapperComponent:n.eventWrapper,position:t.position,events:t.events,slotStart:t.date,slotEnd:t.end,onSelect:this.handleSelectEvent,onDoubleClick:this.handleDoubleClickEvent})))},t.prototype.measureRowLimit=function(){this.setState({needLimitMeasure:!1,rowLimit:this.refs.slotRow.getRowLimit()})},t.prototype.selectDates=function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t}),(0,O.notify)(this.props.onSelectSlot,{slots:t,start:t[0],end:t[t.length-1],action:e.action})},t.prototype.clearSelection=function(){clearTimeout(this._selectTimer),this._pendingSelection=[]},t}(h.default.Component);V.displayName="MonthView",V.propTypes=W;var H=function(){var e=this;this.getContainer=function(){return(0,d.findDOMNode)(e)},this.renderWeek=function(t,n){var o=e.props,r=o.events,i=o.components,s=o.selectable,a=o.titleAccessor,l=o.tooltipAccessor,c=o.startAccessor,u=o.endAccessor,p=o.allDayAccessor,d=o.getNow,f=o.eventPropGetter,_=o.dayPropGetter,g=o.messages,m=o.selected,v=o.date,y=o.longPressThreshold,b=e.state,E=b.needLimitMeasure,T=b.rowLimit;return r=j(r,t[0],t[t.length-1],e.props),r.sort(function(t,n){return(0,U.sortEvents)(t,n,e.props)}),h.default.createElement(M.default,{key:n,ref:0===n?"slotRow":void 0,container:e.getContainer,className:"rbc-month-row",getNow:d,date:v,range:t,events:r,maxRows:T,selected:m,selectable:s,messages:g,titleAccessor:a,tooltipAccessor:l,startAccessor:c,endAccessor:u,allDayAccessor:p,eventPropGetter:f,dayPropGetter:_,renderHeader:e.readerDateHeading,renderForMeasure:E,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onSelectSlot:e.handleSelectSlot,eventComponent:i.event,eventWrapperComponent:i.eventWrapper,dateCellWrapperComponent:i.dateCellWrapper,longPressThreshold:y})},this.readerDateHeading=function(t){var n=t.date,o=t.className,i=r(t,["date","className"]),s=e.props,a=s.date,c=s.getDrilldownView,u=s.dateFormat,p=s.culture,d=m.default.month(n)!==m.default.month(a),f=m.default.eq(n,a,"day"),g=c(n),v=y.default.format(n,u,p),b=e.props.components.dateHeader||B.default;return h.default.createElement("div",l({},i,{className:(0,_.default)(o,d&&"rbc-off-range",f&&"rbc-current")}),h.default.createElement(b,{label:v,date:n,drilldownView:g,isOffRange:d,onDrillDown:function(t){return e.handleHeadingClick(n,g,t)}}))},this.handleSelectSlot=function(t,n){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(n)})},this.handleHeadingClick=function(t,n,o){o.preventDefault(),e.clearSelection(),(0,O.notify)(e.props.onDrillDown,[t,n])},this.handleSelectEvent=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e.clearSelection(),(0,O.notify)(e.props.onSelectEvent,n)},this.handleDoubleClickEvent=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e.clearSelection(),(0,O.notify)(e.props.onDoubleClickEvent,n)},this.handleShowMore=function(t,n,o,r){var i=e.props,s=i.popup,a=i.onDrillDown,l=i.onShowMore,c=i.getDrilldownView;if(e.clearSelection(),s){var u=(0,S.default)(o,(0,d.findDOMNode)(e));e.setState({overlay:{date:n,events:t,position:u}})}else(0,O.notify)(a,[n,c(n)||T.views.DAY]);(0,O.notify)(l,[t,n,r])}};V.range=function(e,t){var n=t.culture;return{start:m.default.firstVisibleDay(e,n),end:m.default.lastVisibleDay(e,n)}},V.navigate=function(e,t){switch(t){case T.navigate.PREVIOUS:return m.default.add(e,-1,"month");case T.navigate.NEXT:return m.default.add(e,1,"month");default:return e}},V.title=function(e,t){var n=t.formats,o=t.culture;return y.default.format(e,n.monthHeaderFormat,o)},t.default=V,e.exports=t.default},function(e,t,n){function o(e,t,n){t=(n?i(e,t,n):void 0===t)?1:l(s(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var c=0,u=0,p=Array(a(o/t));c<o;)p[u++]=r(e,c,c+=t);return p}var r=n(185),i=n(73),s=n(187),a=Math.ceil,l=Math.max;e.exports=o},function(e,t,n){function o(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(e){}var r=a.call(e);return o&&(t?e[l]=n:delete e[l]),r}var r=n(44),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;e.exports=o},function(e,t){function n(e){return r.call(e)}var o=Object.prototype,r=o.toString;e.exports=n},function(e,t,n){function o(e){if("number"==typeof e)return e;if(s(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?p(e.slice(2),n?2:8):l.test(e)?a:+e}var r=n(352),i=n(25),s=n(51),a=NaN,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt;e.exports=o},function(e,t,n){function o(e){return e?e.slice(0,r(e)+1).replace(i,""):e}var r=n(353),i=/^\s+/;e.exports=o},function(e,t){function n(e){for(var t=e.length;t--&&o.test(e.charAt(t)););return t}var o=/\s/;e.exports=n},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function o(e){return e.nodeName&&e.nodeName.toLowerCase()}function r(e){for(var t=(0,s.default)(e),n=e&&e.offsetParent;n&&"html"!==o(e)&&"static"===(0,a.default)(n,"position");)n=n.offsetParent;return n||t.documentElement}var i=n(6);t.__esModule=!0,t.default=r;var s=i(n(115)),a=i(n(190));e.exports=t.default},function(e,t,n){"use strict";function o(e){return e.replace(r,function(e,t){return t.toUpperCase()})}t.__esModule=!0,t.default=o;var r=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";function o(e){return(0,i.default)(e).replace(s,"-ms-")}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(358)),s=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";function o(e){return e.replace(r,"-$1").toLowerCase()}t.__esModule=!0,t.default=o;var r=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";function o(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,i.default)(t))&&(t="styleFloat");var o=e.currentStyle[t]||null;if(null==o&&n&&n[t]&&(o=n[t]),a.test(o)&&!s.test(t)){var r=n.left,l=e.runtimeStyle,c=l&&l.left;c&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":o,o=n.pixelLeft+"px",n.left=r,c&&(l.left=c)}return o}}}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(191)),s=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,n){"use strict";var o=n(6);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r=o(n(31)),i="transform";t.transform=i;var s,a,l;t.animationEnd=l,t.transitionEnd=a;var c,u,p,h;t.transitionDelay=h,t.transitionTiming=p,t.transitionDuration=u,t.transitionProperty=c;var d,f,_,g;if(t.animationDelay=g,t.animationTiming=_,t.animationDuration=f,t.animationName=d,r.default){var m=function(){for(var e,t,n=document.createElement("div").style,o={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},r=Object.keys(o),i="",s=0;s<r.length;s++){var a=r[s];if(a+"TransitionProperty"in n){i="-"+a.toLowerCase(),e=o[a]("TransitionEnd"),t=o[a]("AnimationEnd");break}}return!e&&"transitionProperty"in n&&(e="transitionend"),!t&&"animationName"in n&&(t="animationend"),n=null,{animationEnd:t,transitionEnd:e,prefix:i}}();s=m.prefix,t.transitionEnd=a=m.transitionEnd,t.animationEnd=l=m.animationEnd,t.transform=i=s+"-"+i,t.transitionProperty=c=s+"-transition-property",t.transitionDuration=u=s+"-transition-duration",t.transitionDelay=h=s+"-transition-delay",t.transitionTiming=p=s+"-transition-timing-function",t.animationName=d=s+"-animation-name",t.animationDuration=f=s+"-animation-duration",t.animationTiming=_=s+"-animation-delay",t.animationDelay=g=s+"-animation-timing-function"}var v={transform:i,end:a,property:c,timing:p,delay:h,duration:u};t.default=v},function(e,t,n){"use strict";function o(e){return!(!e||!r.test(e))}t.__esModule=!0,t.default=o;var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=o(c),p=n(0),h=o(p),d=n(52),f=o(d),_=n(116),g=o(_),m=n(192),v=o(m),y=n(194),b=o(y),E=n(54),T=n(12),O=o(T),C=n(15),S={position:u.default.object,popupOffset:u.default.oneOfType([u.default.number,u.default.shape({x:u.default.number,y:u.default.number})]),events:u.default.array,selected:u.default.object,eventComponent:C.elementType,eventWrapperComponent:C.elementType,dayHeaderFormat:C.dateFormat},k=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){var e=this.props.popupOffset,t=void 0===e?5:e,n=(0,f.default)(this.refs.root),o=n.top,r=n.left,i=n.width,s=n.height,a=window.innerHeight+(0,g.default)(window),l=window.innerWidth+(0,v.default)(window),c=o+s,u=r+i;if(c>a||u>l){var p=void 0,h=void 0;c>a&&(p=c-a+(t.y||+t||0)),u>l&&(h=u-l+(t.x||+t||0)),this.setState({topOffset:p,leftOffset:h})}},t.prototype.render=function(){var e=this.props,t=e.events,n=e.selected,o=e.eventComponent,i=e.eventWrapperComponent,s=r(e,["events","selected","eventComponent","eventWrapperComponent"]),a=this.props.position,c=a.left,u=a.width,p=a.top,d=(this.state||{}).topOffset||0,f=(this.state||{}).leftOffset||0,_={top:Math.max(0,p-d),left:c-f,minWidth:u+u/2};return h.default.createElement("div",{ref:"root",style:_,className:"rbc-overlay"},h.default.createElement("div",{className:"rbc-overlay-header"},O.default.format(s.slotStart,s.dayHeaderFormat,s.culture)),t.map(function(e,t){return h.default.createElement(b.default,l({key:t},s,{event:e,eventComponent:o,eventWrapperComponent:i,selected:(0,E.isSelected)(e,n)}))}))},t}(h.default.Component);k.propTypes=S,t.default=k,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=o(c),p=n(365),h=o(p),d=n(0),f=o(d),_=n(368),g=o(_),m=n(370),v=o(m),y=n(372),b=o(y),E=function(e){function t(n,o){i(this,t);var r=s(this,e.call(this,n,o));return r.handleHidden=function(){if(r.setState({exited:!0}),r.props.onExited){var e;(e=r.props).onExited.apply(e,arguments)}},r.state={exited:!n.show},r.onHiddenListener=r.handleHidden.bind(r),r}return a(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,o=e.target,i=e.placement,s=e.shouldUpdatePosition,a=e.rootClose,l=e.children,c=e.transition,u=r(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(u.show||c&&!this.state.exited))return null;var p=l;if(p=f.default.createElement(v.default,{container:t,containerPadding:n,target:o,placement:i,shouldUpdatePosition:s},p),c){var h=u.onExit,d=u.onExiting,_=u.onEnter,m=u.onEntering,y=u.onEntered;p=f.default.createElement(c,{in:u.show,transitionAppear:!0,onExit:h,onExiting:d,onExited:this.onHiddenListener,onEnter:_,onEntering:m,onEntered:y},p)}return a&&(p=f.default.createElement(b.default,{onRootClose:u.onHide},p)),f.default.createElement(g.default,{container:t},p)},t}(f.default.Component);E.propTypes=l({},g.default.propTypes,v.default.propTypes,{show:u.default.bool,rootClose:u.default.bool,onHide:function(e){var t=u.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.apply(void 0,[e].concat(o))},transition:h.default,onEnter:u.default.func,onEntering:u.default.func,onEntered:u.default.func,onExit:u.default.func,onExiting:u.default.func,onExited:u.default.func}),t.default=E,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o,r){var i=e[t];return s.default.isValidElement(i)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,a.isValidElementType)(i)?null:new Error("Invalid "+o+" `"+r+"` of value `"+i+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=o(i),a=n(366),l=n(107),c=o(l);t.default=(0,c.default)(r),e.exports=t.default},function(e,t,n){"use strict";e.exports=n(367)},function(e,t,n){"use strict";function o(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case f:case l:case u:case c:case g:return e;default:switch(e=e&&e.$$typeof){case h:case _:case y:case v:case p:return e;default:return t}}case a:return t}}}function r(e){return o(e)===f}var i="function"===typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,l=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,p=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,_=i?Symbol.for("react.forward_ref"):60112,g=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,b=i?Symbol.for("react.block"):60121,E=i?Symbol.for("react.fundamental"):60117,T=i?Symbol.for("react.responder"):60118,O=i?Symbol.for("react.scope"):60119;t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=h,t.ContextProvider=p,t.Element=s,t.ForwardRef=_,t.Fragment=l,t.Lazy=y,t.Memo=v,t.Portal=a,t.Profiler=u,t.StrictMode=c,t.Suspense=g,t.isAsyncMode=function(e){return r(e)||o(e)===d},t.isConcurrentMode=r,t.isContextConsumer=function(e){return o(e)===h},t.isContextProvider=function(e){return o(e)===p},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return o(e)===_},t.isFragment=function(e){return o(e)===l},t.isLazy=function(e){return o(e)===y},t.isMemo=function(e){return o(e)===v},t.isPortal=function(e){return o(e)===a},t.isProfiler=function(e){return o(e)===u},t.isStrictMode=function(e){return o(e)===c},t.isSuspense=function(e){return o(e)===g},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===l||e===f||e===u||e===c||e===g||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===p||e.$$typeof===h||e.$$typeof===_||e.$$typeof===E||e.$$typeof===T||e.$$typeof===O||e.$$typeof===b)},t.typeOf=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(5),l=o(a),c=n(117),u=o(c),p=n(0),h=o(p),d=n(7),f=o(d),_=n(118),g=o(_),m=n(55),v=o(m),y=n(369),b=o(y),E=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props;o._portalContainerNode=(0,g.default)(e.container,(0,v.default)(o).body)},o.getMountNode=function(){return o._portalContainerNode},s=n,i(o,s)}return s(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?f.default.createPortal(this.props.children,this._portalContainerNode):null},t}(h.default.Component);E.displayName="Portal",E.propTypes={container:l.default.oneOfType([u.default,l.default.func]),onRendered:l.default.func},t.default=f.default.createPortal?E:b.default,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(5),l=o(a),c=n(117),u=o(c),p=n(0),h=o(p),d=n(7),f=o(d),_=n(118),g=o(_),m=n(55),v=o(m),y=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o._mountOverlayTarget=function(){o._overlayTarget||(o._overlayTarget=document.createElement("div"),o._portalContainerNode=(0,g.default)(o.props.container,(0,v.default)(o).body),o._portalContainerNode.appendChild(o._overlayTarget))},o._unmountOverlayTarget=function(){o._overlayTarget&&(o._portalContainerNode.removeChild(o._overlayTarget),o._overlayTarget=null),o._portalContainerNode=null},o._renderOverlay=function(){var e=o.props.children?h.default.Children.only(o.props.children):null;if(null!==e){o._mountOverlayTarget();var t=!o._overlayInstance;o._overlayInstance=f.default.unstable_renderSubtreeIntoContainer(o,e,o._overlayTarget,function(){t&&o.props.onRendered&&o.props.onRendered()})}else o._unrenderOverlay(),o._unmountOverlayTarget()},o._unrenderOverlay=function(){o._overlayTarget&&(f.default.unmountComponentAtNode(o._overlayTarget),o._overlayInstance=null)},o.getMountNode=function(){return o._overlayTarget},s=n,i(o,s)}return s(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,g.default)(e.container,(0,v.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(h.default.Component);y.displayName="Portal",y.propTypes={container:l.default.oneOfType([u.default,l.default.func]),onRendered:l.default.func},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(3),u=o(c),p=n(5),h=o(p),d=n(117),f=o(d),_=n(0),g=o(_),m=n(7),v=o(m),y=n(371),b=o(y),E=n(118),T=o(E),O=n(55),C=o(O),S=function(e){function t(n,o){i(this,t);var r=s(this,e.call(this,n,o));return r.getTarget=function(){var e=r.props.target,t="function"===typeof e?e():e;return t&&v.default.findDOMNode(t)||null},r.maybeUpdatePosition=function(e){var t=r.getTarget();(r.props.shouldUpdatePosition||t!==r._lastTarget||e)&&r.updatePosition(t)},r.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},r._needsFlush=!1,r._lastTarget=null,r}return a(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=r(e,["children","className"]),i=this.state,s=i.positionLeft,a=i.positionTop,c=r(i,["positionLeft","positionTop"]);delete o.target,delete o.container,delete o.containerPadding,delete o.shouldUpdatePosition;var p=g.default.Children.only(t);return(0,_.cloneElement)(p,l({},o,c,{positionLeft:s,positionTop:a,className:(0,u.default)(n,p.props.className),style:l({},p.props.style,{left:s,top:a})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,!e)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var t=v.default.findDOMNode(this),n=(0,T.default)(this.props.container,(0,C.default)(this).body);this.setState((0,b.default)(this.props.placement,t,e,n,this.props.containerPadding))},t}(g.default.Component);S.propTypes={target:h.default.oneOfType([f.default,h.default.func]),container:h.default.oneOfType([f.default,h.default.func]),containerPadding:h.default.number,placement:h.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:h.default.bool},S.displayName="Position",S.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n=void 0,o=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,o=(0,d.default)((0,_.default)(e).documentElement)||(0,d.default)(e);else{var r=(0,c.default)(e);t=r.width,n=r.height,o=(0,d.default)(e)}return{width:t,height:n,scroll:o}}function i(e,t,n,o){var i=r(n),s=i.scroll,a=i.height,l=e-o-s,c=e+o-s+t;return l<0?-l:c>a?a-c:0}function s(e,t,n,o){var i=r(n),s=i.width,a=e-o,l=e+o+t;return a<0?-a:l>s?s-l:0}function a(e,t,n,o,r){var a="BODY"===o.tagName?(0,c.default)(n):(0,p.default)(n,o),l=(0,c.default)(t),u=l.height,h=l.width,d=void 0,f=void 0,_=void 0,g=void 0;if("left"===e||"right"===e){f=a.top+(a.height-u)/2,d="left"===e?a.left-h:a.left+a.width;var m=i(f,u,o,r);f+=m,g=50*(1-2*m/u)+"%",_=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');d=a.left+(a.width-h)/2,f="top"===e?a.top-u:a.top+a.height;var v=s(d,h,o,r);d+=v,_=50*(1-2*v/h)+"%",g=void 0}return{positionLeft:d,positionTop:f,arrowOffsetLeft:_,arrowOffsetTop:g}}t.__esModule=!0,t.default=a;var l=n(52),c=o(l),u=n(189),p=o(u),h=n(116),d=o(h),f=n(55),_=o(f);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return 0===e.button}function l(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}t.__esModule=!0;var c=n(74),u=o(c),p=n(5),h=o(p),d=n(0),f=o(d),_=n(7),g=o(_),m=n(373),v=o(m),y=n(55),b=o(y),E=27,T=function(e){function t(n,o){r(this,t);var s=i(this,e.call(this,n,o));return s.addEventListeners=function(){var e=s.props.event,t=(0,b.default)(s);s.documentMouseCaptureListener=(0,v.default)(t,e,s.handleMouseCapture,!0),s.documentMouseListener=(0,v.default)(t,e,s.handleMouse),s.documentKeyupListener=(0,v.default)(t,"keyup",s.handleKeyUp)},s.removeEventListeners=function(){s.documentMouseCaptureListener&&s.documentMouseCaptureListener.remove(),s.documentMouseListener&&s.documentMouseListener.remove(),s.documentKeyupListener&&s.documentKeyupListener.remove()},s.handleMouseCapture=function(e){s.preventMouseRootClose=l(e)||!a(e)||(0,u.default)(g.default.findDOMNode(s),e.target)},s.handleMouse=function(e){!s.preventMouseRootClose&&s.props.onRootClose&&s.props.onRootClose(e)},s.handleKeyUp=function(e){e.keyCode===E&&s.props.onRootClose&&s.props.onRootClose(e)},s.preventMouseRootClose=!1,s}return s(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(f.default.Component);T.displayName="RootCloseWrapper",T.propTypes={onRootClose:h.default.func,children:h.default.element,disabled:h.default.bool,event:h.default.oneOf(["click","mousedown"])},T.defaultProps={event:"click"},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e,t,n,o){return(0,i.default)(e,t,n,o),{remove:function(){(0,a.default)(e,t,n,o)}}};var r=n(119),i=o(r),s=n(120),a=o(s);e.exports=t.default},function(e,t,n){function o(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=a(o+l,0)),r(e,i(t,3),l)}var r=n(375),i=n(75),s=n(187),a=Math.max;e.exports=o},function(e,t){function n(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}e.exports=n},function(e,t,n){function o(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(377),i=n(425),s=n(207);e.exports=o},function(e,t,n){function o(e,t,n,o){var l=n.length,c=l,u=!o;if(null==e)return!c;for(e=Object(e);l--;){var p=n[l];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<c;){p=n[l];var h=p[0],d=e[h],f=p[1];if(u&&p[2]){if(void 0===d&&!(h in e))return!1}else{var _=new r;if(o)var g=o(d,f,h,e,t,_);if(!(void 0===g?i(f,d,s|a,o,_):g))return!1}}return!0}var r=n(122),i=n(198),s=1,a=2;e.exports=o},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function o(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():s.call(t,n,1),--this.size,!0)}var r=n(77),i=Array.prototype,s=i.splice;e.exports=o},function(e,t,n){function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(77);e.exports=o},function(e,t,n){function o(e){return r(this.__data__,e)>-1}var r=n(77);e.exports=o},function(e,t,n){function o(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var r=n(77);e.exports=o},function(e,t,n){function o(){this.__data__=new r,this.size=0}var r=n(76);e.exports=o},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function o(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<a-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}var r=n(76),i=n(123),s=n(124),a=200;e.exports=o},function(e,t,n){function o(e){return!(!s(e)||i(e))&&(r(e)?f:c).test(a(e))}var r=n(112),i=n(389),s=n(25),a=n(197),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,h=u.toString,d=p.hasOwnProperty,f=RegExp("^"+h.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=o},function(e,t,n){function o(e){return!!i&&i in e}var r=n(390),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=o},function(e,t,n){var o=n(21),r=o["__core-js_shared__"];e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function o(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}var r=n(393),i=n(76),s=n(123);e.exports=o},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n(394),i=n(395),s=n(396),a=n(397),l=n(398);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=l,e.exports=o},function(e,t,n){function o(){this.__data__=r?r(null):{},this.size=0}var r=n(78);e.exports=o},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function o(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}var r=n(78),i="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t,n){function o(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=n(78),i=Object.prototype,s=i.hasOwnProperty;e.exports=o},function(e,t,n){function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}var r=n(78),i="__lodash_hash_undefined__";e.exports=o},function(e,t,n){function o(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(79);e.exports=o},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function o(e){return r(this,e).get(e)}var r=n(79);e.exports=o},function(e,t,n){function o(e){return r(this,e).has(e)}var r=n(79);e.exports=o},function(e,t,n){function o(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var r=n(79);e.exports=o},function(e,t,n){function o(e,t,n,o,g,v){var y=c(e),b=c(t),E=y?f:l(e),T=b?f:l(t);E=E==d?_:E,T=T==d?_:T;var O=E==_,C=T==_,S=E==T;if(S&&u(e)){if(!u(t))return!1;y=!0,O=!1}if(S&&!O)return v||(v=new r),y||p(e)?i(e,t,n,o,g,v):s(e,t,E,n,o,g,v);if(!(n&h)){var k=O&&m.call(e,"__wrapped__"),R=C&&m.call(t,"__wrapped__");if(k||R){var w=k?e.value():e,I=R?t.value():t;return v||(v=new r),g(w,I,n,o,v)}}return!!S&&(v||(v=new r),a(e,t,n,o,g,v))}var r=n(122),i=n(199),s=n(410),a=n(413),l=n(83),c=n(17),u=n(80),p=n(128),h=1,d="[object Arguments]",f="[object Array]",_="[object Object]",g=Object.prototype,m=g.hasOwnProperty;e.exports=o},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(124),i=n(406),s=n(407);o.prototype.add=o.prototype.push=i,o.prototype.has=s,e.exports=o},function(e,t){function n(e){return this.__data__.set(e,o),this}var o="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function o(e,t,n,o,r,O,S){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!O(new i(e),new i(t)));case h:case d:case g:return s(+e,+t);case f:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case _:var k=l;case v:var R=o&u;if(k||(k=c),e.size!=t.size&&!R)return!1;var w=S.get(e);if(w)return w==t;o|=p,S.set(e,t);var I=a(k(e),k(t),o,r,O,S);return S.delete(e),I;case b:if(C)return C.call(e)==C.call(t)}return!1}var r=n(44),i=n(200),s=n(49),a=n(199),l=n(411),c=n(412),u=1,p=2,h="[object Boolean]",d="[object Date]",f="[object Error]",_="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",O=r?r.prototype:void 0,C=O?O.valueOf:void 0;e.exports=o},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function o(e,t,n,o,s,l){var c=n&i,u=r(e),p=u.length;if(p!=r(t).length&&!c)return!1;for(var h=p;h--;){var d=u[h];if(!(c?d in t:a.call(t,d)))return!1}var f=l.get(e),_=l.get(t);if(f&&_)return f==t&&_==e;var g=!0;l.set(e,t),l.set(t,e);for(var m=c;++h<p;){d=u[h];var v=e[d],y=t[d];if(o)var b=c?o(y,v,d,t,e,l):o(v,y,d,e,t,l);if(!(void 0===b?v===y||s(v,y,n,o,l):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var E=e.constructor,T=t.constructor;E!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof T&&T instanceof T)&&(g=!1)}return l.delete(e),l.delete(t),g}var r=n(201),i=1,s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}e.exports=n},function(e,t,n){function o(e){return i(e)&&r(e)==s}var r=n(43),i=n(30),s="[object Arguments]";e.exports=o},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function o(e){return s(e)&&i(e.length)&&!!a[r(e)]}var r=n(43),i=n(113),s=n(30),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=o},function(e,t,n){function o(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(130),i=n(420),s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t,n){var o=n(205),r=o(Object.keys,Object);e.exports=r},function(e,t,n){var o=n(38),r=n(21),i=o(r,"DataView");e.exports=i},function(e,t,n){var o=n(38),r=n(21),i=o(r,"Promise");e.exports=i},function(e,t,n){var o=n(38),r=n(21),i=o(r,"Set");e.exports=i},function(e,t,n){var o=n(38),r=n(21),i=o(r,"WeakMap");e.exports=i},function(e,t,n){function o(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}var r=n(206),i=n(57);e.exports=o},function(e,t,n){function o(e,t){return a(e)&&l(t)?c(u(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?s(n,e):r(t,o,p|h)}}var r=n(198),i=n(427),s=n(433),a=n(131),l=n(206),c=n(207),u=n(58),p=1,h=2;e.exports=o},function(e,t,n){function o(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}var r=n(84);e.exports=o},function(e,t,n){var o=n(429),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=o(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,o,r){t.push(o?r.replace(i,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function o(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}var r=n(430),i=500;e.exports=o},function(e,t,n){function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(o.Cache||r),n}var r=n(124),i="Expected a function";o.Cache=r,e.exports=o},function(e,t,n){function o(e){return null==e?"":r(e)}var r=n(432);e.exports=o},function(e,t,n){function o(e){if("string"==typeof e)return e;if(s(e))return i(e,o)+"";if(a(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=n(44),i=n(132),s=n(17),a=n(51),l=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=o},function(e,t,n){function o(e,t){return null!=e&&i(e,t,r)}var r=n(434),i=n(435);e.exports=o},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function o(e,t,n){t=r(t,e);for(var o=-1,u=t.length,p=!1;++o<u;){var h=c(t[o]);if(!(p=null!=e&&n(e,h)))break;e=e[h]}return p||++o!=u?p:!!(u=null==e?0:e.length)&&l(u)&&a(h,u)&&(s(e)||i(e))}var r=n(85),i=n(127),s=n(17),a=n(114),l=n(113),c=n(58);e.exports=o},function(e,t,n){function o(e){return s(e)?r(a(e)):i(e)}var r=n(437),i=n(438),s=n(131),a=n(58);e.exports=o},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function o(e){return function(t){return r(t,e)}}var r=n(84);e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(5),c=o(l),u=n(0),p=o(u),h=n(7),d=n(3),f=o(d),_=n(11),g=o(_),m=n(42),v=n(15),y=n(54),b=n(208),E=o(b),T=function(e){function t(n,o){r(this,t);var s=i(this,e.call(this,n,o));return s.state={selecting:!1},s}return s(t,e),t.prototype.componentDidMount=function(){this.props.selectable&&this._selectable()},t.prototype.componentWillUnmount=function(){this._teardownSelectable()},t.prototype.componentWillReceiveProps=function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable()},t.prototype.render=function(){var e=this.props,t=e.range,n=e.cellWrapperComponent,o=e.dayPropGetter,r=e.date,i=e.getNow,s=this.state,a=s.selecting,l=s.startIdx,c=s.endIdx,u=i();return p.default.createElement("div",{className:"rbc-row-bg"},t.map(function(e,i){var s=a&&i>=l&&i<=c,h=o&&o(e)||{},d=h.className,_=h.style;return p.default.createElement(n,{key:i,value:e,range:t},p.default.createElement("div",{style:_,className:(0,f.default)("rbc-day-bg",d,s&&"rbc-selected-cell",g.default.eq(e,u,"day")&&"rbc-today",r&&g.default.month(r)!==g.default.month(e)&&"rbc-off-range-bg")}))}))},t.prototype._selectable=function(){var e=this,t=(0,h.findDOMNode)(this),n=this._selector=new E.default(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(n,o){if(!(0,b.isEvent)((0,h.findDOMNode)(e),n)){var r=(0,b.getBoundsForNode)(t),i=e.props,s=i.range,a=i.rtl;if((0,y.pointInBox)(r,n)){var l=(0,y.slotWidth)((0,b.getBoundsForNode)(t),s.length),c=(0,y.getCellAtX)(r,n.x,l,a,s.length);e._selectSlot({startIdx:c,endIdx:c,action:o,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",function(o){var r=e.props,i=r.range,s=r.rtl,a=-1,l=-1;if(e.state.selecting||((0,m.notify)(e.props.onSelectStart,[o]),e._initial={x:o.x,y:o.y}),n.isSelected(t)){var c=(0,b.getBoundsForNode)(t),u=(0,y.dateCellSelection)(e._initial,c,o,i.length,s);a=u.startIdx,l=u.endIdx}e.setState({selecting:!0,startIdx:a,endIdx:l})}),n.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!(0,b.isEvent)((0,h.findDOMNode)(e),t)}),n.on("click",function(e){return o(e,"click")}),n.on("doubleClick",function(e){return o(e,"doubleClick")}),n.on("select",function(t){e._selectSlot(a({},e.state,{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),(0,m.notify)(e.props.onSelectEnd,[e.state])})},t.prototype._teardownSelectable=function(){this._selector&&(this._selector.teardown(),this._selector=null)},t.prototype._selectSlot=function(e){var t=e.endIdx,n=e.startIdx,o=e.action,r=e.bounds,i=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:o,bounds:r,box:i})},t}(p.default.Component);T.propTypes={date:c.default.instanceOf(Date),getNow:c.default.func.isRequired,cellWrapperComponent:v.elementType,container:c.default.func,dayPropGetter:c.default.func,selectable:c.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:c.default.number,onSelectSlot:c.default.func.isRequired,onSelectEnd:c.default.func,onSelectStart:c.default.func,range:c.default.arrayOf(c.default.instanceOf(Date)),rtl:c.default.bool,type:c.default.string},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){for(;e&&(s(e)||!(0,i.default)(e,t));)e=e===n||s(e)?void 0:e.parentNode;return e}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(441)),s=function(e){return null!=e&&e.nodeType===e.DOCUMENT_NODE};e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!s&&a.default){var n=document.body,o=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;s=o?function(e,t){return o.call(e,t)}:r}return s?s(e,t):null}function r(e,t){for(var n=(0,l.default)(e.document||e.ownerDocument,t),o=0;n[o]&&n[o]!==e;)o++;return!!n[o]}var i=n(6);t.__esModule=!0,t.default=o;var s,a=i(n(31)),l=i(n(121));e.exports=t.default},function(e,t,n){"use strict";var o=n(6);t.__esModule=!0,t.default=void 0;var r=o(n(119));t.on=r.default;var i=o(n(120));t.off=i.default;var s=o(n(443));t.filter=s.default;var a=o(n(444));t.listen=a.default;var l={on:r.default,off:i.default,filter:s.default,listen:a.default};t.default=l},function(e,t,n){"use strict";function o(e,t){return function(n){var o=n.currentTarget,r=n.target;(0,s.default)(o,e).some(function(e){return(0,i.default)(e,r)})&&t.call(this,n)}}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(74)),s=r(n(121));e.exports=t.default},function(e,t,n){"use strict";var o=n(6);t.__esModule=!0,t.default=void 0;var r=o(n(31)),i=o(n(119)),s=o(n(120)),a=function(){};r.default&&(a=function(e,t,n,o){return(0,i.default)(e,t,n,o),function(){(0,s.default)(e,t,n,o)}});var l=a;t.default=l,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(5),c=o(l),u=n(0),p=o(u),h=n(209),d=o(h),f=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.segments,o=t.slots,r=1;return p.default.createElement("div",{className:"rbc-row"},n.reduce(function(t,n,i){var s=n.event,a=n.left,l=n.right,c=n.span,u="_lvl_"+i,p=a-r,h=d.default.renderEvent(e.props,s);return p&&t.push(d.default.renderSpan(o,p,u+"_gap")),t.push(d.default.renderSpan(o,c,u,h)),r=l+1,t},[]))},t}(p.default.Component);f.propTypes=a({segments:c.default.array},d.default.propTypes),f.defaultProps=a({},d.default.defaultProps),t.default=f,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(5),c=o(l),u=n(0),p=o(u),h=n(209),d=o(h),f=n(56),_=n(111),g=o(_),m=n(447),v=o(m),y=function(e,t){return e.left<=t&&e.right>=t},b=function(e,t){return e.filter(function(e){return y(e,t)}).length},E=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){for(var e=this.props,t=e.segments,n=e.slots,o=(0,f.eventLevels)(t).levels[0],r=1,i=1,s=[];r<=n;){var a="_lvl_"+r,l=o.filter(function(e){return y(e,r)})[0]||{},c=l.event,u=l.left,h=l.right,_=l.span;if(c){var g=Math.max(0,u-i);if(this.canRenderSlotEvent(u,_)){var m=d.default.renderEvent(this.props,c);g&&s.push(d.default.renderSpan(n,g,a+"_gap")),s.push(d.default.renderSpan(n,_,a,m)),i=r=h+1}else g&&s.push(d.default.renderSpan(n,g,a+"_gap")),s.push(d.default.renderSpan(n,1,a,this.renderShowMore(t,r))),i=r+=1}else r++}return p.default.createElement("div",{className:"rbc-row"},s)},t.prototype.canRenderSlotEvent=function(e,t){var n=this.props.segments;return(0,v.default)(e,e+t).every(function(e){return 1===b(n,e)})},t.prototype.renderShowMore=function(e,t){var n=this,o=(0,g.default)(this.props.messages),r=b(e,t);return!!r&&p.default.createElement("a",{key:"sm_"+t,href:"#",className:"rbc-show-more",onClick:function(e){return n.showMore(t,e)}},o.showMore(r))},t.prototype.showMore=function(e,t){t.preventDefault(),this.props.onShowMore(e)},t}(p.default.Component);E.propTypes=a({segments:c.default.array,slots:c.default.number,messages:c.default.object,onShowMore:c.default.func},d.default.propTypes),E.defaultProps=a({},d.default.defaultProps),t.default=E,e.exports=t.default},function(e,t,n){var o=n(448),r=o();e.exports=r},function(e,t,n){function o(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),o=void 0===o?t<n?1:-1:s(o),r(t,n,o,e)}}var r=n(449),i=n(73),s=n(188);e.exports=o},function(e,t){function n(e,t,n,i){for(var s=-1,a=r(o((t-e)/(n||1)),0),l=Array(a);a--;)l[i?a:++s]=e,e+=n;return l}var o=Math.ceil,r=Math.max;e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(5),i=o(r),s=n(0),a=o(s),l=function(e){var t=e.label,n=e.drilldownView,o=e.onDrillDown;return n?a.default.createElement("a",{href:"#",onClick:o},t):a.default.createElement("span",null,t)};l.propTypes={label:i.default.node,date:i.default.instanceOf(Date),drilldownView:i.default.string,onDrillDown:i.default.func,isOffRange:i.default.bool},t.default=l,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=o(c),p=n(0),h=o(p),d=n(11),f=o(d),_=n(20),g=n(133),m=o(g),v=n(12),y=o(v),b=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,n=e.date,o=r(e,["date"]),i=t.range(n);return h.default.createElement(m.default,l({},o,{range:i,eventOffset:10}))},t}(h.default.Component);b.propTypes={date:u.default.instanceOf(Date).isRequired},b.range=function(e){return[f.default.startOf(e,"day")]},b.navigate=function(e,t){switch(t){case _.navigate.PREVIOUS:return f.default.add(e,-1,"day");case _.navigate.NEXT:return f.default.add(e,1,"day");default:return e}},b.title=function(e,t){var n=t.formats,o=t.culture;return y.default.format(e,n.dayHeaderFormat,o)},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(5),u=r(c),p=n(0),h=r(p),d=n(7),f=n(3),_=r(f),g=n(208),m=r(g),v=n(11),y=r(v),b=n(211),E=o(b),T=n(54),O=n(12),C=r(O),S=n(42),k=n(15),R=n(37),w=n(453),I=o(w),D=n(217),A=r(D),N=function(e){function t(){i(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=s(this,e.call.apply(e,[this].concat(o)));return M.call(a),a.slotMetrics=E.getSlotMetrics(a.props),a}return a(t,e),t.prototype.componentDidMount=function(){this.props.selectable&&this._selectable()},t.prototype.componentWillUnmount=function(){this._teardownSelectable()},t.prototype.componentWillReceiveProps=function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(e)},t.prototype.render=function(){var e=this.props,t=e.max,n=e.rtl,o=e.date,r=e.getNow,i=e.selectRangeFormat,s=e.culture,a=e.slotPropGetter,l=e.resource,c=e.timeSlotWrapperComponent,u=e.dayPropGetter,p=this.slotMetrics,d=this.state,f=d.selecting,g=d.top,m=d.height,v=d.startDate,b=d.endDate,E={start:v,end:b},T=u&&u(t)||{},O=T.className,S=T.style,k=r();return h.default.createElement("div",{style:S,className:(0,_.default)(O,"rbc-day-slot","rbc-time-column",f&&"rbc-slot-selecting",y.default.eq(o,k,"day")&&"rbc-today")},p.groups.map(function(e,t){return h.default.createElement(A.default,{key:t,group:e,resource:l,slotPropGetter:a,timeSlotWrapperComponent:c})}),h.default.createElement("div",{className:(0,_.default)("rbc-events-container",n&&"rtl")},this.renderEvents()),f&&h.default.createElement("div",{className:"rbc-slot-selection",style:{top:g,height:m}},h.default.createElement("span",null,C.default.format(E,i,s))))},t}(h.default.Component);N.propTypes={events:u.default.array.isRequired,components:u.default.object,step:u.default.number.isRequired,date:u.default.instanceOf(Date).isRequired,min:u.default.instanceOf(Date).isRequired,max:u.default.instanceOf(Date).isRequired,getNow:u.default.func.isRequired,rtl:u.default.bool,titleAccessor:k.accessor,tooltipAccessor:k.accessor,allDayAccessor:k.accessor.isRequired,startAccessor:k.accessor.isRequired,endAccessor:k.accessor.isRequired,selectRangeFormat:k.dateFormat,eventTimeRangeFormat:k.dateFormat,eventTimeRangeStartFormat:k.dateFormat,eventTimeRangeEndFormat:k.dateFormat,showMultiDayTimes:u.default.bool,culture:u.default.string,timeslots:u.default.number,messages:u.default.object,selected:u.default.object,selectable:u.default.oneOf([!0,!1,"ignoreEvents"]),eventOffset:u.default.number,longPressThreshold:u.default.number,onSelecting:u.default.func,onSelectSlot:u.default.func.isRequired,onSelectEvent:u.default.func.isRequired,onDoubleClickEvent:u.default.func.isRequired,className:u.default.string,dragThroughEvents:u.default.bool,eventPropGetter:u.default.func,dayPropGetter:u.default.func,slotPropGetter:u.default.func,timeSlotWrapperComponent:k.elementType,eventComponent:k.elementType,eventWrapperComponent:k.elementType.isRequired,resource:u.default.any},N.defaultProps={dragThroughEvents:!0,timeslots:2};var M=function(){var e=this;this.state={selecting:!1},this.renderEvents=function(){var t=e.props,n=t.components.event,o=t.culture,r=t.endAccessor,i=t.eventPropGetter,s=t.eventTimeRangeEndFormat,a=t.eventTimeRangeFormat,c=t.eventTimeRangeStartFormat,u=t.eventWrapperComponent,p=t.events,d=t.max,f=t.messages,g=t.min,m=t.rtl,v=t.selected,y=t.startAccessor,b=t.titleAccessor,E=t.tooltipAccessor;return I.getStyledEvents({events:p,startAccessor:y,endAccessor:r,slotMetrics:e.slotMetrics}).map(function(t,p){var O,S=t.event,k=t.style,w=a,I=!1,D=!1,A=(0,R.accessor)(S,y),N=(0,R.accessor)(S,r);A<g&&(A=g,I=!0,w=s),N>d&&(N=d,D=!0,w=c);var M=e.slotMetrics.startsBefore(A),P=e.slotMetrics.startsAfter(N),x=(0,R.accessor)(S,b),L=(0,R.accessor)(S,E),B=void 0;B=I&&D?f.allDay:C.default.format({start:A,end:N},w,o);var F=(0,T.isSelected)(S,v);if(i)var U=i(S,A,N,F),j=U.style,W=U.className;var V=k.height,H=k.top,G=k.width,Y=k.xOffset,K={event:S,continuesPrior:I,continuesAfter:D};return h.default.createElement(u,l({},K,{key:"evt_"+p}),h.default.createElement("div",{style:l({},j,(O={top:H+"%",height:V+"%"},O[m?"right":"left"]=Math.max(0,Y)+"%",O.width=G+"%",O)),title:L?("string"===typeof B?B+": ":"")+L:void 0,onClick:function(t){return e._select(S,t)},onDoubleClick:function(t){return e._doubleClick(S,t)},className:(0,_.default)("rbc-event",W,{"rbc-selected":F,"rbc-event-continues-earlier":M,"rbc-event-continues-later":P,"rbc-event-continues-day-prior":I,"rbc-event-continues-day-after":D})},h.default.createElement("div",{className:"rbc-event-label"},B),h.default.createElement("div",{className:"rbc-event-content"},n?h.default.createElement(n,{event:S,title:x}):x)))})},this._selectable=function(){var t=(0,d.findDOMNode)(e),n=e._selector=new m.default(function(){return(0,d.findDOMNode)(e)},{longPressThreshold:e.props.longPressThreshold}),o=function(t){var n=e.props.onSelecting,o=e.state||{},i=r(t),s=i.startDate,a=i.endDate;n&&(y.default.eq(o.startDate,s,"minutes")&&y.default.eq(o.endDate,a,"minutes")||!1===n({start:s,end:a}))||e.state.start===i.start&&e.state.end===i.end&&e.state.selecting===i.selecting||e.setState(i)},r=function(n){var o=n.y,r=(0,g.getBoundsForNode)(t),i=r.top,s=r.bottom,a=Math.abs(i-s),c=e.slotMetrics.closestSlotToPosition((o-i)/a);e.state.selecting||(e._initialSlot=c);var u=e._initialSlot;u===c&&(c=e.slotMetrics.nextSlot(u));var p=e.slotMetrics.getRange(y.default.min(u,c),y.default.max(u,c));return l({},p,{selecting:!0,top:p.top+"%",height:p.height+"%"})},i=function(t,n){if(!(0,g.isEvent)((0,d.findDOMNode)(e),t)){var o=r(t),i=o.startDate,s=o.endDate;e._selectSlot({startDate:i,endDate:s,action:n,box:t})}e.setState({selecting:!1})};n.on("selecting",o),n.on("selectStart",o),n.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!(0,g.isEvent)((0,d.findDOMNode)(e),t)}),n.on("click",function(e){return i(e,"click")}),n.on("doubleClick",function(e){return i(e,"doubleClick")}),n.on("select",function(t){e.state.selecting&&(e._selectSlot(l({},e.state,{action:"select",bounds:t})),e.setState({selecting:!1}))})},this._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},this._selectSlot=function(t){for(var n=t.startDate,o=t.endDate,r=t.action,i=t.bounds,s=t.box,a=n,l=[];y.default.lte(a,o);)l.push(a),a=y.default.add(a,e.props.step,"minutes");(0,S.notify)(e.props.onSelectSlot,{slots:l,start:n,end:o,resourceId:e.props.resource,action:r,bounds:i,box:s})},this._select=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(0,S.notify)(e.props.onSelectEvent,n)},this._doubleClick=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(0,S.notify)(e.props.onDoubleClickEvent,n)}};t.default=N,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Math.abs(t.start-e.start)<=30||e.start>t.start&&e.start<t.end}function s(e){for(var t=(0,u.default)(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var o=t.shift();n.push(o);for(var r=0;r<t.length;r++){var i=t[r];if(!(o.endMs>i.startMs)){if(r>0){var s=t.splice(r,1)[0];n.push(s)}break}}}return n}function a(e){for(var t=e.events,n=o(e,["events"]),r=t.map(function(e){return new h(e,n)}),a=s(r),l=[],c=0;c<a.length;c++){(function(e){var t=a[e],n=l.find(function(e){return e.end>t.start||Math.abs(t.start-e.start)<30});if(!n)return t.rows=[],l.push(t),"continue";t.container=n;for(var o=null,r=n.rows.length-1;!o&&r>=0;r--)i(n.rows[r],t)&&(o=n.rows[r]);o?(o.leaves.push(t),t.row=o):(t.leaves=[],n.rows.push(t))})(c)}return a.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:e.xOffset}}})}t.__esModule=!0,t.getStyledEvents=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(454),u=function(e){return e&&e.__esModule?e:{default:e}}(c),p=n(37),h=function(){function e(t,n){var o=n.startAccessor,i=n.endAccessor,s=n.slotMetrics;r(this,e);var a=s.getRange((0,p.accessor)(t,o),(0,p.accessor)(t,i)),l=a.start,c=a.startDate,u=a.end,h=a.endDate,d=a.top,f=a.height;this.start=l,this.end=u,this.startMs=+c,this.endMs=+h,this.top=d,this.height=f,this.data=t}return l(e,[{key:"_width",get:function(){if(this.rows){return 100/(this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1)}var e=100-this.container._width;return this.leaves?e/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,o=e._width;return n+(t.indexOf(this)+1)*o}}]),e}();t.getStyledEvents=a},function(e,t,n){var o=n(212),r=n(456),i=n(213),s=n(73),a=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,o(t,1),[])});e.exports=a},function(e,t,n){function o(e){return s(e)||i(e)||!!(a&&e&&e[a])}var r=n(44),i=n(127),s=n(17),a=r?r.isConcatSpreadable:void 0;e.exports=o},function(e,t,n){function o(e,t,n){t=t.length?r(t,function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[p];var o=-1;t=r(t,c(s));var d=a(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++o,value:e}});return l(d,function(e,t){return u(e,t,n)})}var r=n(132),i=n(84),s=n(75),a=n(457),l=n(462),c=n(82),u=n(463),p=n(86),h=n(17);e.exports=o},function(e,t,n){function o(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}var r=n(458),i=n(50);e.exports=o},function(e,t,n){var o=n(134),r=n(461),i=r(o);e.exports=i},function(e,t,n){var o=n(460),r=o();e.exports=r},function(e,t){function n(e){return function(t,n,o){for(var r=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(i[l],l,i))break}return t}}e.exports=n},function(e,t,n){function o(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&!1!==o(a[s],s,a););return n}}var r=n(50);e.exports=o},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t,n){function o(e,t,n){for(var o=-1,i=e.criteria,s=t.criteria,a=i.length,l=n.length;++o<a;){var c=r(i[o],s[o]);if(c){if(o>=l)return c;return c*("desc"==n[o]?-1:1)}}return e.index-t.index}var r=n(464);e.exports=o},function(e,t,n){function o(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e===e,s=r(e),a=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||o&&a&&c||!n&&c||!i)return 1;if(!o&&!s&&!u&&e<t||u&&n&&i&&!o&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}var r=n(51);e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var o=n(467),r=n(216),i=n(86),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:i;e.exports=s},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var s=i(),a=r-(s-n);if(n=s,a>0){if(++t>=o)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var o=800,r=16,i=Date.now;e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(3),l=o(a),c=n(5),u=o(c),p=n(0),h=o(p),d=n(211),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),_=n(15),g=n(12),m=o(g),v=n(217),y=o(v),b=function(e){function t(){r(this,t);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=i(this,e.call.apply(e,[this].concat(o)));a.renderSlot=function(e,t){if(0!==t)return null;var n=a.props,o=n.timeGutterFormat,r=n.getNow,i=n.culture,s=a.slotMetrics.dateIsInGroup(r(),t);return h.default.createElement("span",{className:(0,l.default)("rbc-label",s&&"rbc-now")},m.default.format(e,o,i))};var c=a.props,u=c.min,p=c.max,d=c.timeslots,_=c.step;return a.slotMetrics=f.getSlotMetrics({min:u,max:p,timeslots:d,step:_}),a}return s(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.min,n=e.max,o=e.timeslots,r=e.step;this.slotMetrics=this.slotMetrics.update({min:t,max:n,timeslots:o,step:r})},t.prototype.render=function(){var e=this,t=this.props,n=t.culture,o=t.resource;return h.default.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map(function(t,r){return h.default.createElement(y.default,{key:r,group:t,culture:n,resource:o,renderSlot:e.renderSlot})}))},t}(p.Component);b.propTypes={min:u.default.instanceOf(Date).isRequired,max:u.default.instanceOf(Date).isRequired,timeslots:u.default.number.isRequired,step:u.default.number.isRequired,getNow:u.default.func.isRequired,timeGutterFormat:_.dateFormat,culture:u.default.string,resource:u.default.string},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(5),l=o(a),c=n(3),u=o(c),p=n(219),h=o(p),d=n(0),f=o(d),_=n(11),g=o(_),m=n(15),v=n(12),y=o(v),b=n(195),E=o(b),T=n(210),O=o(T),C=n(42),S=n(37),k=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.handleHeaderClick=function(e,t,n){n.preventDefault(),(0,C.notify)(o.props.onDrillDown,[e,t])},s=n,i(o,s)}return s(t,e),t.prototype.renderHeaderResources=function(e,t){var n=this.props,o=n.resourceTitleAccessor,r=n.getNow,i=r();return e.map(function(e,n){return t.map(function(t,r){return f.default.createElement("div",{key:n+"-"+r,className:(0,u.default)("rbc-header",g.default.eq(e,i,"day")&&"rbc-today")},(0,S.accessor)(t,o))})})},t.prototype.renderHeaderCells=function(e){var t=this,n=this.props,o=n.dayFormat,r=n.culture,i=n.dayPropGetter,s=n.getDrilldownView,a=n.getNow,l=n.headerComponent,c=a();return e.map(function(e,n){var a=s(e),p=y.default.format(e,o,r),h=i&&i(e)||{},d=h.className,_=h.style,m=f.default.createElement(l,{date:e,label:p,localizer:y.default,format:o,culture:r});return f.default.createElement("div",{key:n,style:_,className:(0,u.default)("rbc-header",d,g.default.eq(e,c,"day")&&"rbc-today")},a?f.default.createElement("a",{href:"#",onClick:function(n){return t.handleHeaderClick(e,a,n)}},m):f.default.createElement("span",null,m))})},t.prototype.render=function(){var e=this.props,t=e.width,n=e.events,o=e.rtl,r=e.selectable,i=e.resources,s=e.getNow,a=e.range,l=e.isOverflowing,c=e.eventComponent,p=e.dateCellWrapperComponent,d=e.eventWrapperComponent,_={};return l&&(_[o?"marginLeft":"marginRight"]=(0,h.default)()+"px"),f.default.createElement("div",{ref:"headerCell",style:_,className:(0,u.default)("rbc-time-header",l&&"rbc-overflowing")},f.default.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t}}),f.default.createElement("div",{className:"rbc-time-header-content"},f.default.createElement("div",{className:"rbc-row rbc-time-header-cell"},this.renderHeaderCells(a)),i&&f.default.createElement("div",{className:"rbc-row rbc-row-resource"},this.renderHeaderResources(a,i)),f.default.createElement(E.default,{isAllDay:!0,rtl:o,getNow:s,minRows:2,range:a,events:n,className:"rbc-allday-cell",selectable:r,selected:this.props.selected,eventComponent:c,eventWrapperComponent:d,dateCellWrapperComponent:p,dayPropGetter:this.props.dayPropGetter,titleAccessor:this.props.titleAccessor,tooltipAccessor:this.props.tooltipAccessor,startAccessor:this.props.startAccessor,endAccessor:this.props.endAccessor,allDayAccessor:this.props.allDayAccessor,eventPropGetter:this.props.eventPropGetter,onSelect:this.props.onSelectEvent,onDoubleClick:this.props.onDoubleClickEvent,onSelectSlot:this.props.onSelectSlot,longPressThreshold:this.props.longPressThreshold})))},t}(f.default.Component);k.propTypes={range:l.default.array.isRequired,events:l.default.array.isRequired,resources:l.default.array,getNow:l.default.func.isRequired,isOverflowing:l.default.bool,dayFormat:m.dateFormat,eventPropGetter:l.default.func,dayPropGetter:l.default.func,culture:l.default.string,rtl:l.default.bool,width:l.default.number,titleAccessor:m.accessor.isRequired,tooltipAccessor:m.accessor.isRequired,allDayAccessor:m.accessor.isRequired,startAccessor:m.accessor.isRequired,endAccessor:m.accessor.isRequired,resourceAccessor:m.accessor.isRequired,resourceIdAccessor:m.accessor.isRequired,resourceTitleAccessor:m.accessor.isRequired,selected:l.default.object,selectable:l.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:l.default.number,headerComponent:m.elementType,eventComponent:m.elementType,eventWrapperComponent:m.elementType.isRequired,dateCellWrapperComponent:m.elementType,onSelectSlot:l.default.func,onSelectEvent:l.default.func,onDoubleClickEvent:l.default.func,onDrillDown:l.default.func,getDrilldownView:l.default.func.isRequired},k.defaultProps={headerComponent:O.default},t.default=k,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return _.default.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=n(5),p=o(u),h=n(0),d=o(h),f=n(220),_=o(f),g=n(133),m=o(g),v=n(12),y=o(v),b=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.date,n=r(e,["date"]),o=l(t,this.props);return d.default.createElement(m.default,c({},n,{range:o,eventOffset:15}))},t}(d.default.Component);b.propTypes={date:p.default.instanceOf(Date).isRequired},b.defaultProps=m.default.defaultProps,b.range=function(e,t){return _.default.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})},b.navigate=_.default.navigate,b.title=function(e,t){var n=t.formats,o=t.culture,r=l(e,{culture:o}),i=r[0],s=r.slice(1);return y.default.format({start:i,end:s.pop()},n.dayRangeHeaderFormat,o)},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(5),l=o(a),c=n(0),u=o(c),p=n(473),h=o(p),d=n(218),f=o(d),_=n(219),g=o(_),m=n(12),v=o(m),y=n(111),b=o(y),E=n(11),T=o(E),O=n(20),C=n(37),S=n(15),k=n(56),R=n(54),w=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.renderDay=function(e,t,n){var r=o.props,i=r.culture,s=r.components,a=r.titleAccessor,l=r.agendaDateFormat,c=r.eventPropGetter,p=r.startAccessor,h=r.endAccessor,d=r.selected,f=s.event,_=s.date;return t=t.filter(function(t){return(0,k.inRange)(t,T.default.startOf(e,"day"),T.default.endOf(e,"day"),o.props)}),t.map(function(r,s){var g=c?c(r,(0,C.accessor)(r,p),(0,C.accessor)(r,h),(0,R.isSelected)(r,d)):{},m=g.className,y=g.style,b=0===s&&v.default.format(e,l,i),E=0===s&&u.default.createElement("td",{rowSpan:t.length,className:"rbc-agenda-date-cell"},_?u.default.createElement(_,{day:e,label:b}):b),T=(0,C.accessor)(r,a);return u.default.createElement("tr",{key:n+"_"+s,className:m,style:y},E,u.default.createElement("td",{className:"rbc-agenda-time-cell"},o.timeRangeLabel(e,r)),u.default.createElement("td",{className:"rbc-agenda-event-cell"},f?u.default.createElement(f,{event:r,title:T}):T))},[])},o.timeRangeLabel=function(e,t){var n=o.props,r=n.endAccessor,i=n.startAccessor,s=n.allDayAccessor,a=n.culture,l=n.messages,c=n.components,p="",h=c.time,d=(0,b.default)(l).allDay,f=(0,C.accessor)(t,i),_=(0,C.accessor)(t,r);return(0,C.accessor)(t,s)||(T.default.eq(f,_,"day")?d=v.default.format({start:f,end:_},o.props.agendaTimeRangeFormat,a):T.default.eq(e,f,"day")?d=v.default.format(f,o.props.agendaTimeFormat,a):T.default.eq(e,_,"day")&&(d=v.default.format(_,o.props.agendaTimeFormat,a))),T.default.gt(e,f,"day")&&(p="rbc-continues-prior"),T.default.lt(e,_,"day")&&(p+=" rbc-continues-after"),u.default.createElement("span",{className:p.trim()},h?u.default.createElement(h,{event:t,day:e,label:d}):d)},o._adjustHeader=function(){var e=o.refs.header,t=o.refs.tbody.firstChild;if(t){var n=o.refs.content.scrollHeight>o.refs.content.clientHeight,r=o._widths||[];o._widths=[(0,f.default)(t.children[0]),(0,f.default)(t.children[1])],r[0]===o._widths[0]&&r[1]===o._widths[1]||(o.refs.dateCol.style.width=o._widths[0]+"px",o.refs.timeCol.style.width=o._widths[1]+"px"),n?(h.default.addClass(e,"rbc-header-overflowing"),e.style.marginRight=(0,g.default)()+"px"):h.default.removeClass(e,"rbc-header-overflowing")}},s=n,i(o,s)}return s(t,e),t.prototype.componentDidMount=function(){this._adjustHeader()},t.prototype.componentDidUpdate=function(){this._adjustHeader()},t.prototype.render=function(){var e=this,t=this.props,n=t.length,o=t.date,r=t.events,i=t.startAccessor,s=(0,b.default)(this.props.messages),a=T.default.add(o,n,"day"),l=T.default.range(o,a,"day");return r=r.filter(function(t){return(0,k.inRange)(t,o,a,e.props)}),r.sort(function(e,t){return+(0,C.accessor)(e,i)-+(0,C.accessor)(t,i)}),u.default.createElement("div",{className:"rbc-agenda-view"},u.default.createElement("table",{ref:"header",className:"rbc-agenda-table"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{className:"rbc-header",ref:"dateCol"},s.date),u.default.createElement("th",{className:"rbc-header",ref:"timeCol"},s.time),u.default.createElement("th",{className:"rbc-header"},s.event)))),u.default.createElement("div",{className:"rbc-agenda-content",ref:"content"},u.default.createElement("table",{className:"rbc-agenda-table"},u.default.createElement("tbody",{ref:"tbody"},l.map(function(t,n){return e.renderDay(t,r,n)})))))},t}(u.default.Component);w.propTypes={events:l.default.array,date:l.default.instanceOf(Date),length:l.default.number.isRequired,titleAccessor:S.accessor.isRequired,tooltipAccessor:S.accessor.isRequired,allDayAccessor:S.accessor.isRequired,startAccessor:S.accessor.isRequired,endAccessor:S.accessor.isRequired,eventPropGetter:l.default.func,selected:l.default.object,agendaDateFormat:S.dateFormat,agendaTimeFormat:S.dateFormat,agendaTimeRangeFormat:S.dateRangeFormat,culture:l.default.string,components:l.default.object.isRequired,messages:l.default.shape({date:l.default.string,time:l.default.string})},w.defaultProps={length:30},w.range=function(e,t){var n=t.length,o=void 0===n?w.defaultProps.length:n;return{start:e,end:T.default.add(e,o,"day")}},w.navigate=function(e,t,n){var o=n.length,r=void 0===o?w.defaultProps.length:o;switch(t){case O.navigate.PREVIOUS:return T.default.add(e,-r,"day");case O.navigate.NEXT:return T.default.add(e,r,"day");default:return e}},w.title=function(e,t){var n=t.length,o=void 0===n?w.defaultProps.length:n,r=t.formats,i=t.culture,s=T.default.add(e,o,"day");return v.default.format({start:e,end:s},r.agendaHeaderFormat,i)},t.default=w,e.exports=t.default},function(e,t,n){"use strict";var o=n(6);t.__esModule=!0,t.default=void 0;var r=o(n(474));t.addClass=r.default;var i=o(n(475));t.removeClass=i.default;var s=o(n(221));t.hasClass=s.default;var a={addClass:r.default,removeClass:i.default,hasClass:s.default};t.default=a},function(e,t,n){"use strict";function o(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var r=n(6);t.__esModule=!0,t.default=o;var i=r(n(221));e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(5),l=o(a),c=n(0),u=o(c),p=n(3),h=o(p),d=n(20),f=function(e){function t(){var n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.navigate=function(e){o.props.onNavigate(e)},o.view=function(e){o.props.onViewChange(e)},s=n,i(o,s)}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.messages,n=e.label;return u.default.createElement("div",{className:"rbc-toolbar"},u.default.createElement("span",{className:"rbc-btn-group"},u.default.createElement("button",{type:"button",onClick:this.navigate.bind(null,d.navigate.TODAY)},t.today),u.default.createElement("button",{type:"button",onClick:this.navigate.bind(null,d.navigate.PREVIOUS)},t.previous),u.default.createElement("button",{type:"button",onClick:this.navigate.bind(null,d.navigate.NEXT)},t.next)),u.default.createElement("span",{className:"rbc-toolbar-label"},n),u.default.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))},t.prototype.viewNamesGroup=function(e){var t=this,n=this.props.views,o=this.props.view;if(n.length>1)return n.map(function(n){return u.default.createElement("button",{type:"button",key:n,className:(0,h.default)({"rbc-active":o===n}),onClick:t.view.bind(null,n)},e[n])})},t}(u.default.Component);f.propTypes={view:l.default.string.isRequired,views:l.default.arrayOf(l.default.string).isRequired,label:l.default.node.isRequired,messages:l.default.object,onNavigate:l.default.func.isRequired,onViewChange:l.default.func.isRequired},t.default=f,e.exports=t.default},function(e,t,n){var o=n(132),r=n(478),i=n(498),s=n(85),a=n(59),l=n(501),c=n(503),u=n(226),p=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=o(t,function(t){return t=s(t,e),c||(c=t.length>1),t}),a(e,u(e),n),c&&(n=r(n,7,l));for(var p=t.length;p--;)i(n,t[p]);return n});e.exports=p},function(e,t,n){function o(e,t,n,P,x,L){var B,F=t&k,U=t&R,j=t&w;if(n&&(B=x?n(e,P,x,L):n(e)),void 0!==B)return B;if(!T(e))return e;var W=y(e);if(W){if(B=g(e),!F)return u(e,B)}else{var V=_(e),H=V==D||V==A;if(b(e))return c(e,F);if(V==N||V==I||H&&!x){if(B=U||H?{}:v(e),!F)return U?h(e,l(B,e)):p(e,a(B,e))}else{if(!M[V])return x?e:{};B=m(e,V,F)}}L||(L=new r);var G=L.get(e);if(G)return G;L.set(e,B),O(e)?e.forEach(function(r){B.add(o(r,t,n,r,e,L))}):E(e)&&e.forEach(function(r,i){B.set(i,o(r,t,n,i,e,L))});var Y=j?U?f:d:U?S:C,K=W?void 0:Y(e);return i(K||e,function(r,i){K&&(i=r,r=e[i]),s(B,i,o(r,t,n,i,e,L))}),B}var r=n(122),i=n(223),s=n(224),a=n(479),l=n(480),c=n(483),u=n(484),p=n(485),h=n(486),d=n(201),f=n(226),_=n(83),g=n(487),m=n(488),v=n(493),y=n(17),b=n(80),E=n(494),T=n(25),O=n(496),C=n(57),S=n(87),k=1,R=2,w=4,I="[object Arguments]",D="[object Function]",A="[object GeneratorFunction]",N="[object Object]",M={};M[I]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[N]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[D]=M["[object WeakMap]"]=!1,e.exports=o},function(e,t,n){function o(e,t){return e&&r(t,i(t),e)}var r=n(59),i=n(57);e.exports=o},function(e,t,n){function o(e,t){return e&&r(t,i(t),e)}var r=n(59),i=n(87);e.exports=o},function(e,t,n){function o(e){if(!r(e))return s(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&l.call(e,o))&&n.push(o);return n}var r=n(25),i=n(130),s=n(482),a=Object.prototype,l=a.hasOwnProperty;e.exports=o},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){function o(e,t){if(t)return e.slice();var n=e.length,o=c?c(n):new e.constructor(n);return e.copy(o),o}var r=n(21),i="object"==typeof t&&t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i,l=a?r.Buffer:void 0,c=l?l.allocUnsafe:void 0;e.exports=o}).call(t,n(81)(e))},function(e,t){function n(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function o(e,t){return r(e,i(e),t)}var r=n(59),i=n(126);e.exports=o},function(e,t,n){function o(e,t){return r(e,i(e),t)}var r=n(59),i=n(225);e.exports=o},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var o=Object.prototype,r=o.hasOwnProperty;e.exports=n},function(e,t,n){function o(e,t,n){var o=e.constructor;switch(t){case m:return r(e);case c:case u:return new o(+e);case v:return i(e,n);case y:case b:case E:case T:case O:case C:case S:case k:case R:return l(e,n);case p:return new o;case h:case _:return new o(e);case d:return s(e);case f:return new o;case g:return a(e)}}var r=n(137),i=n(489),s=n(490),a=n(491),l=n(492),c="[object Boolean]",u="[object Date]",p="[object Map]",h="[object Number]",d="[object RegExp]",f="[object Set]",_="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]";e.exports=o},function(e,t,n){function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r=n(137);e.exports=o},function(e,t){function n(e){var t=new e.constructor(e.source,o.exec(e));return t.lastIndex=e.lastIndex,t}var o=/\w*$/;e.exports=n},function(e,t,n){function o(e){return s?Object(s.call(e)):{}}var r=n(44),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;e.exports=o},function(e,t,n){function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var r=n(137);e.exports=o},function(e,t,n){function o(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}var r=n(227),i=n(88),s=n(130);e.exports=o},function(e,t,n){var o=n(495),r=n(82),i=n(129),s=i&&i.isMap,a=s?r(s):o;e.exports=a},function(e,t,n){function o(e){return i(e)&&r(e)==s}var r=n(83),i=n(30),s="[object Map]";e.exports=o},function(e,t,n){var o=n(497),r=n(82),i=n(129),s=i&&i.isSet,a=s?r(s):o;e.exports=a},function(e,t,n){function o(e){return i(e)&&r(e)==s}var r=n(83),i=n(30),s="[object Set]";e.exports=o},function(e,t,n){function o(e,t){return t=r(t,e),null==(e=s(e,t))||delete e[a(i(t))]}var r=n(85),i=n(499),s=n(500),a=n(58);e.exports=o},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function o(e,t){return t.length<2?e:r(e,i(t,0,-1))}var r=n(84),i=n(185);e.exports=o},function(e,t,n){function o(e){return r(e)?void 0:e}var r=n(502);e.exports=o},function(e,t,n){function o(e){if(!s(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}var r=n(43),i=n(88),s=n(30),a="[object Object]",l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,h=u.call(Object);e.exports=o},function(e,t,n){function o(e){return s(i(e,void 0,r),e+"")}var r=n(504),i=n(214),s=n(215);e.exports=o},function(e,t,n){function o(e){return(null==e?0:e.length)?r(e,1):[]}var r=n(212);e.exports=o},function(e,t,n){var o=n(213),r=n(49),i=n(73),s=n(87),a=Object.prototype,l=a.hasOwnProperty,c=o(function(e,t){e=Object(e);var n=-1,o=t.length,c=o>2?t[2]:void 0;for(c&&i(t[0],t[1],c)&&(o=1);++n<o;)for(var u=t[n],p=s(u),h=-1,d=p.length;++h<d;){var f=p[h],_=e[f];(void 0===_||r(_,a[f])&&!l.call(e,f))&&(e[f]=u[f])}return e});e.exports=c},function(e,t,n){function o(e,t,n){var o=c(e),f=o||u(e)||d(e);if(t=a(t,4),null==n){var _=e&&e.constructor;n=f?o?new _:[]:h(e)&&p(_)?i(l(e)):{}}return(f?r:s)(e,function(e,o,r){return t(n,e,o,r)}),n}var r=n(223),i=n(227),s=n(134),a=n(75),l=n(88),c=n(17),u=n(80),p=n(112),h=n(25),d=n(128);e.exports=o},function(e,t,n){function o(e,t){var n={};return t=s(t,3),i(e,function(e,o,i){r(n,o,t(e,o,i))}),n}var r=n(136),i=n(134),s=n(75);e.exports=o},function(e,t,n){"use strict";t.__esModule=!0,t.formats=void 0,t.default=function(e){var t=function(e,t){return t?e.locale(t):e};return(0,i.set)(h),(0,s.set)({firstOfWeek:function(t){var n=t?e.localeData(t):e.localeData();return n?n.firstDayOfWeek():0},parse:function(n,o,r){return t(e(n,o),r).toDate()},format:function(n,o,r){return t(e(n),r).format(o)}})};var o=n(11),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(72),s=n(12),a=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"L",t)+" \u2014 "+n.format(r,"L",t)},l=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"LT",t)+" \u2014 "+n.format(r,"LT",t)},c=function(e,t,n){var o=e.start;e.end;return n.format(o,"h:mma",t)+" \u2014 "},u=function(e,t,n){var o=(e.start,e.end);return" \u2014 "+n.format(o,"h:mma",t)},p=function(e,t,n){var o=e.start,i=e.end;return n.format(o,"MMMM DD",t)+" - "+n.format(i,r.default.eq(o,i,"month")?"DD":"MMMM DD",t)},h=t.formats={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:l,eventTimeRangeFormat:l,eventTimeRangeStartFormat:c,eventTimeRangeEndFormat:u,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:p,agendaHeaderFormat:a,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:l}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.formats=void 0,t.default=function(e){function t(e){try{var t=["sun","mon","tue","wed","thu","fri","sat"],o=n(e).cldr,r=o.attributes.territory,i=o.get("supplemental").weekData,s=i.firstDay[r||"001"];return t.indexOf(s)}catch(t){var a=new Date,l=Math.max(parseInt(n(e).formatDate(a,{raw:"e"}),10)-1,0);return Math.abs(a.getDay()-l)}}var n=function(t){return t?e(t):e};return e.load?((0,c.set)(g),(0,u.set)({firstOfWeek:t,parse:function(e,t,o){return t="string"===typeof t?{raw:t}:t,n(o).parseDate(e,t)},format:function(e,t,o){return t="string"===typeof t?{raw:t}:t,n(o).formatDate(e,t)}})):(0,a.default)(e)};var r=n(11),i=o(r),s=n(510),a=o(s),l=n(182),c=(o(l),n(72)),u=n(12),p=function(e,t,n){var o=e.start,r=e.end;return n.format(o,{date:"short"},t)+" \u2014 "+n.format(r,{date:"short"},t)},h=function(e,t,n){var o=e.start,r=e.end;return n.format(o,{time:"short"},t)+" \u2014 "+n.format(r,{time:"short"},t)},d=function(e,t,n){var o=e.start;return n.format(o,{time:"short"},t)+" \u2014 "},f=function(e,t,n){var o=e.end;return" \u2014 "+n.format(o,{time:"short"},t)},_=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"MMM dd",t)+" \u2014 "+n.format(r,i.default.eq(o,r,"month")?"dd":"MMM dd",t)},g=t.formats={dateFormat:"dd",dayFormat:"eee dd/MM",weekdayFormat:"eee",selectRangeFormat:h,eventTimeRangeFormat:h,eventTimeRangeStartFormat:d,eventTimeRangeEndFormat:f,timeGutterFormat:{time:"short"},monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"eeee MMM dd",dayRangeHeaderFormat:_,agendaHeaderFormat:p,agendaDateFormat:"eee MMM dd",agendaTimeFormat:{time:"short"},agendaTimeRangeFormat:h}},function(e,t,n){"use strict";t.__esModule=!0,t.formats=void 0,t.default=function(e){function t(t){return t?e.findClosestCulture(t):e.culture()}function n(e){return(e=t(e))&&e.calendar.firstDay||0}return(0,i.set)(h),(0,s.set)({firstOfWeek:n,parse:function(t,n,o){return e.parseDate(t,n,o)},format:function(t,n,o){return e.format(t,n,o)}})};var o=n(11),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(72),s=n(12),a=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"d",t)+" \u2014 "+n.format(r,"d",t)},l=function(e,t,n){var o=e.start,r=e.end;return n.format(o,"t",t)+" \u2014 "+n.format(r,"t",t)},c=function(e,t,n){var o=e.start;e.end;return n.format(o,"t",t)+" \u2014 "},u=function(e,t,n){var o=(e.start,e.end);return" \u2014 "+n.format(o,"t",t)},p=function(e,t,n){var o=e.start,i=e.end;return n.format(o,"MMM dd",t)+" - "+n.format(i,r.default.eq(o,i,"month")?"dd":"MMM dd",t)},h=t.formats={dateFormat:"dd",dayFormat:"ddd dd/MM",weekdayFormat:"ddd",selectRangeFormat:l,eventTimeRangeFormat:l,eventTimeRangeStartFormat:c,eventTimeRangeEndFormat:u,timeGutterFormat:"t",monthHeaderFormat:"Y",dayHeaderFormat:"dddd MMM dd",dayRangeHeaderFormat:p,agendaHeaderFormat:a,agendaDateFormat:"ddd MMM dd",agendaTimeFormat:"t",agendaTimeRangeFormat:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){return r.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},r.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){return r.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},r.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))}},function(e,t,n){"use strict";function o(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}var o=e.pageX;if(void 0!==o)return{x:o,y:e.pageY}}return{x:0,y:0}}Object.defineProperty(t,"__esModule",{value:!0}),t.pointerCoord=o},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=(n(14),n(230)),c=n(144),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(l.a,{bg:"light"},a.a.createElement(l.a.Brand,{href:"/clockly/home"},"Clockly"),a.a.createElement(l.a.Collapse,{id:"basic-navbar-nav"},a.a.createElement(c.a,{className:"mr-auto"},a.a.createElement(c.a.Link,{href:"/clockly/calendar"},"calendar"),a.a.createElement(c.a.Link,{href:"/clockly/list"},"list")))))}}]),t}(s.Component);t.a=p},function(e,t,n){"use strict";function o(e){var t=r(e,"string");return"symbol"===typeof t?t:String(t)}function r(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function i(e,t,n){var o=Object(c.useRef)(void 0!==e),r=Object(c.useState)(t),i=r[0],s=r[1],a=void 0!==e,l=o.current;return o.current=a,!a&&l&&i!==t&&s(t),[a?e:i,Object(c.useCallback)(function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];n&&n.apply(void 0,[e].concat(o)),s(e)},[n])]}function s(e,t){return Object.keys(t).reduce(function(n,r){var s,c=n,p=c[u.b(r)],h=c[r],d=Object(l.a)(c,[u.b(r),r].map(o)),f=t[r],_=i(h,p,e[f]),g=_[0],m=_[1];return Object(a.a)({},d,(s={},s[r]=g,s[f]=m,s))},e)}n.d(t,"b",function(){return i}),t.a=s;var a=n(1),l=n(2),c=n(0),u=(n.n(c),n(231))},function(e,t,n){"use strict";var o=(n(2),n(1),n(60),n(0)),r=(n.n(o),n(518),n(9));n.n(r),n(231)},function(e,t,n){"use strict";function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=o},function(e,t,n){"use strict";function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function r(e){function t(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}this.setState(t.bind(this))}function i(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=r),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,o)}}return e}n.d(t,"a",function(){return s}),o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(138),l=n(4),c=n(62),u=["children","bsPrefix"],p=s.a.forwardRef(function(e,t){var n=e.children,i=e.bsPrefix,p=Object(r.a)(e,u);return i=Object(l.a)(i,"navbar-collapse"),s.a.createElement(c.a.Consumer,null,function(e){return s.a.createElement(a.a,Object(o.a)({in:!(!e||!e.expanded)},p),s.a.createElement("div",{ref:t,className:i},n))})});p.displayName="NavbarCollapse",t.a=p},function(e,t,n){"use strict";function o(e,t){return Object(r.a)(e).getComputedStyle(e,t)}t.a=o;var r=n(521)},function(e,t,n){"use strict";function o(e){var t=Object(r.a)(e);return t&&t.defaultView||window}t.a=o;var r=n(45)},function(e,t,n){"use strict";function o(e){return Object(r.a)(e).replace(i,"-ms-")}t.a=o;var r=n(523),i=/^ms-/},function(e,t,n){"use strict";function o(e){return e.replace(r,"-$1").toLowerCase()}t.a=o;var r=/([A-Z])/g},function(e,t,n){"use strict";function o(e){return!(!e||!r.test(e))}t.a=o;var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i},function(e,t,n){"use strict";t.a={disabled:!1}},function(e,t,n){"use strict";var o=n(5);n.n(o)},function(e,t,n){"use strict";var o=n(0),r=n.n(o);t.a=r.a.createContext(null)},function(e,t,n){"use strict";function o(e,t,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,o),e.dispatchEvent(r)}}t.a=o},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(16),u=n(4),p=n(62),h=["bsPrefix","className","children","label","as","onClick"],d={label:"Toggle navigation"},f=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,d=e.children,f=e.label,_=e.as,g=void 0===_?"button":_,m=e.onClick,v=Object(r.a)(e,h);n=Object(u.a)(n,"navbar-toggler");var y=Object(a.useContext)(p.a)||{},b=y.onToggle,E=y.expanded,T=Object(c.a)(function(e){m&&m(e),b&&b()});return"button"===g&&(v.type="button"),l.a.createElement(g,Object(o.a)({},v,{ref:t,onClick:T,"aria-label":f,className:s()(i,n,!E&&"collapsed")}),d||l.a.createElement("span",{className:n+"-icon"}))});f.displayName="NavbarToggle",f.defaultProps=d,t.a=f},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=(n(240),n(14)),c=n(10),u=n(531),p=n(246),h=(n(68),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),d=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=[],i=[];return e.state={rule_list:n,block_list:i},e.setWorkspace=e.setWorkspace.bind(e),e}return i(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:4567/blocks/").then(function(e){return e.json()}).then(function(t){fetch("http://localhost:4567/info/").then(function(e){return e.json()}).then(function(n){console.log(t);var o=[];for(var r in t){var i,s;!function(e){i=!1,n.enabled_funnel.map(function(n){n==t[e].name&&(i=!0)}),s={name:t[e].name,blockxml:t[e].block,code:t[e].code,status:i},o.push(s)}(r)}e.setState({block_list:o.reverse()})})}),fetch("http://localhost:4567/info/calendars").then(function(e){return e.json()}).then(function(t){fetch("http://localhost:4567/funnels/").then(function(e){return e.json()}).then(function(n){fetch("http://localhost:4567/filters/").then(function(e){return e.json()}).then(function(o){fetch("http://localhost:4567/actions/").then(function(e){return e.json()}).then(function(r){fetch("http://localhost:4567/outlets/").then(function(e){return e.json()}).then(function(i){fetch("http://localhost:4567/info/").then(function(e){return e.json()}).then(function(s){var a=[];for(var l in n){var c,u;!function(e){var t=o.find(function(t){return t.name===n[e].filter_name}),l=r.find(function(t){return t.name===n[e].action_name}),p=i.find(function(t){return t.name===n[e].outlet_name});c=!1,s.enabled_funnel.map(function(t){t==n[e].name&&(c=!0)}),u={name:n[e].name,filter:t,action:l,outlet:p,status:c},a.push(u)}(l)}e.setState({rule_list:a.reverse()}),e.setState({info:s});var p=[];t.items.map(function(e){p[e.summary]=e.id}),e.setState({calendars:p}),console.log(e.state.calendars)})})})})})})}},{key:"setWorkspace",value:function(e){this.setState({workspace:e})}},{key:"render",value:function(){var e=this;if(this.props.location.state&&""!=this.props.location.state.name){this.props.location.state.name,this.props.location.state.f_name,this.props.location.state.filter_dsl,this.props.location.state.a_name,this.props.location.state.action_dsl,this.props.location.state.o_name,this.props.location.state.outlet_dsl,this.props.location.state.name,this.props.location.state.blockxml}return a.a.createElement("div",null,a.a.createElement("h1",null,"RuleList"),a.a.createElement("p",null),a.a.createElement(p.a,null,this.state.block_list.map(function(t,n){return a.a.createElement(u.a,{rule:t,info:e.state.info,calendars:e.state.calendars,handleSwitch:e.handleSwitch,blockxml:t.blockxml,history:e.props.history})})),a.a.createElement(l.b,{to:"/make/code"},a.a.createElement(c.a,{variant:"outline-success"},"\u65b0\u3057\u3044\u30eb\u30fc\u30eb\u3092\u4f5c\u6210")),"\xa0",a.a.createElement("p",null),a.a.createElement(l.b,{to:"/calendar/"},a.a.createElement(c.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0")}}]),t}(s.Component);t.a=d},function(module,__webpack_exports__,__webpack_require__){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function o(r,i){try{var s=t[r](i),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(function(e){o("next",e)},function(e){o("throw",e)});e(a)}return o("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__(532),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__),__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__=__webpack_require__(535),__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Card__=__webpack_require__(244),__WEBPACK_IMPORTED_MODULE_4_react_toggle__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_4_react_toggle___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react_toggle__),__WEBPACK_IMPORTED_MODULE_5__ObjectList__=__webpack_require__(240),__WEBPACK_IMPORTED_MODULE_6_react_bootstrap_Row__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_7_react_bootstrap_Col__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Button__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_9_react_router_dom__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_10__UseBlockly__=__webpack_require__(68),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Funnel=function(_Component){function Funnel(){_classCallCheck(this,Funnel);var e=_possibleConstructorReturn(this,(Funnel.__proto__||Object.getPrototypeOf(Funnel)).call(this));return e.state={},e.handleSwitch=e.handleSwitch.bind(e),e.post_exec_funnel=e.post_exec_funnel.bind(e),e.replace_dsl_japanese=e.replace_dsl_japanese.bind(e),e.item_to_japanese=e.item_to_japanese.bind(e),e.setWorkspace=e.setWorkspace.bind(e),e.handleEdit=e.handleEdit.bind(e),e.execution=e.execution.bind(e),e}return _inherits(Funnel,_Component),_createClass(Funnel,[{key:"post_exec_funnel",value:function(e){fetch("http://localhost:4567/info/exec_funnel",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"handleSwitch",value:function(e){var t=this,n=[];if(e.target.checked){this.props.info.enabled_funnel.push(this.props.rule.name);var n=this.props.info.enabled_funnel.filter(function(e,t,n){return n.indexOf(e)===t})}else var n=this.props.info.enabled_funnel.filter(function(e){return e!==t.props.rule.name});this.post_exec_funnel(n)}},{key:"item_to_japanese",value:function(e){switch(e){case"summary":return"\u4e88\u5b9a\u540d";case"dtstart":return"\u958b\u59cb\u65e5\u6642";case"dtend":return"\u7d42\u4e86\u65e5\u6642";case"location":return"\u5834\u6240";case"description":return"\u8aac\u660e"}}},{key:"replace_dsl_japanese",value:function(e,t){e=e.replace(/ /g,"");var n=e.split(":");switch(t){case"filter":switch(n[0]){case"summary":case"location":case"description":return this.item_to_japanese(n[0])+"\u306b"+n[1]+"\u3092\u542b\u3080";case"dtstart":case"dtend":switch(n[1]){case"after":return this.item_to_japanese(n[0])+"\u304c"+n[2]+":"+n[3]+"\u4ee5\u964d";case"before":return this.item_to_japanese(n[0])+"\u304c"+n[2]+":"+n[3]+"\u4ee5\u524d"}}break;case"action":switch(n[0]){case"hide":return this.item_to_japanese(n[1])+"\u3092\u96a0\u3059";case"replace":return this.item_to_japanese(n[1])+"\u3092\u300c"+n[2]+"\u300d\u306b\u7f6e\u63db"}break;case"outlet":switch(n[0]){case"google_calendar":return console.log(this.props.calendars),e=e.replace("google_calendar","Google \u30ab\u30ec\u30f3\u30c0\u30fc"),e=e.replace("m8m131libkfur4mktvcl72aano@group.calendar.google.com","nomlab"),e=e.replace("d8bjck0kunfsn90uabknaipleo@group.calendar.google.com","\u4f1a\u8b70\u5ba41A");case"mail":return e.replace("mail","\u30e1\u30fc\u30eb");case"slack":return e.replace("slack","Slack")}}}},{key:"setWorkspace",value:function(e){this.setState({workspace:e})}},{key:"handleEdit",value:function(){this.props.history.push({pathname:"/settings/"+this.props.rule.name,state:{name:this.props.rule.name,f_name:this.state.name,filter_dsl:this.state.filter_dsl,action_dsl:this.state.action_dsl,outlet_dsl:this.state.outlet_dsl,blockxml:this.props.blockxml}})}},{key:"handleRemove",value:function(e){console.log("aaaaa"),console.log(e),fetch("http://localhost:4567/del_block",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e})})}},{key:"execution",value:function execution(code){var updated=function(e){return!0},get_events=function(){var e=_asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function e(t){var n;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,fetch("http://localhost:4567/calendars/"+t+"/2022-0").then(function(e){return e.json()}).then(function(e){for(var t=0;t<e.items.length;t++){var o=e.items[t];o.start.date_time?o.start.date_time:o.start.date,o.end.date_time?o.end.date_time:o.end.date;n.push(o)}});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),insert_event=function(){var e=_asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function e(t,n){var o;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={calendar:n,events:t},e.next=3,fetch("http://localhost:4567/insertevents",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),fullcode="(async () => {"+code+"})();";eval(fullcode)}},{key:"render",value:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Card__.a,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Card__.a.Body,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Card__.a.Title,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement("a",{onClick:this.handleEdit},this.props.rule.name)),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__.a,{variant:"flush"},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__.a.Item,null)),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_react_bootstrap_Row__.a,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_bootstrap_Col__.a,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_toggle___default.a,{defaultChecked:this.props.rule.status,onChange:this.handleSwitch})),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_bootstrap_Col__.a,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Button__.a,{variant:"outline-success",onClick:function(){return e.execution(e.props.rule.code)}},"\u5b9f\u884c")),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_bootstrap_Col__.a,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Button__.a,{variant:"outline-success",onClick:this.handleEdit},"\u7de8\u96c6")),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_bootstrap_Col__.a,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_bootstrap_Button__.a,{variant:"danger",onClick:function(){return e.handleRemove(e.props.rule.name)}},"\xd7")))))}}]),Funnel}(__WEBPACK_IMPORTED_MODULE_1_react__.Component);__webpack_exports__.a=Funnel},function(e,t,n){e.exports=n(533)},function(e,t,n){var o=function(){return this}()||Function("return this")(),r=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,i=r&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=n(534),r)o.regeneratorRuntime=i;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,o){var i=t&&t.prototype instanceof r?t:r,s=Object.create(i.prototype),a=new d(o||[]);return s._invoke=c(e,n,a),s}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function i(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,r,i,s){var a=o(e[n],e,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"===typeof c&&v.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){l.value=e,i(l)},s)}s(a.arg)}function n(e,n){function o(){return new Promise(function(o,r){t(e,n,o,r)})}return r=r?r.then(o,o):o()}var r;this._invoke=n}function c(e,t,n){var r=S;return function(i,s){if(r===R)throw new Error("Generator is already running");if(r===w){if("throw"===i)throw s;return _()}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var l=u(a,n);if(l){if(l===I)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=w,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=R;var c=o(e,t,n);if("normal"===c.type){if(r=n.done?w:k,c.arg===I)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=w,n.method="throw",n.arg=c.arg)}}}function u(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method))return I;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var r=o(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,I;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,I):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,I)}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function f(e){if(e){var t=e[b];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:g,done:!0}}var g,m=Object.prototype,v=m.hasOwnProperty,y="function"===typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",E=y.asyncIterator||"@@asyncIterator",T=y.toStringTag||"@@toStringTag",O="object"===typeof e,C=t.regeneratorRuntime;if(C)return void(O&&(e.exports=C));C=t.regeneratorRuntime=O?e.exports:{},C.wrap=n;var S="suspendedStart",k="suspendedYield",R="executing",w="completed",I={},D={};D[b]=function(){return this};var A=Object.getPrototypeOf,N=A&&A(A(f([])));N&&N!==m&&v.call(N,b)&&(D=N);var M=s.prototype=r.prototype=Object.create(D);i.prototype=M.constructor=s,s.constructor=i,s[T]=i.displayName="GeneratorFunction",C.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},C.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,T in e||(e[T]="GeneratorFunction")),e.prototype=Object.create(M),e},C.awrap=function(e){return{__await:e}},a(l.prototype),l.prototype[E]=function(){return this},C.AsyncIterator=l,C.async=function(e,t,o,r){var i=new l(n(e,t,o,r));return C.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(M),M[T]="Generator",M[b]=function(){return this},M.toString=function(){return"[object Generator]"},C.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},C.values=f,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return i.type="throw",i.arg=e,n.next=t,o&&(n.method="next",n.arg=g),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],i=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=v.call(r,"catchLoc"),a=v.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&v.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,I):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),I}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";var o=(n(536),n(92),n(242),n(241),n(537),n(538),n(539),n(243),n(10),n(150),n(540),n(244),n(246),n(541),n(245),n(542),n(543),n(247),n(93),n(36),n(138),n(95),n(582),n(46),n(27),n(177),n(106),n(176),n(178),n(179),n(180),n(34),n(267),n(583),n(586),n(587),n(588));n.d(t,"a",function(){return o.a});n(268),n(589),n(590),n(271),n(273),n(274),n(275),n(144),n(230),n(232),n(601),n(148),n(91),n(276),n(603),n(277),n(604),n(605),n(278),n(279),n(606),n(607),n(41),n(29),n(608),n(609),n(610),n(165),n(166),n(611),n(167),n(612),n(4),n(613),n(282),n(280),n(283),n(614),n(615)},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(18),u=n(4),p=n(241),h=n(22),d=n(242),f=n(92),_=["as","activeKey","bsPrefix","children","className","onSelect"],g=l.a.forwardRef(function(e,t){var n=Object(c.a)(e,{activeKey:"onSelect"}),i=n.as,a=void 0===i?"div":i,p=n.activeKey,d=n.bsPrefix,g=n.children,m=n.className,v=n.onSelect,y=Object(r.a)(n,_),b=s()(m,Object(u.a)(d,"accordion"));return l.a.createElement(f.a.Provider,{value:p||null},l.a.createElement(h.a.Provider,{value:v||null},l.a.createElement(a,Object(o.a)({ref:t},y,{className:b}),g)))});g.displayName="Accordion",g.Toggle=p.a,g.Collapse=d.a},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(18),u=n(16),p=n(4),h=n(46),d=n(93),f=n(149),_=n(8),g=n(29),m=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],v=Object(f.a)("h4");v.displayName="DivStyledAsH4";var y=Object(_.a)("alert-heading",{Component:v}),b=Object(_.a)("alert-link",{Component:g.a}),E={show:!0,transition:h.a,closeLabel:"Close alert"},T=l.a.forwardRef(function(e,t){var n=Object(c.a)(e,{show:"onClose"}),i=n.bsPrefix,a=n.show,f=n.closeLabel,_=n.className,g=n.children,v=n.variant,y=n.onClose,b=n.dismissible,E=n.transition,T=Object(r.a)(n,m),O=Object(p.a)(i,"alert"),C=Object(u.a)(function(e){y&&y(!1,e)}),S=!0===E?h.a:E,k=l.a.createElement("div",Object(o.a)({role:"alert"},S?void 0:T,{ref:t,className:s()(_,O,v&&O+"-"+v,b&&O+"-dismissible")}),b&&l.a.createElement(d.a,{onClick:C,label:f}),g);return S?l.a.createElement(S,Object(o.a)({unmountOnExit:!0},T,{ref:void 0,in:a}),k):a?k:null});T.displayName="Alert",T.defaultProps=E,T.Link=b,T.Heading=y},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","variant","pill","className","as"],p={pill:!1},h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.variant,a=e.pill,p=e.className,h=e.as,d=void 0===h?"span":h,f=Object(r.a)(e,u),_=Object(c.a)(n,"badge");return l.a.createElement(d,Object(o.a)({ref:t},f,{className:s()(p,_,a&&_+"-pill",i&&_+"-"+i)}))});h.displayName="Badge",h.defaultProps=p},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=n(243),p=["bsPrefix","className","listProps","children","label","as"],h={label:"breadcrumb",listProps:{}},d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.listProps,u=e.children,h=e.label,d=e.as,f=void 0===d?"nav":d,_=Object(r.a)(e,p),g=Object(c.a)(n,"breadcrumb");return l.a.createElement(f,Object(o.a)({"aria-label":h,className:i,ref:t},_),l.a.createElement("ol",Object(o.a)({},a,{className:s()(g,null==a?void 0:a.className)}),u))});d.displayName="Breadcrumb",d.defaultProps=h,d.Item=u.a},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className"],p={role:"toolbar"},h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=Object(r.a)(e,u),p=Object(c.a)(n,"btn-toolbar");return l.a.createElement("div",Object(o.a)({},a,{ref:t,className:s()(i,p)}))});h.displayName="ButtonToolbar",h.defaultProps=p},function(e,t,n){"use strict";var o=n(8);Object(o.a)("card-deck")},function(e,t,n){"use strict";var o=n(8);Object(o.a)("card-group")},function(e,t,n){"use strict";function o(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}function r(e,t){var n=Object(v.a)(e,{activeIndex:"onSelect"}),r=n.as,p=void 0===r?"div":r,f=n.bsPrefix,_=n.slide,y=n.fade,b=n.controls,w=n.indicators,I=n.activeIndex,D=n.onSelect,A=n.onSlide,N=n.onSlid,M=n.interval,P=n.keyboard,x=n.onKeyDown,L=n.pause,B=n.onMouseOver,F=n.onMouseOut,U=n.wrap,j=n.touch,W=n.onTouchStart,V=n.onTouchMove,H=n.onTouchEnd,G=n.prevIcon,Y=n.prevLabel,K=n.nextIcon,X=n.nextLabel,J=n.className,z=n.children,q=Object(s.a)(n,k),Z=Object(O.a)(f,"carousel"),Q=Object(g.useRef)(null),$=Object(g.useState)("next"),ee=$[0],te=$[1],ne=Object(g.useState)(!1),oe=ne[0],re=ne[1],ie=Object(g.useState)(!1),se=ie[0],ae=ie[1],le=Object(g.useState)(I||0),ce=le[0],ue=le[1];se||I===ce||(te(Q.current?Q.current:(I||0)>ce?"next":"prev"),_&&ae(!0),ue(I||0)),Object(g.useEffect)(function(){Q.current&&(Q.current=null)});var pe,he=0;Object(E.a)(z,function(e,t){++he,t===I&&(pe=e.props.interval)});var de=Object(c.a)(pe),fe=Object(g.useCallback)(function(e){if(!se){var t=ce-1;if(t<0){if(!U)return;t=he-1}Q.current="prev",D&&D(t,e)}},[se,ce,D,U,he]),_e=Object(a.a)(function(e){if(!se){var t=ce+1;if(t>=he){if(!U)return;t=0}Q.current="next",D&&D(t,e)}}),ge=Object(g.useRef)();Object(g.useImperativeHandle)(t,function(){return{element:ge.current,prev:fe,next:_e}});var me=Object(a.a)(function(){!document.hidden&&o(ge.current)&&_e()}),ve="next"===ee?"left":"right";Object(l.a)(function(){_||(A&&A(ce,ve),N&&N(ce,ve))},[ce]);var ye=Z+"-item-"+ee,be=Z+"-item-"+ve,Ee=Object(g.useCallback)(function(e){Object(S.a)(e),A&&A(ce,ve)},[A,ce,ve]),Te=Object(g.useCallback)(function(){ae(!1),N&&N(ce,ve)},[N,ce,ve]),Oe=Object(g.useCallback)(function(e){if(P&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void fe(e);case"ArrowRight":return e.preventDefault(),void _e(e)}x&&x(e)},[P,x,fe,_e]),Ce=Object(g.useCallback)(function(e){"hover"===L&&re(!0),B&&B(e)},[L,B]),Se=Object(g.useCallback)(function(e){re(!1),F&&F(e)},[F]),ke=Object(g.useRef)(0),Re=Object(g.useRef)(0),we=Object(u.a)(),Ie=Object(g.useCallback)(function(e){ke.current=e.touches[0].clientX,Re.current=0,"hover"===L&&re(!0),W&&W(e)},[L,W]),De=Object(g.useCallback)(function(e){e.touches&&e.touches.length>1?Re.current=0:Re.current=e.touches[0].clientX-ke.current,V&&V(e)},[V]),Ae=Object(g.useCallback)(function(e){if(j){var t=Re.current;Math.abs(t)>R&&(t>0?fe(e):_e(e))}"hover"===L&&we.set(function(){re(!1)},M||void 0),H&&H(e)},[j,L,fe,_e,we,M,H]),Ne=null!=M&&!oe&&!se,Me=Object(g.useRef)();Object(g.useEffect)(function(){var e,t;if(Ne)return Me.current=window.setInterval(document.visibilityState?me:_e,null!=(e=null!=(t=de.current)?t:M)?e:void 0),function(){null!==Me.current&&clearInterval(Me.current)}},[Ne,_e,de,M,me]);var Pe=Object(g.useMemo)(function(){return w&&Array.from({length:he},function(e,t){return function(e){D&&D(t,e)}})},[w,he,D]);return m.a.createElement(p,Object(i.a)({ref:ge},q,{onKeyDown:Oe,onMouseOver:Ce,onMouseOut:Se,onTouchStart:Ie,onTouchMove:De,onTouchEnd:Ae,className:h()(J,Z,_&&"slide",y&&Z+"-fade")}),w&&m.a.createElement("ol",{className:Z+"-indicators"},Object(E.b)(z,function(e,t){return m.a.createElement("li",{key:t,className:t===ce?"active":void 0,onClick:Pe?Pe[t]:void 0})})),m.a.createElement("div",{className:Z+"-inner"},Object(E.b)(z,function(e,t){var n=t===ce;return _?m.a.createElement(d.e,{in:n,onEnter:n?Ee:void 0,onEntered:n?Te:void 0,addEndListener:C.a},function(t){return m.a.cloneElement(e,{className:h()(e.props.className,n&&"entered"!==t&&ye,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&be)})}):m.a.cloneElement(e,{className:h()(e.props.className,n&&"active")})})),b&&m.a.createElement(m.a.Fragment,null,(U||0!==I)&&m.a.createElement(T.a,{className:Z+"-control-prev",onClick:fe},G,Y&&m.a.createElement("span",{className:"sr-only"},Y)),(U||I!==he-1)&&m.a.createElement(T.a,{className:Z+"-control-next",onClick:_e},K,X&&m.a.createElement("span",{className:"sr-only"},X))))}var i=n(1),s=n(2),a=n(16),l=n(544),c=n(235),u=n(151),p=n(3),h=n.n(p),d=n(139),f=n(5),_=n.n(f),g=n(0),m=n.n(g),v=n(18),y=n(546),b=n(247),E=n(94),T=n(29),O=n(4),C=n(140),S=n(143),k=["as","bsPrefix","slide","fade","controls","indicators","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","className","children"],R=40,w={bsPrefix:_.a.string,as:_.a.elementType,slide:_.a.bool,fade:_.a.bool,controls:_.a.bool,indicators:_.a.bool,activeIndex:_.a.number,onSelect:_.a.func,onSlide:_.a.func,onSlid:_.a.func,interval:_.a.number,keyboard:_.a.bool,pause:_.a.oneOf(["hover",!1]),wrap:_.a.bool,touch:_.a.bool,prevIcon:_.a.node,prevLabel:_.a.string,nextIcon:_.a.node,nextLabel:_.a.string},I={slide:!0,fade:!1,controls:!0,indicators:!0,defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:m.a.createElement("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:m.a.createElement("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"},D=m.a.forwardRef(r);D.displayName="Carousel",D.propTypes=w,D.defaultProps=I,D.Caption=y.a,D.Item=b.a},function(e,t,n){"use strict";function o(e,t){var n=Object(r.useRef)(!0);Object(r.useEffect)(function(){return n.current?void(n.current=!1):e()},t)}var r=n(0);n.n(r);t.a=o},function(e,t,n){"use strict";function o(e){var t=Object(r.useRef)(e);return t.current=e,t}t.a=o;var r=n(0);n.n(r)},function(e,t,n){"use strict";var o=n(8);t.a=Object(o.a)("carousel-caption")},function(e,t,n){"use strict";function o(){var e=Object(f.a)(),t=Object(l.useRef)(null),n=Object(l.useCallback)(function(n){t.current=n,e()},[e]);return[t,n]}function r(e){var t=e.drop,n=e.alignEnd,r=e.defaultShow,u=e.show,p=e.onToggle,f=e.itemSelector,v=void 0===f?"* > *":f,y=e.focusFirstItemOnShow,b=e.children,E=Object(h.b)(u,r,p),T=E[0],O=E[1],C=o(),S=C[0],k=C[1],R=S.current,w=o(),I=w[0],D=w[1],A=I.current,N=Object(d.a)(T),M=Object(l.useRef)(null),P=Object(l.useRef)(!1),x=Object(l.useCallback)(function(e,t){O(e,t)},[O]),L=Object(l.useMemo)(function(){return{toggle:x,drop:t,show:T,alignEnd:n,menuElement:R,toggleElement:A,setMenu:k,setToggle:D}},[x,t,T,n,R,A,k,D]);R&&N&&!T&&(P.current=R.contains(document.activeElement));var B=Object(g.a)(function(){A&&A.focus&&A.focus()}),F=Object(g.a)(function(){var e=M.current,t=y;if(null==t&&(t=!(!S.current||!Object(i.a)(S.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Object(s.a)(S.current,v)[0];n&&n.focus&&n.focus()}});Object(l.useEffect)(function(){T?F():P.current&&(P.current=!1,B())},[T,P,B,F]),Object(l.useEffect)(function(){M.current=null});var U=function(e,t){if(!S.current)return null;var n=Object(s.a)(S.current,v),o=n.indexOf(e)+t;return o=Math.max(0,Math.min(o,n.length)),n[o]};return Object(_.a)("keydown",function(e){var t,n,o=e.key,r=e.target,i=null==(t=S.current)?void 0:t.contains(r),s=null==(n=I.current)?void 0:n.contains(r);if((!/input|textarea/i.test(r.tagName)||!(" "===o||"Escape"!==o&&i))&&(i||s))switch(M.current=e.type,o){case"ArrowUp":var l=U(r,-1);return l&&l.focus&&l.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),T){var c=U(r,1);c&&c.focus&&c.focus()}else O(!0,e);return;case"Tab":Object(a.a)(document,"keyup",function(t){("Tab"!==t.key||t.target)&&S.current.contains(t.target)||O(!1,e)},{once:!0});break;case"Escape":e.preventDefault(),e.stopPropagation(),O(!1,e)}}),c.a.createElement(m.a.Provider,{value:L},b)}var i=n(548),s=n(145),a=n(142),l=n(0),c=n.n(l),u=n(5),p=n.n(u),h=n(18),d=n(248),f=n(238),_=n(549),g=n(16),m=n(154),v=n(249),y=n(262),b={children:p.a.node,drop:p.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:p.a.oneOf([!1,!0,"keyboard"]),itemSelector:p.a.string,alignEnd:p.a.bool,show:p.a.bool,defaultShow:p.a.bool,onToggle:p.a.func};r.displayName="ReactOverlaysDropdown",r.propTypes=b,r.Menu=v.a,r.Toggle=y.a,t.a=r},function(e,t,n){"use strict";function o(e,t){if(!r){var n=document.body,o=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;r=function(e,t){return o.call(e,t)}}return r(e,t)}t.a=o;var r},function(e,t,n){"use strict";function o(e,t,n){void 0===n&&(n=!1);var o=Object(i.useCallback)(function(){return document},[]);return Object(r.a)(o,e,t,n)}t.a=o;var r=n(550),i=n(0);n.n(i)},function(e,t,n){"use strict";function o(e,t,n,o){void 0===o&&(o=!1);var s=Object(i.a)(n);Object(r.useEffect)(function(){var n="function"===typeof e?e():e;return n.addEventListener(t,s,o),function(){return n.removeEventListener(t,s,o)}},[e])}t.a=o;var r=n(0),i=(n.n(r),n(16))},function(e,t,n){"use strict";function o(e){var t=Object(i.a)();return[e[0],Object(r.useCallback)(function(n){if(t())return e[1](n)},[t,e[1]])]}var r=n(0),i=(n.n(r),n(152));t.a=o},function(e,t,n){"use strict";function o(e){var t,n=e.state,o=e.name,r=e.options,a=n.elements.arrow,p=n.modifiersData.popperOffsets,h=Object(i.a)(n.placement),_=Object(c.a)(h),g=[d.f,d.k].indexOf(h)>=0,m=g?"height":"width";if(a&&p){var v=f(r.padding,n),y=Object(s.a)(a),b="y"===_?d.m:d.f,E="y"===_?d.c:d.k,T=n.rects.reference[m]+n.rects.reference[_]-p[_]-n.rects.popper[m],O=p[_]-n.rects.reference[_],C=Object(l.a)(a),S=C?"y"===_?C.clientHeight||0:C.clientWidth||0:0,k=T/2-O/2,R=v[b],w=S-y[m]-v[E],I=S/2-y[m]/2+k,D=Object(u.a)(R,I,w),A=_;n.modifiersData[o]=(t={},t[A]=D,t.centerOffset=D-I,t)}}function r(e){var t=e.state,n=e.options,o=n.element,r=void 0===o?"[data-popper-arrow]":o;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Object(a.a)(t.elements.popper,r)&&(t.elements.arrow=r)}var i=n(32),s=n(156),a=n(252),l=n(65),c=n(157),u=n(253),p=n(254),h=n(256),d=n(13),f=(n(19),function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Object(p.a)("number"!==typeof e?e:Object(h.a)(e,d.b))});t.a={name:"arrow",enabled:!0,phase:"main",fn:o,effect:r,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},function(e,t,n){"use strict";function o(e){return["table","td","th"].indexOf(Object(r.a)(e))>=0}t.a=o;var r=n(47)},function(e,t,n){"use strict";function o(e){var t=e.x,n=e.y,o=window,r=o.devicePixelRatio||1;return{x:Object(h.c)(Object(h.c)(t*r)/r)||0,y:Object(h.c)(Object(h.c)(n*r)/r)||0}}function r(e){var t,n=e.popper,r=e.popperRect,i=e.placement,p=e.offsets,h=e.position,f=e.gpuAcceleration,_=e.adaptive,g=e.roundOffsets,m=!0===g?o(p):"function"===typeof g?g(p):p,v=m.x,y=void 0===v?0:v,b=m.y,E=void 0===b?0:b,T=p.hasOwnProperty("x"),O=p.hasOwnProperty("y"),C=s.f,S=s.m,k=window;if(_){var R=Object(a.a)(n),w="clientHeight",I="clientWidth";R===Object(l.a)(n)&&(R=Object(c.a)(n),"static"!==Object(u.a)(R).position&&(w="scrollHeight",I="scrollWidth")),R=R,i===s.m&&(S=s.c,E-=R[w]-r.height,E*=f?1:-1),i===s.f&&(C=s.k,y-=R[I]-r.width,y*=f?1:-1)}var D=Object.assign({position:h},_&&d);if(f){var A;return Object.assign({},D,(A={},A[S]=O?"0":"",A[C]=T?"0":"",A.transform=(k.devicePixelRatio||1)<2?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",A))}return Object.assign({},D,(t={},t[S]=O?E+"px":"",t[C]=T?y+"px":"",t.transform="",t))}function i(e){var t=e.state,n=e.options,o=n.gpuAcceleration,i=void 0===o||o,s=n.adaptive,a=void 0===s||s,l=n.roundOffsets,c=void 0===l||l,u={placement:Object(p.a)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,r(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,r(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var s=n(13),a=n(65),l=n(26),c=n(33),u=n(48),p=n(32),h=n(66),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};t.a={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:i,data:{}}},function(e,t,n){"use strict";function o(e){var t=e.state,n=e.instance,o=e.options,s=o.scroll,a=void 0===s||s,l=o.resize,c=void 0===l||l,u=Object(r.a)(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(e){e.addEventListener("scroll",n.update,i)}),c&&u.addEventListener("resize",n.update,i),function(){a&&p.forEach(function(e){e.removeEventListener("scroll",n.update,i)}),c&&u.removeEventListener("resize",n.update,i)}}var r=n(26),i={passive:!0};t.a={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:o,data:{}}},function(e,t,n){"use strict";function o(e){if(Object(s.a)(e)===u.a)return[];var t=Object(i.a)(e);return[Object(a.a)(e),t,Object(a.a)(t)]}function r(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,h=void 0===a||a,d=n.altAxis,f=void 0===d||d,_=n.fallbackPlacements,g=n.padding,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,E=void 0===b||b,T=n.allowedAutoPlacements,O=t.options.placement,C=Object(s.a)(O),S=C===O,k=_||(S||!E?[Object(i.a)(O)]:o(O)),R=[O].concat(k).reduce(function(e,n){return e.concat(Object(s.a)(n)===u.a?Object(c.a)(t,{placement:n,boundary:m,rootBoundary:v,padding:g,flipVariations:E,allowedAutoPlacements:T}):n)},[]),w=t.rects.reference,I=t.rects.popper,D=new Map,A=!0,N=R[0],M=0;M<R.length;M++){var P=R[M],x=Object(s.a)(P),L=Object(p.a)(P)===u.l,B=[u.m,u.c].indexOf(x)>=0,F=B?"width":"height",U=Object(l.a)(t,{placement:P,boundary:m,rootBoundary:v,altBoundary:y,padding:g}),j=B?L?u.k:u.f:L?u.c:u.m;w[F]>I[F]&&(j=Object(i.a)(j));var W=Object(i.a)(j),V=[];if(h&&V.push(U[x]<=0),f&&V.push(U[j]<=0,U[W]<=0),V.every(function(e){return e})){N=P,A=!1;break}D.set(P,V)}if(A)for(var H=E?3:1,G=H;G>0;G--){var Y=function(e){var t=R.find(function(t){var n=D.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return N=t,"break"}(G);if("break"===Y)break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var i=n(557),s=n(32),a=n(558),l=n(67),c=n(563),u=n(13),p=n(97);t.a={name:"flip",enabled:!0,phase:"main",fn:r,requiresIfExists:["offset"],data:{_skip:!1}}},function(e,t,n){"use strict";function o(e){return e.replace(/left|right|bottom|top/g,function(e){return r[e]})}t.a=o;var r={left:"right",right:"left",bottom:"top",top:"bottom"}},function(e,t,n){"use strict";function o(e){return e.replace(/start|end/g,function(e){return r[e]})}t.a=o;var r={start:"end",end:"start"}},function(e,t,n){"use strict";function o(e){var t=Object(_.a)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function r(e,t){return t===a.o?Object(y.a)(Object(l.a)(e)):Object(f.b)(t)?o(t):Object(y.a)(Object(c.a)(Object(h.a)(e)))}function i(e){var t=Object(u.a)(Object(g.a)(e)),n=["absolute","fixed"].indexOf(Object(d.a)(e).position)>=0,o=n&&Object(f.b)(e)?Object(p.a)(e):e;return Object(f.a)(o)?t.filter(function(e){return Object(f.a)(e)&&Object(m.a)(e,o)&&"body"!==Object(v.a)(e)}):[]}function s(e,t,n){var o="clippingParents"===t?i(e):[].concat(t),s=[].concat(o,[n]),a=s[0],l=s.reduce(function(t,n){var o=r(e,n);return t.top=Object(b.a)(o.top,t.top),t.right=Object(b.b)(o.right,t.right),t.bottom=Object(b.b)(o.bottom,t.bottom),t.left=Object(b.a)(o.left,t.left),t},r(e,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}t.a=s;var a=n(13),l=n(560),c=n(561),u=n(257),p=n(65),h=n(33),d=n(48),f=n(19),_=n(64),g=n(96),m=n(252),v=n(47),y=n(258),b=n(66)},function(e,t,n){"use strict";function o(e){var t=Object(r.a)(e),n=Object(i.a)(e),o=t.visualViewport,a=n.clientWidth,l=n.clientHeight,c=0,u=0;return o&&(a=o.width,l=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,u=o.offsetTop)),{width:a,height:l,x:c+Object(s.a)(e),y:u}}t.a=o;var r=n(26),i=n(33),s=n(158)},function(e,t,n){"use strict";function o(e){var t,n=Object(r.a)(e),o=Object(a.a)(e),c=null==(t=e.ownerDocument)?void 0:t.body,u=Object(l.a)(n.scrollWidth,n.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=Object(l.a)(n.scrollHeight,n.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),h=-o.scrollLeft+Object(s.a)(e),d=-o.scrollTop;return"rtl"===Object(i.a)(c||n).direction&&(h+=Object(l.a)(n.clientWidth,c?c.clientWidth:0)-u),{width:u,height:p,x:h,y:d}}t.a=o;var r=n(33),i=n(48),s=n(158),a=n(159),l=n(66)},function(e,t,n){"use strict";function o(e){return["html","body","#document"].indexOf(Object(s.a)(e))>=0?e.ownerDocument.body:Object(a.b)(e)&&Object(i.a)(e)?e:o(Object(r.a)(e))}t.a=o;var r=n(96),i=n(160),s=n(47),a=n(19)},function(e,t,n){"use strict";function o(e,t){void 0===t&&(t={});var n=t,o=n.placement,l=n.boundary,c=n.rootBoundary,u=n.padding,p=n.flipVariations,h=n.allowedAutoPlacements,d=void 0===h?i.h:h,f=Object(r.a)(o),_=f?p?i.n:i.n.filter(function(e){return Object(r.a)(e)===f}):i.b,g=_.filter(function(e){return d.indexOf(e)>=0});0===g.length&&(g=_);var m=g.reduce(function(t,n){return t[n]=Object(s.a)(e,{placement:n,boundary:l,rootBoundary:c,padding:u})[Object(a.a)(n)],t},{});return Object.keys(m).sort(function(e,t){return m[e]-m[t]})}t.a=o;var r=n(97),i=n(13),s=n(67),a=n(32)},function(e,t,n){"use strict";function o(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function r(e){return[s.m,s.k,s.c,s.f].some(function(t){return e[t]>=0})}function i(e){var t=e.state,n=e.name,i=t.rects.reference,s=t.rects.popper,l=t.modifiersData.preventOverflow,c=Object(a.a)(t,{elementContext:"reference"}),u=Object(a.a)(t,{altBoundary:!0}),p=o(c,i),h=o(u,s,l),d=r(p),f=r(h);t.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var s=n(13),a=n(67);t.a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:i}},function(e,t,n){"use strict";function o(e,t,n){var o=Object(i.a)(e),r=[s.f,s.m].indexOf(o)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*r,[s.f,s.k].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}function r(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,l=s.h.reduce(function(e,n){return e[n]=o(n,t.rects,a),e},{}),c=l[t.placement],u=c.x,p=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=l}var i=n(32),s=n(13);t.a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:r}},function(e,t,n){"use strict";function o(e){var t=e.state,n=e.name;t.modifiersData[n]=Object(r.a)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var r=n(259);t.a={name:"popperOffsets",enabled:!0,phase:"read",fn:o,data:{}}},function(e,t,n){"use strict";function o(e){var t=e.state,n=e.options,o=e.name,_=n.mainAxis,g=void 0===_||_,m=n.altAxis,v=void 0!==m&&m,y=n.boundary,b=n.rootBoundary,E=n.altBoundary,T=n.padding,O=n.tether,C=void 0===O||O,S=n.tetherOffset,k=void 0===S?0:S,R=Object(p.a)(t,{boundary:y,rootBoundary:b,padding:T,altBoundary:E}),w=Object(i.a)(t.placement),I=Object(h.a)(t.placement),D=!I,A=Object(s.a)(w),N=Object(a.a)(A),M=t.modifiersData.popperOffsets,P=t.rects.reference,x=t.rects.popper,L="function"===typeof k?k(Object.assign({},t.rects,{placement:t.placement})):k,B={x:0,y:0};if(M){if(g||v){var F="y"===A?r.m:r.f,U="y"===A?r.c:r.k,j="y"===A?"height":"width",W=M[A],V=M[A]+R[F],H=M[A]-R[U],G=C?-x[j]/2:0,Y=I===r.l?P[j]:x[j],K=I===r.l?-x[j]:-P[j],X=t.elements.arrow,J=C&&X?Object(c.a)(X):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Object(d.a)(),q=z[F],Z=z[U],Q=Object(l.a)(0,P[j],J[j]),$=D?P[j]/2-G-Q-q-L:Y-Q-q-L,ee=D?-P[j]/2+G+Q+Z+L:K+Q+Z+L,te=t.elements.arrow&&Object(u.a)(t.elements.arrow),ne=te?"y"===A?te.clientTop||0:te.clientLeft||0:0,oe=t.modifiersData.offset?t.modifiersData.offset[t.placement][A]:0,re=M[A]+$-oe-ne,ie=M[A]+ee-oe;if(g){var se=Object(l.a)(C?Object(f.b)(V,re):V,W,C?Object(f.a)(H,ie):H);M[A]=se,B[A]=se-W}if(v){var ae="x"===A?r.m:r.f,le="x"===A?r.c:r.k,ce=M[N],ue=ce+R[ae],pe=ce-R[le],he=Object(l.a)(C?Object(f.b)(ue,re):ue,ce,C?Object(f.a)(pe,ie):pe);M[N]=he,B[N]=he-ce}}t.modifiersData[o]=B}}var r=n(13),i=n(32),s=n(157),a=n(568),l=n(253),c=n(156),u=n(65),p=n(67),h=n(97),d=n(255),f=n(66);t.a={name:"preventOverflow",enabled:!0,phase:"main",fn:o,requiresIfExists:["offset"]}},function(e,t,n){"use strict";function o(e){return"x"===e?"y":"x"}t.a=o},function(e,t,n){"use strict";var o=n(570);n.d(t,"a",function(){return o.a})},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function r(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,f=t.defaultOptions,_=void 0===f?d:f;return function(e,t,n){function f(){m.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"===typeof r){var i=r({state:m,name:t,instance:b,options:o}),s=function(){};v.push(i||s)}})}function g(){v.forEach(function(e){return e()}),v=[]}void 0===n&&(n=_);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},d,_),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},v=[],y=!1,b={state:m,setOptions:function(n){g(),m.options=Object.assign({},_,m.options,n),m.scrollParents={reference:Object(h.a)(e)?Object(a.a)(e):e.contextElement?Object(a.a)(e.contextElement):[],popper:Object(a.a)(t)};var o=Object(c.a)(Object(p.a)([].concat(r,m.options.modifiers)));m.orderedModifiers=o.filter(function(e){return e.enabled});return f(),b.update()},forceUpdate:function(){if(!y){var e=m.elements,t=e.reference,n=e.popper;if(o(t,n)){m.rects={reference:Object(i.a)(t,Object(l.a)(n),"fixed"===m.options.strategy),popper:Object(s.a)(n)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(e){return m.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<m.orderedModifiers.length;r++)if(!0!==m.reset){var a=m.orderedModifiers[r],c=a.fn,u=a.options,p=void 0===u?{}:u,h=a.name;"function"===typeof c&&(m=c({state:m,options:p,name:h,instance:b})||m)}else m.reset=!1,r=-1}}},update:Object(u.a)(function(){return new Promise(function(e){b.forceUpdate(),e(m)})}),destroy:function(){g(),y=!0}};return o(e,t)?(b.setOptions(n).then(function(e){!y&&n.onFirstUpdate&&n.onFirstUpdate(e)}),b):b}}t.a=r;var i=n(571),s=n(156),a=n(257),l=n(65),c=(n(48),n(574)),u=n(575),p=(n(576),n(578),n(32),n(579)),h=(n(67),n(19)),d=(n(13),{placement:"bottom",modifiers:[],strategy:"absolute"})},function(e,t,n){"use strict";function o(e,t,n){void 0===n&&(n=!1);var o=Object(c.a)(t),p=Object(r.a)(e),h=Object(a.b)(t),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(h||!h&&!n)&&(("body"!==Object(s.a)(t)||Object(u.a)(o))&&(d=Object(i.a)(t)),Object(a.b)(t)?(f=Object(r.a)(t),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=Object(l.a)(o))),{x:p.left+d.scrollLeft-f.x,y:p.top+d.scrollTop-f.y,width:p.width,height:p.height}}t.a=o;var r=n(64),i=n(572),s=n(47),a=n(19),l=n(158),c=n(33),u=n(160)},function(e,t,n){"use strict";function o(e){return e!==Object(i.a)(e)&&Object(s.b)(e)?Object(a.a)(e):Object(r.a)(e)}t.a=o;var r=n(159),i=n(26),s=n(19),a=n(573)},function(e,t,n){"use strict";function o(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}t.a=o},function(e,t,n){"use strict";function o(e){function t(e){o.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!o.has(e)){var r=n.get(e);r&&t(r)}}),r.push(e)}var n=new Map,o=new Set,r=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){o.has(e.name)||t(e)}),r}function r(e){var t=o(e);return i.g.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}t.a=r;var i=n(13)},function(e,t,n){"use strict";function o(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}t.a=o},function(e,t,n){"use strict";n(577),n(13)},function(e,t,n){"use strict";function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return[].concat(n).reduce(function(e,t){return e.replace(/%s/,t)},e)}t.a=o},function(e,t,n){"use strict"},function(e,t,n){"use strict";function o(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}t.a=o},function(e,t,n){"use strict";var o=n(45),r=n(162);t.a=function(e){return Object(o.a)(Object(r.a)(e))}},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(16),u=n(22),p=n(4),h=n(146),d=n(29),f=["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"],_={as:d.a,disabled:!1},g=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,d=e.children,_=e.eventKey,g=e.disabled,m=e.href,v=e.onClick,y=e.onSelect,b=e.active,E=e.as,T=Object(r.a)(e,f),O=Object(p.a)(n,"dropdown-item"),C=Object(a.useContext)(u.a),S=Object(a.useContext)(h.a),k=S||{},R=k.activeKey,w=Object(u.b)(_,m),I=null==b&&null!=w?Object(u.b)(R)===w:b,D=Object(c.a)(function(e){g||(v&&v(e),C&&C(w,e),y&&y(w,e))});return l.a.createElement(E,Object(o.a)({},T,{ref:t,href:m,disabled:g,className:s()(i,O,I&&"active",g&&"disabled"),onClick:D}),d)});g.displayName="DropdownItem",g.defaultProps=_,t.a=g},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(5),l=n.n(a),c=n(95),u=n(266),p=n(163),h=["title","children","bsPrefix","rootCloseEvent","variant","size","menuAlign","menuRole","renderMenuOnMount","disabled","href","id"],d={id:l.a.any,href:l.a.string,onClick:l.a.func,title:l.a.node.isRequired,disabled:l.a.bool,menuAlign:p.a,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string,variant:l.a.string,size:l.a.string},f=s.a.forwardRef(function(e,t){var n=e.title,i=e.children,a=e.bsPrefix,l=e.rootCloseEvent,d=e.variant,f=e.size,_=e.menuAlign,g=e.menuRole,m=e.renderMenuOnMount,v=e.disabled,y=e.href,b=e.id,E=Object(r.a)(e,h);return s.a.createElement(c.a,Object(o.a)({ref:t},E),s.a.createElement(u.a,{id:b,href:y,size:f,variant:d,disabled:v,childBsPrefix:a},n),s.a.createElement(p.b,{align:_,role:g,renderOnMount:m,rootCloseEvent:l},i))});f.displayName="DropdownButton",f.propTypes=d},function(e,t,n){"use strict";var o=n(8),r=n(584),i=n(585),s=Object(o.a)("figure",{Component:"figure"});s.Image=r.a,s.Caption=i.a},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(267),u=["className"],p={fluid:!0},h=l.a.forwardRef(function(e,t){var n=e.className,i=Object(r.a)(e,u);return l.a.createElement(c.a,Object(o.a)({ref:t},i,{className:s()(n,"figure-img")}))});h.displayName="FigureImage",h.propTypes=c.b,h.defaultProps=p,t.a=h},function(e,t,n){"use strict";var o=n(8),r=Object(o.a)("figure-caption",{Component:"figcaption"});t.a=r},function(e,t,n){"use strict";var o=n(2),r=n(1),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(8),u=n(4),p=["bsPrefix","size","hasValidation","className","as"],h=Object(c.a)("input-group-append"),d=Object(c.a)("input-group-prepend"),f=Object(c.a)("input-group-text",{Component:"span"}),_=function(e){return l.a.createElement(f,null,l.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},g=function(e){return l.a.createElement(f,null,l.a.createElement("input",Object(r.a)({type:"radio"},e)))},m=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.size,a=e.hasValidation,c=e.className,h=e.as,d=void 0===h?"div":h,f=Object(o.a)(e,p);return n=Object(u.a)(n,"input-group"),l.a.createElement(d,Object(r.a)({ref:t},f,{className:s()(c,n,i&&n+"-"+i,a&&"has-validation")}))});m.displayName="InputGroup";Object(r.a)({},m,{Text:f,Radio:g,Checkbox:_,Append:h,Prepend:d})},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(3),l=n.n(a),c=n(4),u=["as","className","fluid","bsPrefix"],p={fluid:!1},h=s.a.forwardRef(function(e,t){var n,i=e.as,a=void 0===i?"div":i,p=e.className,h=e.fluid,d=e.bsPrefix,f=Object(r.a)(e,u);d=Object(c.a)(d,"jumbotron");var _=(n={},n[d]=!0,n[d+"-fluid"]=h,n);return s.a.createElement(a,Object(o.a)({ref:t},f,{className:l()(p,_)}))});h.defaultProps=p,h.displayName="Jumbotron"},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(28),u=(n.n(c),n(18)),p=n(4),h=n(237),d=n(268),f=["className","bsPrefix","variant","horizontal","as"],_={variant:void 0,horizontal:void 0},g=l.a.forwardRef(function(e,t){var n,i=Object(u.a)(e,{activeKey:"onSelect"}),a=i.className,c=i.bsPrefix,d=i.variant,_=i.horizontal,g=i.as,m=void 0===g?"div":g,v=Object(r.a)(i,f),y=Object(p.a)(c,"list-group");return n=_?!0===_?"horizontal":"horizontal-"+_:null,l.a.createElement(h.a,Object(o.a)({ref:t},v,{as:m,className:s()(a,y,d&&y+"-"+d,n&&y+"-"+n)}))});g.defaultProps=_,g.displayName="ListGroup",g.Item=d.a,t.a=g},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(8),u=n(4),p=["bsPrefix","className","as"],h=Object(c.a)("media-body"),d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,c=void 0===a?"div":a,h=Object(r.a)(e,p),d=Object(u.a)(n,"media");return l.a.createElement(c,Object(o.a)({},h,{ref:t,className:s()(i,d)}))});d.displayName="Media",d.Body=h},function(e,t,n){"use strict";function o(e){return b.a.createElement(C.a,Object(a.a)({},e,{timeout:null}))}function r(e){return b.a.createElement(C.a,Object(a.a)({},e,{timeout:null}))}var i,s=n(2),a=n(1),l=n(3),c=n.n(l),u=n(142),p=n(90),h=n(45),d=n(234),f=n(164),_=n(155),g=n(16),m=n(153),v=n(233),y=n(0),b=n.n(y),E=n(591),T=n(28),O=(n.n(T),n(599)),C=n(46),S=n(271),k=n(272),R=n(273),w=n(274),I=n(600),D=n(275),A=n(4),N=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],M={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:R.a},P=b.a.forwardRef(function(e,t){function n(){return $||(i||(i=new O.a),i)}function l(e){if(p.a){var t=n().isContainerOverflowing(pe),o=e.scrollHeight>Object(h.a)(e).documentElement.clientHeight;oe({paddingRight:t&&!o?Object(f.a)():void 0,paddingLeft:!t&&o?Object(f.a)():void 0})}}var T=e.bsPrefix,C=e.className,S=e.style,R=e.dialogClassName,w=e.contentClassName,I=e.children,D=e.dialogAs,M=e["aria-labelledby"],P=e.show,x=e.animation,L=e.backdrop,B=e.keyboard,F=e.onEscapeKeyDown,U=e.onShow,j=e.onHide,W=e.container,V=e.autoFocus,H=e.enforceFocus,G=e.restoreFocus,Y=e.restoreFocusOptions,K=e.onEntered,X=e.onExit,J=e.onExiting,z=e.onEnter,q=e.onEntering,Z=e.onExited,Q=e.backdropClassName,$=e.manager,ee=Object(s.a)(e,N),te=Object(y.useState)({}),ne=te[0],oe=te[1],re=Object(y.useState)(!1),ie=re[0],se=re[1],ae=Object(y.useRef)(!1),le=Object(y.useRef)(!1),ce=Object(y.useRef)(null),ue=Object(_.a)(),pe=ue[0],he=ue[1],de=Object(g.a)(j);T=Object(A.a)(T,"modal"),Object(y.useImperativeHandle)(t,function(){return{get _modal(){return pe}}},[pe]);var fe=Object(y.useMemo)(function(){return{onHide:de}},[de]),_e=Object(g.a)(function(){pe&&l(pe.dialog)});Object(m.a)(function(){Object(d.a)(window,"resize",_e),ce.current&&ce.current()});var ge=function(){ae.current=!0},me=function(e){ae.current&&pe&&e.target===pe.dialog&&(le.current=!0),ae.current=!1},ve=function(){se(!0),ce.current=Object(v.a)(pe.dialog,function(){se(!1)})},ye=function(e){e.target===e.currentTarget&&ve()},be=function(e){return"static"===L?void ye(e):le.current||e.target!==e.currentTarget?void(le.current=!1):void j()},Ee=function(e){B||"static"!==L?B&&F&&F(e):(e.preventDefault(),ve())},Te=function(e){e&&(e.style.display="block",l(e));for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];z&&z.apply(void 0,[e].concat(n))},Oe=function(e){ce.current&&ce.current();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];X&&X.apply(void 0,[e].concat(n))},Ce=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];q&&q.apply(void 0,[e].concat(n)),Object(u.a)(window,"resize",_e)},Se=function(e){e&&(e.style.display="");for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];Z&&Z.apply(void 0,n),Object(d.a)(window,"resize",_e)},ke=Object(y.useCallback)(function(e){return b.a.createElement("div",Object(a.a)({},e,{className:c()(T+"-backdrop",Q,!x&&"show")}))},[x,Q,T]),Re=Object(a.a)({},S,ne);x||(Re.display="block");var we=function(e){return b.a.createElement("div",Object(a.a)({role:"dialog"},e,{style:Re,className:c()(C,T,ie&&T+"-static"),onClick:L?be:void 0,onMouseUp:me,"aria-labelledby":M}),b.a.createElement(D,Object(a.a)({},ee,{onMouseDown:ge,className:R,contentClassName:w}),I))};return b.a.createElement(k.a.Provider,{value:fe},b.a.createElement(E.a,{show:P,ref:he,backdrop:L,container:W,keyboard:!0,autoFocus:V,enforceFocus:H,restoreFocus:G,restoreFocusOptions:Y,onEscapeKeyDown:Ee,onShow:U,onHide:j,onEnter:Te,onEntering:Ce,onEntered:K,onExit:Oe,onExiting:J,onExited:Se,manager:n(),containerClassName:T+"-open",transition:x?o:void 0,backdropTransition:x?r:void 0,renderBackdrop:ke,renderDialog:we}))});P.displayName="Modal",P.defaultProps=M,P.Body=S.a,P.Header=I.a,P.Title=D.a,P.Footer=w.a,P.Dialog=R.a,P.TRANSITION_DURATION=300,P.BACKDROP_TRANSITION_DURATION=150},function(e,t,n){"use strict";function o(){return i||(i=new T.a),i}function r(e){var t=e||o(),n=Object(f.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(e,o){return t.add(n.current,e,o)},remove:function(){return t.remove(n.current)},isTopModal:function(){return t.isTopModal(n.current)},setDialogRef:Object(f.useCallback)(function(e){n.current.dialog=e},[]),setBackdropRef:Object(f.useCallback)(function(e){n.current.backdrop=e},[])})}var i,s=n(1),a=n(2),l=n(592),c=n(161),u=n(90),p=n(141),h=n(5),d=n.n(h),f=n(0),_=n.n(f),g=n(7),m=n.n(g),v=n(152),y=n(153),b=n(248),E=n(16),T=n(269),O=n(270),C=Object(f.forwardRef)(function(e,t){var n=e.show,o=void 0!==n&&n,i=e.role,h=void 0===i?"dialog":i,d=e.className,g=e.style,T=e.children,C=e.backdrop,S=void 0===C||C,k=e.keyboard,R=void 0===k||k,w=e.onBackdropClick,I=e.onEscapeKeyDown,D=e.transition,A=e.backdropTransition,N=e.autoFocus,M=void 0===N||N,P=e.enforceFocus,x=void 0===P||P,L=e.restoreFocus,B=void 0===L||L,F=e.restoreFocusOptions,U=e.renderDialog,j=e.renderBackdrop,W=void 0===j?function(e){return _.a.createElement("div",e)}:j,V=e.manager,H=e.container,G=e.containerClassName,Y=e.onShow,K=e.onHide,X=void 0===K?function(){}:K,J=e.onExit,z=e.onExited,q=e.onExiting,Z=e.onEnter,Q=e.onEntering,$=e.onEntered,ee=Object(a.a)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),te=Object(O.a)(H),ne=r(V),oe=Object(v.a)(),re=Object(b.a)(o),ie=Object(f.useState)(!o),se=ie[0],ae=ie[1],le=Object(f.useRef)(null);Object(f.useImperativeHandle)(t,function(){return ne},[ne]),u.a&&!re&&o&&(le.current=Object(l.a)()),D||o||se?o&&se&&ae(!1):ae(!0);var ce=Object(E.a)(function(){if(ne.add(te,G),_e.current=Object(p.a)(document,"keydown",de),fe.current=Object(p.a)(document,"focus",function(){return setTimeout(pe)},!0),Y&&Y(),M){var e=Object(l.a)(document);ne.dialog&&e&&!Object(c.a)(ne.dialog,e)&&(le.current=e,ne.dialog.focus())}}),ue=Object(E.a)(function(){if(ne.remove(),null==_e.current||_e.current(),null==fe.current||fe.current(),B){var e;null==(e=le.current)||null==e.focus||e.focus(F),le.current=null}});Object(f.useEffect)(function(){o&&te&&ce()},[o,te,ce]),Object(f.useEffect)(function(){se&&ue()},[se,ue]),Object(y.a)(function(){ue()});var pe=Object(E.a)(function(){if(x&&oe()&&ne.isTopModal()){var e=Object(l.a)();ne.dialog&&e&&!Object(c.a)(ne.dialog,e)&&ne.dialog.focus()}}),he=Object(E.a)(function(e){e.target===e.currentTarget&&(null==w||w(e),!0===S&&X())}),de=Object(E.a)(function(e){R&&27===e.keyCode&&ne.isTopModal()&&(null==I||I(e),e.defaultPrevented||X())}),fe=Object(f.useRef)(),_e=Object(f.useRef)(),ge=function(){ae(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==z||z.apply(void 0,t)},me=D;if(!te||!(o||me&&!se))return null;var ve=Object(s.a)({role:h,ref:ne.setDialogRef,"aria-modal":"dialog"===h||void 0},ee,{style:g,className:d,tabIndex:-1}),ye=U?U(ve):_.a.createElement("div",ve,_.a.cloneElement(T,{role:"document"}));me&&(ye=_.a.createElement(me,{appear:!0,unmountOnExit:!0,in:!!o,onExit:J,onExiting:q,onExited:ge,onEnter:Z,onEntering:Q,onEntered:$},ye));var be=null;if(S){var Ee=A;be=W({ref:ne.setBackdropRef,onClick:he}),Ee&&(be=_.a.createElement(Ee,{appear:!0,in:!!o},be))}return _.a.createElement(_.a.Fragment,null,m.a.createPortal(_.a.createElement(_.a.Fragment,null,be,ye),te))}),S={show:d.a.bool,container:d.a.any,onShow:d.a.func,onHide:d.a.func,backdrop:d.a.oneOfType([d.a.bool,d.a.oneOf(["static"])]),renderDialog:d.a.func,renderBackdrop:d.a.func,onEscapeKeyDown:d.a.func,onBackdropClick:d.a.func,containerClassName:d.a.string,keyboard:d.a.bool,transition:d.a.elementType,backdropTransition:d.a.elementType,autoFocus:d.a.bool,enforceFocus:d.a.bool,restoreFocus:d.a.bool,restoreFocusOptions:d.a.shape({preventScroll:d.a.bool}),onEnter:d.a.func,onEntering:d.a.func,onEntered:d.a.func,onExit:d.a.func,onExiting:d.a.func,onExited:d.a.func,manager:d.a.instanceOf(T.a)};C.displayName="Modal",C.propTypes=S,t.a=Object.assign(C,{Manager:T.a})},function(e,t,n){"use strict";function o(e){void 0===e&&(e=Object(r.a)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(t){return e.body}}t.a=o;var r=n(45)},function(e,t,n){"use strict";function o(e,t){e.classList?e.classList.add(t):Object(r.a)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}t.a=o;var r=n(265)},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function r(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}t.a=r},function(e,t,n){"use strict";function o(e){return e&&"body"===e.tagName.toLowerCase()}function r(e){var t=Object(s.a)(e)?Object(a.a)():Object(a.a)(e),n=Object(s.a)(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}function i(e){return Object(s.a)(e)||o(e)?r(e):e.scrollHeight>e.clientHeight}t.a=i;var s=n(596),a=n(45)},function(e,t,n){"use strict";function o(e){return"window"in e&&e.window===e?e:!!Object(r.a)(e)&&(e.defaultView||!1)}t.a=o;var r=n(597)},function(e,t,n){"use strict";function o(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}t.a=o},function(e,t,n){"use strict";function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function r(e,t){var n=t.dialog,r=t.backdrop;l(e,[n,r],function(e){return o(!0,e)})}function i(e,t){var n=t.dialog,r=t.backdrop;l(e,[n,r],function(e){return o(!1,e)})}t.a=o,t.b=r,t.c=i;var s=["template","script","style"],a=function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===s.indexOf(n.toLowerCase())},l=function(e,t,n){[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&a(e)&&n(e)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(60),r=n(61),i=n(145),s=n(164),a=n(269),l={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},c=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var o,i=t.style[e];t.dataset[e]=i,Object(r.a)(t,(o={},o[e]=parseFloat(Object(r.a)(t,e))+n+"px",o))},n.restore=function(e,t){var n=t.dataset[e];if(void 0!==n){var o;delete t.dataset[e],Object(r.a)(t,(o={},o[e]=n,o))}},n.setContainerStyle=function(t,n){var o=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var r=Object(s.a)();Object(i.a)(n,l.FIXED_CONTENT).forEach(function(e){return o.adjustAndStore("paddingRight",e,r)}),Object(i.a)(n,l.STICKY_CONTENT).forEach(function(e){return o.adjustAndStore("marginRight",e,-r)}),Object(i.a)(n,l.NAVBAR_TOGGLER).forEach(function(e){return o.adjustAndStore("marginRight",e,r)})}},n.removeContainerStyle=function(t,n){var o=this;e.prototype.removeContainerStyle.call(this,t,n),Object(i.a)(n,l.FIXED_CONTENT).forEach(function(e){return o.restore("paddingRight",e)}),Object(i.a)(n,l.STICKY_CONTENT).forEach(function(e){return o.restore("marginRight",e)}),Object(i.a)(n,l.NAVBAR_TOGGLER).forEach(function(e){return o.restore("marginRight",e)})},t}(a.a)},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(16),u=n(4),p=n(93),h=n(272),d=["bsPrefix","closeLabel","closeButton","onHide","className","children"],f={closeLabel:"Close",closeButton:!1},_=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.closeLabel,f=e.closeButton,_=e.onHide,g=e.className,m=e.children,v=Object(r.a)(e,d);n=Object(u.a)(n,"modal-header");var y=Object(a.useContext)(h.a),b=Object(c.a)(function(){y&&y.onHide(),_&&_()});return l.a.createElement("div",Object(o.a)({ref:t},v,{className:s()(g,n)}),m,f&&l.a.createElement(p.a,{label:i,onClick:b}))});_.displayName="ModalHeader",_.defaultProps=f,t.a=_},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=n(95),p=n(91),h=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount"],d=l.a.forwardRef(function(e,t){var n=e.id,i=e.title,a=e.children,d=e.bsPrefix,f=e.className,_=e.rootCloseEvent,g=e.menuRole,m=e.disabled,v=e.active,y=e.renderMenuOnMount,b=Object(r.a)(e,h),E=Object(c.a)(void 0,"nav-item");return l.a.createElement(u.a,Object(o.a)({ref:t},b,{className:s()(f,E)}),l.a.createElement(u.a.Toggle,{id:n,eventKey:null,active:v,disabled:m,childBsPrefix:d,as:p.a},i),l.a.createElement(u.a.Menu,{role:g,renderOnMount:y,rootCloseEvent:_},a))});d.displayName="NavDropdown",d.Item=u.a.Item,d.ItemText=u.a.ItemText,d.Divider=u.a.Divider,d.Header=u.a.Header},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(5),s=n.n(i),a=n(0),l=n.n(a),c=n(7),u=n.n(c),p=n(155),h=n(63),d=n(251),f=n(250),_=n(260),g=n(270),m=n(261),v=l.a.forwardRef(function(e,t){var n=e.flip,i=e.offset,s=e.placement,c=e.containerPadding,d=void 0===c?5:c,v=e.popperConfig,y=void 0===v?{}:v,b=e.transition,E=Object(p.a)(),T=E[0],O=E[1],C=Object(p.a)(),S=C[0],k=C[1],R=Object(h.a)(O,t),w=Object(g.a)(e.container),I=Object(g.a)(e.target),D=Object(a.useState)(!e.show),A=D[0],N=D[1],M=Object(f.a)(I,T,Object(m.a)({placement:s,enableEvents:!!e.show,containerPadding:d||5,flip:n,offset:i,arrowElement:S,popperConfig:y})),P=M.styles,x=M.attributes,L=Object(r.a)(M,["styles","attributes"]);e.show?A&&N(!1):e.transition||A||N(!0);var B=function(){N(!0),e.onExited&&e.onExited.apply(e,arguments)},F=e.show||b&&!A;if(Object(_.a)(T,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!F)return null;var U=e.children(Object(o.a)({},L,{show:!!e.show,props:Object(o.a)({},x.popper,{style:P.popper,ref:R}),arrowProps:Object(o.a)({},x.arrow,{style:P.arrow,ref:k})}));if(b){var j=e.onExit,W=e.onExiting,V=e.onEnter,H=e.onEntering,G=e.onEntered;U=l.a.createElement(b,{in:e.show,appear:!0,onExit:j,onExiting:W,onExited:B,onEnter:V,onEntering:H,onEntered:G},U)}return w?u.a.createPortal(U,w):null});v.displayName="Overlay",v.propTypes={show:s.a.bool,placement:s.a.oneOf(d.b),target:s.a.any,container:s.a.any,flip:s.a.bool,children:s.a.func.isRequired,containerPadding:s.a.number,popperConfig:s.a.object,rootClose:s.a.bool,rootCloseEvent:s.a.oneOf(["click","mousedown"]),rootCloseDisabled:s.a.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e.rootClose){var r;return(r=s.a.func).isRequired.apply(r,[e].concat(n))}return s.a.func.apply(s.a,[e].concat(n))},transition:s.a.elementType,onEnter:s.a.func,onEntering:s.a.func,onEntered:s.a.func,onExit:s.a.func,onExiting:s.a.func,onExited:s.a.func},t.a=v},function(e,t,n){"use strict";function o(e){return e&&"object"===typeof e?e:{show:e,hide:e}}function r(e,t,n){var o=t[0],r=o.currentTarget,i=o.relatedTarget||o.nativeEvent[n];i&&i===r||Object(c.a)(r,i)||e.apply(void 0,t)}function i(e){var t=e.trigger,n=e.overlay,i=e.children,l=e.popperConfig,c=void 0===l?{}:l,f=e.show,y=e.defaultShow,b=void 0!==y&&y,E=e.onToggle,T=e.delay,O=e.placement,C=e.flip,S=void 0===C?O&&-1!==O.indexOf("auto"):C,k=Object(a.a)(e,m),R=Object(u.useRef)(null),w=Object(h.a)(),I=Object(u.useRef)(""),D=Object(_.b)(f,b,E),A=D[0],N=D[1],M=o(T),P="function"!==typeof i?p.a.Children.only(i).props:{},x=P.onFocus,L=P.onBlur,B=P.onClick,F=Object(u.useCallback)(function(){return Object(d.a)(R.current)},[]),U=Object(u.useCallback)(function(){if(w.clear(),I.current="show",!M.show)return void N(!0);w.set(function(){"show"===I.current&&N(!0)},M.show)},[M.show,N,w]),j=Object(u.useCallback)(function(){if(w.clear(),I.current="hide",!M.hide)return void N(!1);w.set(function(){"hide"===I.current&&N(!1)},M.hide)},[M.hide,N,w]),W=Object(u.useCallback)(function(){U();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==x||x.apply(void 0,t)},[U,x]),V=Object(u.useCallback)(function(){j();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==L||L.apply(void 0,t)},[j,L]),H=Object(u.useCallback)(function(){N(!A),B&&B.apply(void 0,arguments)},[B,N,A]),G=Object(u.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r(U,t,"fromElement")},[U]),Y=Object(u.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r(j,t,"toElement")},[j]),K=null==t?[]:[].concat(t),X={};return-1!==K.indexOf("click")&&(X.onClick=H),-1!==K.indexOf("focus")&&(X.onFocus=W,X.onBlur=V),-1!==K.indexOf("hover")&&(X.onMouseOver=G,X.onMouseOut=Y),p.a.createElement(p.a.Fragment,null,"function"===typeof i?i(Object(s.a)({},X,{ref:R})):p.a.createElement(v,{ref:R},Object(u.cloneElement)(i,X)),p.a.createElement(g.a,Object(s.a)({},k,{show:A,onHide:j,flip:S,placement:O,popperConfig:c,target:F}),n))}var s=n(1),a=n(2),l=n(60),c=n(161),u=n(0),p=n.n(u),h=n(151),d=n(162),f=n(28),_=(n.n(f),n(18)),g=n(276),m=["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"],v=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.render=function(){return this.props.children},t}(p.a.Component),y={defaultShow:!1,trigger:["hover","focus"]};i.defaultProps=y},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=n(277),p=["bsPrefix","className","children","size"],h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,u=e.size,h=Object(r.a)(e,p),d=Object(c.a)(n,"pagination");return l.a.createElement("ul",Object(o.a)({ref:t},h,{className:s()(i,d,u&&d+"-"+u)}),a)});h.First=u.b,h.Prev=u.e,h.Ellipsis=u.a,h.Item=u.f,h.Next=u.d,h.Last=u.c},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(98),u=(n.n(c),n(4)),p=n(278),h=n(279),d=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],f={placement:"right"},_=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.placement,a=e.className,c=e.style,p=e.children,f=e.content,_=e.arrowProps,g=(e.popper,e.show,Object(r.a)(e,d)),m=Object(u.a)(n,"popover"),v=(null==i?void 0:i.split("-"))||[],y=v[0];return l.a.createElement("div",Object(o.a)({ref:t,role:"tooltip",style:c,"x-placement":y,className:s()(a,m,y&&"bs-popover-"+y)},g),l.a.createElement("div",Object(o.a)({className:"arrow"},_)),f?l.a.createElement(h.a,null,p):p)});_.defaultProps=f,_.Title=p.a,_.Content=h.a},function(e,t,n){"use strict";function o(e,t,n){var o=(e-t)/(n-t)*100;return Math.round(o*g)/g}function r(e,t){var n,r=e.min,a=e.now,c=e.max,p=e.label,h=e.srOnly,f=e.striped,_=e.animated,g=e.className,m=e.style,v=e.variant,y=e.bsPrefix,b=Object(s.a)(e,d);return u.a.createElement("div",Object(i.a)({ref:t},b,{role:"progressbar",className:l()(g,y+"-bar",(n={},n["bg-"+v]=v,n[y+"-bar-animated"]=_,n[y+"-bar-striped"]=_||f,n)),style:Object(i.a)({width:o(a,r,c)+"%"},m),"aria-valuenow":a,"aria-valuemin":r,"aria-valuemax":c}),h?u.a.createElement("span",{className:"sr-only"},p):p)}var i=n(1),s=n(2),a=n(3),l=n.n(a),c=n(0),u=n.n(c),p=n(4),h=n(94),d=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],f=["isChild"],_=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"],g=1e3,m={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},v=u.a.forwardRef(function(e,t){var n=e.isChild,o=Object(s.a)(e,f);if(o.bsPrefix=Object(p.a)(o.bsPrefix,"progress"),n)return r(o,t);var a=o.min,d=o.now,g=o.max,m=o.label,v=o.srOnly,y=o.striped,b=o.animated,E=o.bsPrefix,T=o.variant,O=o.className,C=o.children,S=Object(s.a)(o,_);return u.a.createElement("div",Object(i.a)({ref:t},S,{className:l()(O,E)}),C?Object(h.b)(C,function(e){return Object(c.cloneElement)(e,{isChild:!0})}):r({min:a,now:d,max:g,label:m,srOnly:v,striped:y,animated:b,bsPrefix:E,variant:T},t))});v.displayName="ProgressBar",v.defaultProps=m},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","className","children","aspectRatio"],p={aspectRatio:"1by1"},h=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,p=e.aspectRatio,h=Object(r.a)(e,u),d=Object(c.a)(n,"embed-responsive"),f=l.a.Children.only(a);return l.a.createElement("div",Object(o.a)({ref:t},h,{className:s()(d,i,p&&d+"-"+p)}),l.a.cloneElement(f,{className:s()(f.props.className,d+"-item")}))});h.defaultProps=p},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(4),u=["bsPrefix","variant","animation","size","children","as","className"],p=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.variant,a=e.animation,p=e.size,h=e.children,d=e.as,f=void 0===d?"div":d,_=e.className,g=Object(r.a)(e,u);n=Object(c.a)(n,"spinner");var m=n+"-"+a;return l.a.createElement(f,Object(o.a)({ref:t},g,{className:s()(_,m,p&&m+"-"+p,i&&"text-"+i)}),h)});p.displayName="Spinner"},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(5),l=n.n(a),c=n(10),u=n(150),p=n(95),h=n(163),d=["id","bsPrefix","size","variant","title","type","toggleLabel","children","onClick","href","target","menuAlign","menuRole","renderMenuOnMount","rootCloseEvent"],f={id:l.a.any,toggleLabel:l.a.string,href:l.a.string,target:l.a.string,onClick:l.a.func,title:l.a.node.isRequired,type:l.a.string,disabled:l.a.bool,menuAlign:h.a,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string,variant:l.a.string,size:l.a.string},_={toggleLabel:"Toggle dropdown",type:"button"},g=s.a.forwardRef(function(e,t){var n=e.id,i=e.bsPrefix,a=e.size,l=e.variant,h=e.title,f=e.type,_=e.toggleLabel,g=e.children,m=e.onClick,v=e.href,y=e.target,b=e.menuAlign,E=e.menuRole,T=e.renderMenuOnMount,O=e.rootCloseEvent,C=Object(r.a)(e,d);return s.a.createElement(p.a,Object(o.a)({ref:t},C,{as:u.a}),s.a.createElement(c.a,{size:a,variant:l,disabled:C.disabled,bsPrefix:i,href:v,target:y,onClick:m,type:f},h),s.a.createElement(p.a.Toggle,{split:!0,id:n?n.toString():void 0,size:a,variant:l,disabled:C.disabled,childBsPrefix:i},s.a.createElement("span",{className:"sr-only"},_)),s.a.createElement(p.a.Menu,{align:b,role:E,renderOnMount:T,rootCloseEvent:O},g))});g.propTypes=f,g.defaultProps=_,g.displayName="SplitButton"},function(e,t,n){"use strict";var o=n(60),r=n(0),i=n.n(r),s=n(165),a=n(166),l=n(167),c=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(i.a.Component);c.Container=s.a,c.Content=a.a,c.Pane=l.a},function(e,t,n){"use strict";var o=(n(1),n(2),n(3)),r=(n.n(o),n(0));n.n(r),n(4)},function(e,t,n){"use strict";function o(e){var t;return Object(m.a)(e,function(e){null==t&&(t=e.props.eventKey)}),t}function r(e){var t=e.props,n=t.title,o=t.eventKey,r=t.disabled,i=t.tabClassName,s=t.id;return null==n?null:l.a.createElement(d.a,{as:h.a,eventKey:o,disabled:r,id:s,className:i},n)}var i=n(1),s=n(2),a=n(0),l=n.n(a),c=n(98),u=(n.n(c),n(18)),p=n(144),h=n(91),d=n(148),f=n(165),_=n(166),g=n(167),m=n(94),v=["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"],y={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},b=function(e){var t=Object(u.a)(e,{activeKey:"onSelect"}),n=t.id,a=t.onSelect,c=t.transition,h=t.mountOnEnter,d=t.unmountOnExit,y=t.children,b=t.activeKey,E=void 0===b?o(y):b,T=Object(s.a)(t,v);return l.a.createElement(f.a,{id:n,activeKey:E,onSelect:a,transition:c,mountOnEnter:h,unmountOnExit:d},l.a.createElement(p.a,Object(i.a)({},T,{role:"tablist",as:"nav"}),Object(m.b)(y,r)),l.a.createElement(_.a,null,Object(m.b)(y,function(e){var t=Object(i.a)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,l.a.createElement(g.a,t)})))};b.defaultProps=y,b.displayName="Tabs"},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(3),l=n.n(a),c=n(151),u=n(46),p=n(280),h=n(282),d=n(4),f=n(281),_=["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"],g=s.a.forwardRef(function(e,t){var n=e.bsPrefix,a=e.className,p=e.children,h=e.transition,g=void 0===h?u.a:h,m=e.show,v=void 0===m||m,y=e.animation,b=void 0===y||y,E=e.delay,T=void 0===E?3e3:E,O=e.autohide,C=void 0!==O&&O,S=e.onClose,k=Object(r.a)(e,_);n=Object(d.a)(n,"toast");var R=Object(i.useRef)(T),w=Object(i.useRef)(S);Object(i.useEffect)(function(){R.current=T,w.current=S},[T,S]);var I=Object(c.a)(),D=!(!C||!v),A=Object(i.useCallback)(function(){D&&(null==w.current||w.current())},[D]);Object(i.useEffect)(function(){I.set(A,R.current)},[I,A]);var N=Object(i.useMemo)(function(){return{onClose:S}},[S]),M=!(!g||!b),P=s.a.createElement("div",Object(o.a)({},k,{ref:t,className:l()(n,a,!M&&(v?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),p);return s.a.createElement(f.a.Provider,{value:N},M&&g?s.a.createElement(g,{in:v,unmountOnExit:!0},P):P)});g.displayName="Toast";Object.assign(g,{Body:h.a,Header:p.a})},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(0),s=n.n(i),a=n(9),l=n.n(a),c=n(18),u=n(109),p=n(94),h=n(150),d=n(283),f=["children","type","name","value","onChange"],_={type:"radio",vertical:!1},g=s.a.forwardRef(function(e,t){var n=Object(c.a)(e,{value:"onChange"}),i=n.children,a=n.type,d=n.name,_=n.value,g=n.onChange,m=Object(r.a)(n,f),v=function(){return null==_?[]:[].concat(_)},y=function(e,t){if(g){var n=v(),o=-1!==n.indexOf(e);if("radio"===a)return void(!o&&g&&g(e,t));o?g(n.filter(function(t){return t!==e}),t):g([].concat(n,[e]),t)}};return"radio"!==a||d||l()(!1),s.a.createElement(h.a,Object(o.a)({},m,{ref:t,toggle:!0}),Object(p.b)(i,function(e){var t=v(),n=e.props,o=n.value,r=n.onChange,i=function(e){return y(o,e)};return s.a.cloneElement(e,{type:a,name:e.name||d,checked:-1!==t.indexOf(o),onChange:Object(u.a)(r,i)})}))});g.defaultProps=_,g.Button=d.a},function(e,t,n){"use strict";var o=n(1),r=n(2),i=n(3),s=n.n(i),a=n(0),l=n.n(a),c=n(98),u=(n.n(c),n(4)),p=["bsPrefix","placement","className","style","children","arrowProps","popper","show"],h={placement:"right"},d=l.a.forwardRef(function(e,t){var n=e.bsPrefix,i=e.placement,a=e.className,c=e.style,h=e.children,d=e.arrowProps,f=(e.popper,e.show,Object(r.a)(e,p));n=Object(u.a)(n,"tooltip");var _=(null==i?void 0:i.split("-"))||[],g=_[0];return l.a.createElement("div",Object(o.a)({ref:t,style:c,role:"tooltip","x-placement":g,className:s()(a,n,"bs-tooltip-"+g)},f),l.a.createElement("div",Object(o.a)({className:"arrow"},d)),l.a.createElement("div",{className:n+"-inner"},h))});d.defaultProps=h,d.displayName="Tooltip"},function(e,t,n){var o,r,i;"function"===typeof Symbol&&Symbol.iterator;!function(s,a){r=[n(35)],o=a,void 0!==(i="function"===typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";return e.Python=new e.Generator("Python"),e.Python.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),e.Python.ORDER_ATOMIC=0,e.Python.ORDER_COLLECTION=1,e.Python.ORDER_STRING_CONVERSION=1,e.Python.ORDER_MEMBER=2.1,e.Python.ORDER_FUNCTION_CALL=2.2,e.Python.ORDER_EXPONENTIATION=3,e.Python.ORDER_UNARY_SIGN=4,e.Python.ORDER_BITWISE_NOT=4,e.Python.ORDER_MULTIPLICATIVE=5,e.Python.ORDER_ADDITIVE=6,e.Python.ORDER_BITWISE_SHIFT=7,e.Python.ORDER_BITWISE_AND=8,e.Python.ORDER_BITWISE_XOR=9,e.Python.ORDER_BITWISE_OR=10,e.Python.ORDER_RELATIONAL=11,e.Python.ORDER_LOGICAL_NOT=12,e.Python.ORDER_LOGICAL_AND=13,e.Python.ORDER_LOGICAL_OR=14,e.Python.ORDER_CONDITIONAL=15,e.Python.ORDER_LAMBDA=16,e.Python.ORDER_NONE=99,e.Python.ORDER_OVERRIDES=[[e.Python.ORDER_FUNCTION_CALL,e.Python.ORDER_MEMBER],[e.Python.ORDER_FUNCTION_CALL,e.Python.ORDER_FUNCTION_CALL],[e.Python.ORDER_MEMBER,e.Python.ORDER_MEMBER],[e.Python.ORDER_MEMBER,e.Python.ORDER_FUNCTION_CALL],[e.Python.ORDER_LOGICAL_NOT,e.Python.ORDER_LOGICAL_NOT],[e.Python.ORDER_LOGICAL_AND,e.Python.ORDER_LOGICAL_AND],[e.Python.ORDER_LOGICAL_OR,e.Python.ORDER_LOGICAL_OR]],e.Python.isInitialized=!1,e.Python.init=function(t){e.Python.PASS=this.INDENT+"pass\n",e.Python.definitions_=Object.create(null),e.Python.functionNames_=Object.create(null),e.Python.variableDB_?e.Python.variableDB_.reset():e.Python.variableDB_=new e.Names(e.Python.RESERVED_WORDS_),e.Python.variableDB_.setVariableMap(t.getVariableMap());for(var n=[],o=e.Variables.allDeveloperVariables(t),r=0;r<o.length;r++)n.push(e.Python.variableDB_.getName(o[r],e.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(t=e.Variables.allUsedVarModels(t),r=0;r<t.length;r++)n.push(e.Python.variableDB_.getName(t[r].getId(),e.VARIABLE_CATEGORY_NAME)+" = None");e.Python.definitions_.variables=n.join("\n"),this.isInitialized=!0},e.Python.finish=function(t){var n,o=[],r=[];for(n in e.Python.definitions_){var i=e.Python.definitions_[n];i.match(/^(from\s+\S+\s+)?import\s+\S+/)?o.push(i):r.push(i)}return delete e.Python.definitions_,delete e.Python.functionNames_,e.Python.variableDB_.reset(),(o.join("\n")+"\n\n"+r.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+t},e.Python.scrubNakedValue=function(e){return e+"\n"},e.Python.quote_=function(e){e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n");var t="'";return-1!==e.indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t},e.Python.multiline_quote_=function(t){return t.split(/\n/g).map(e.Python.quote_).join(" + '\\n' + \n")},e.Python.scrub_=function(t,n,o){var r="";if(!t.outputConnection||!t.outputConnection.targetConnection){var i=t.getCommentText();i&&(i=e.utils.string.wrap(i,e.Python.COMMENT_WRAP-3),r+=e.Python.prefixLines(i+"\n","# "));for(var s=0;s<t.inputList.length;s++)t.inputList[s].type==e.inputTypes.VALUE&&(i=t.inputList[s].connection.targetBlock())&&(i=e.Python.allNestedComments(i))&&(r+=e.Python.prefixLines(i,"# "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),o=o?"":e.Python.blockToCode(t),r+n+o},e.Python.getAdjustedInt=function(t,n,o,r){o=o||0,t.workspace.options.oneBasedIndex&&o--;var i=t.workspace.options.oneBasedIndex?"1":"0";return t=e.Python.valueToCode(t,n,o?e.Python.ORDER_ADDITIVE:e.Python.ORDER_NONE)||i,e.isNumber(t)?(t=parseInt(t,10)+o,r&&(t=-t)):(t=0<o?"int("+t+" + "+o+")":0>o?"int("+t+" - "+-o+")":"int("+t+")",r&&(t="-"+t)),t},e.Python.colour={},e.Python.colour_picker=function(t){return[e.Python.quote_(t.getFieldValue("COLOUR")),e.Python.ORDER_ATOMIC]},e.Python.colour_random=function(t){return e.Python.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",e.Python.ORDER_FUNCTION_CALL]},e.Python.colour_rgb=function(t){var n=e.Python.provideFunction_("colour_rgb",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"]),o=e.Python.valueToCode(t,"RED",e.Python.ORDER_NONE)||0,r=e.Python.valueToCode(t,"GREEN",e.Python.ORDER_NONE)||0;return t=e.Python.valueToCode(t,"BLUE",e.Python.ORDER_NONE)||0,[n+"("+o+", "+r+", "+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.colour_blend=function(t){var n=e.Python.provideFunction_("colour_blend",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"]),o=e.Python.valueToCode(t,"COLOUR1",e.Python.ORDER_NONE)||"'#000000'",r=e.Python.valueToCode(t,"COLOUR2",e.Python.ORDER_NONE)||"'#000000'";return t=e.Python.valueToCode(t,"RATIO",e.Python.ORDER_NONE)||0,[n+"("+o+", "+r+", "+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists={},e.Python.lists_create_empty=function(t){return["[]",e.Python.ORDER_ATOMIC]},e.Python.lists_create_with=function(t){for(var n=Array(t.itemCount_),o=0;o<t.itemCount_;o++)n[o]=e.Python.valueToCode(t,"ADD"+o,e.Python.ORDER_NONE)||"None";return["["+n.join(", ")+"]",e.Python.ORDER_ATOMIC]},e.Python.lists_repeat=function(t){var n=e.Python.valueToCode(t,"ITEM",e.Python.ORDER_NONE)||"None";return t=e.Python.valueToCode(t,"NUM",e.Python.ORDER_MULTIPLICATIVE)||"0",["["+n+"] * "+t,e.Python.ORDER_MULTIPLICATIVE]},e.Python.lists_length=function(t){return["len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"[]")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_isEmpty=function(t){return["not len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"[]")+")",e.Python.ORDER_LOGICAL_NOT]},e.Python.lists_indexOf=function(t){var n=e.Python.valueToCode(t,"FIND",e.Python.ORDER_NONE)||"[]",o=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''";if(t.workspace.options.oneBasedIndex)var r=" 0",i=" + 1",s="";else r=" -1",i="",s=" - 1";return"FIRST"==t.getFieldValue("END")?(t=e.Python.provideFunction_("first_index",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+i,"  except: index ="+r,"  return index"]),[t+"("+o+", "+n+")",e.Python.ORDER_FUNCTION_CALL]):(t=e.Python.provideFunction_("last_index",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+s,"  except: index ="+r,"  return index"]),[t+"("+o+", "+n+")",e.Python.ORDER_FUNCTION_CALL])},e.Python.lists_getIndex=function(t){var n=t.getFieldValue("MODE")||"GET",o=t.getFieldValue("WHERE")||"FROM_START",r=e.Python.valueToCode(t,"VALUE","RANDOM"==o?e.Python.ORDER_NONE:e.Python.ORDER_MEMBER)||"[]";switch(o){case"FIRST":if("GET"==n)return[r+"[0]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".pop(0)",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+".pop(0)\n";break;case"LAST":if("GET"==n)return[r+"[-1]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".pop()",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+".pop()\n";break;case"FROM_START":if(t=e.Python.getAdjustedInt(t,"AT"),"GET"==n)return[r+"["+t+"]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".pop("+t+")",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+".pop("+t+")\n";break;case"FROM_END":if(t=e.Python.getAdjustedInt(t,"AT",1,!0),"GET"==n)return[r+"["+t+"]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[r+".pop("+t+")",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+".pop("+t+")\n";break;case"RANDOM":if(e.Python.definitions_.import_random="import random","GET"==n)return["random.choice("+r+")",e.Python.ORDER_FUNCTION_CALL];if(r=e.Python.provideFunction_("lists_remove_random_item",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+r+")","GET_REMOVE"==n)return[r,e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return r+"\n"}throw Error("Unhandled combination (lists_getIndex).")},e.Python.lists_setIndex=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_MEMBER)||"[]",o=t.getFieldValue("MODE")||"GET",r=t.getFieldValue("WHERE")||"FROM_START",i=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"None";switch(r){case"FIRST":if("SET"==o)return n+"[0] = "+i+"\n";if("INSERT"==o)return n+".insert(0, "+i+")\n";break;case"LAST":if("SET"==o)return n+"[-1] = "+i+"\n";if("INSERT"==o)return n+".append("+i+")\n";break;case"FROM_START":if(t=e.Python.getAdjustedInt(t,"AT"),"SET"==o)return n+"["+t+"] = "+i+"\n";if("INSERT"==o)return n+".insert("+t+", "+i+")\n";break;case"FROM_END":if(t=e.Python.getAdjustedInt(t,"AT",1,!0),"SET"==o)return n+"["+t+"] = "+i+"\n";if("INSERT"==o)return n+".insert("+t+", "+i+")\n";break;case"RANDOM":if(e.Python.definitions_.import_random="import random",n.match(/^\w+$/)?t="":(t=e.Python.variableDB_.getDistinctName("tmp_list",e.VARIABLE_CATEGORY_NAME),r=t+" = "+n+"\n",n=t,t=r),r=e.Python.variableDB_.getDistinctName("tmp_x",e.VARIABLE_CATEGORY_NAME),t+=r+" = int(random.random() * len("+n+"))\n","SET"==o)return t+(n+"[")+r+"] = "+i+"\n";if("INSERT"==o)return t+(n+".insert(")+r+", "+i+")\n"}throw Error("Unhandled combination (lists_setIndex).")},e.Python.lists_getSublist=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_MEMBER)||"[]",o=t.getFieldValue("WHERE1"),r=t.getFieldValue("WHERE2");switch(o){case"FROM_START":o=e.Python.getAdjustedInt(t,"AT1"),"0"==o&&(o="");break;case"FROM_END":o=e.Python.getAdjustedInt(t,"AT1",1,!0);break;case"FIRST":o="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(r){case"FROM_START":t=e.Python.getAdjustedInt(t,"AT2",1);break;case"FROM_END":t=e.Python.getAdjustedInt(t,"AT2",0,!0),e.isNumber(String(t))?"0"==t&&(t=""):(e.Python.definitions_.import_sys="import sys",t+=" or sys.maxsize");break;case"LAST":t="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[n+"["+o+" : "+t+"]",e.Python.ORDER_MEMBER]},e.Python.lists_sort=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]",o=t.getFieldValue("TYPE");return t="1"===t.getFieldValue("DIRECTION")?"False":"True",[e.Python.provideFunction_("lists_sort",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {",'    "NUMERIC": try_float,','    "TEXT": str,','    "IGNORE_CASE": lambda s: str(s).lower()',"  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+n+', "'+o+'", '+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_split=function(t){var n=t.getFieldValue("MODE");if("SPLIT"==n)n=e.Python.valueToCode(t,"INPUT",e.Python.ORDER_MEMBER)||"''",t=e.Python.valueToCode(t,"DELIM",e.Python.ORDER_NONE),t=n+".split("+t+")";else{if("JOIN"!=n)throw Error("Unknown mode: "+n);n=e.Python.valueToCode(t,"INPUT",e.Python.ORDER_NONE)||"[]",t=e.Python.valueToCode(t,"DELIM",e.Python.ORDER_MEMBER)||"''",t=t+".join("+n+")"}return[t,e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_reverse=function(t){return["list(reversed("+(e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]")+"))",e.Python.ORDER_FUNCTION_CALL]},e.Python.logic={},e.Python.controls_if=function(t){var n=0,o="";e.Python.STATEMENT_PREFIX&&(o+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t));do{var r=e.Python.valueToCode(t,"IF"+n,e.Python.ORDER_NONE)||"False",i=e.Python.statementToCode(t,"DO"+n)||e.Python.PASS;e.Python.STATEMENT_SUFFIX&&(i=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)+i),o+=(0==n?"if ":"elif ")+r+":\n"+i,++n}while(t.getInput("IF"+n));return(t.getInput("ELSE")||e.Python.STATEMENT_SUFFIX)&&(i=e.Python.statementToCode(t,"ELSE")||e.Python.PASS,e.Python.STATEMENT_SUFFIX&&(i=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)+i),o+="else:\n"+i),o},e.Python.controls_ifelse=e.Python.controls_if,e.Python.logic_compare=function(t){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],o=e.Python.ORDER_RELATIONAL,r=e.Python.valueToCode(t,"A",o)||"0";return t=e.Python.valueToCode(t,"B",o)||"0",[r+" "+n+" "+t,o]},e.Python.logic_operation=function(t){var n="AND"==t.getFieldValue("OP")?"and":"or",o="and"==n?e.Python.ORDER_LOGICAL_AND:e.Python.ORDER_LOGICAL_OR,r=e.Python.valueToCode(t,"A",o);if(t=e.Python.valueToCode(t,"B",o),r||t){var i="and"==n?"True":"False";r||(r=i),t||(t=i)}else t=r="False";return[r+" "+n+" "+t,o]},e.Python.logic_negate=function(t){return["not "+(e.Python.valueToCode(t,"BOOL",e.Python.ORDER_LOGICAL_NOT)||"True"),e.Python.ORDER_LOGICAL_NOT]},e.Python.logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"True":"False",e.Python.ORDER_ATOMIC]},e.Python.logic_null=function(t){return["None",e.Python.ORDER_ATOMIC]},e.Python.logic_ternary=function(t){var n=e.Python.valueToCode(t,"IF",e.Python.ORDER_CONDITIONAL)||"False",o=e.Python.valueToCode(t,"THEN",e.Python.ORDER_CONDITIONAL)||"None";return t=e.Python.valueToCode(t,"ELSE",e.Python.ORDER_CONDITIONAL)||"None",[o+" if "+n+" else "+t,e.Python.ORDER_CONDITIONAL]},e.Python.loops={},e.Python.controls_repeat_ext=function(t){var n=t.getField("TIMES")?String(parseInt(t.getFieldValue("TIMES"),10)):e.Python.valueToCode(t,"TIMES",e.Python.ORDER_NONE)||"0";n=e.isNumber(n)?parseInt(n,10):"int("+n+")";var o=e.Python.statementToCode(t,"DO");return o=e.Python.addLoopTrap(o,t)||e.Python.PASS,"for "+e.Python.variableDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME)+" in range("+n+"):\n"+o},e.Python.controls_repeat=e.Python.controls_repeat_ext,e.Python.controls_whileUntil=function(t){var n="UNTIL"==t.getFieldValue("MODE"),o=e.Python.valueToCode(t,"BOOL",n?e.Python.ORDER_LOGICAL_NOT:e.Python.ORDER_NONE)||"False",r=e.Python.statementToCode(t,"DO");return r=e.Python.addLoopTrap(r,t)||e.Python.PASS,n&&(o="not "+o),"while "+o+":\n"+r},e.Python.controls_for=function(t){var n=e.Python.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),o=e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"0",r=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"0",i=e.Python.valueToCode(t,"BY",e.Python.ORDER_NONE)||"1",s=e.Python.statementToCode(t,"DO");s=e.Python.addLoopTrap(s,t)||e.Python.PASS;var a="",l=function(){return e.Python.provideFunction_("upRange",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])},c=function(){return e.Python.provideFunction_("downRange",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};if(t=function(e,t,n){return"("+e+" <= "+t+") and "+l()+"("+e+", "+t+", "+n+") or "+c()+"("+e+", "+t+", "+n+")"},e.isNumber(o)&&e.isNumber(r)&&e.isNumber(i))o=Number(o),r=Number(r),i=Math.abs(Number(i)),0===o%1&&0===r%1&&0===i%1?(o<=r?(r++,t=0==o&&1==i?r:o+", "+r,1!=i&&(t+=", "+i)):(r--,t=o+", "+r+", -"+i),t="range("+t+")"):(t=o<r?l():c(),t+="("+o+", "+r+", "+i+")");else{var u=function(t,o){return e.isNumber(t)?t=Number(t):t.match(/^\w+$/)?t="float("+t+")":(o=e.Python.variableDB_.getDistinctName(n+o,e.VARIABLE_CATEGORY_NAME),a+=o+" = float("+t+")\n",t=o),t};o=u(o,"_start"),r=u(r,"_end"),i=u(i,"_inc"),"number"==typeof o&&"number"==typeof r?(t=o<r?l():c(),t+="("+o+", "+r+", "+i+")"):t=t(o,r,i)}return a+="for "+n+" in "+t+":\n"+s},e.Python.controls_forEach=function(t){var n=e.Python.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),o=e.Python.valueToCode(t,"LIST",e.Python.ORDER_RELATIONAL)||"[]",r=e.Python.statementToCode(t,"DO");return r=e.Python.addLoopTrap(r,t)||e.Python.PASS,"for "+n+" in "+o+":\n"+r},e.Python.controls_flow_statements=function(t){var n="";if(e.Python.STATEMENT_PREFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t)),e.Python.STATEMENT_SUFFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_SUFFIX,t)),e.Python.STATEMENT_PREFIX){var o=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(t);o&&!o.suppressPrefixSuffix&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,o))}switch(t.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},e.Python.math={},e.Python.addReservedWords("math,random,Number"),e.Python.math_number=function(t){if(t=Number(t.getFieldValue("NUM")),1/0==t){t='float("inf")';var n=e.Python.ORDER_FUNCTION_CALL}else-1/0==t?(t='-float("inf")',n=e.Python.ORDER_UNARY_SIGN):n=0>t?e.Python.ORDER_UNARY_SIGN:e.Python.ORDER_ATOMIC;return[t,n]},e.Python.math_arithmetic=function(t){var n={ADD:[" + ",e.Python.ORDER_ADDITIVE],MINUS:[" - ",e.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",e.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",e.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",e.Python.ORDER_EXPONENTIATION]}[t.getFieldValue("OP")],o=n[0];n=n[1];var r=e.Python.valueToCode(t,"A",n)||"0";return t=e.Python.valueToCode(t,"B",n)||"0",[r+o+t,n]},e.Python.math_single=function(t){var n=t.getFieldValue("OP");if("NEG"==n){var o=e.Python.valueToCode(t,"NUM",e.Python.ORDER_UNARY_SIGN)||"0";return["-"+o,e.Python.ORDER_UNARY_SIGN]}switch(e.Python.definitions_.import_math="import math",t="SIN"==n||"COS"==n||"TAN"==n?e.Python.valueToCode(t,"NUM",e.Python.ORDER_MULTIPLICATIVE)||"0":e.Python.valueToCode(t,"NUM",e.Python.ORDER_NONE)||"0",n){case"ABS":o="math.fabs("+t+")";break;case"ROOT":o="math.sqrt("+t+")";break;case"LN":o="math.log("+t+")";break;case"LOG10":o="math.log10("+t+")";break;case"EXP":o="math.exp("+t+")";break;case"POW10":o="math.pow(10,"+t+")";break;case"ROUND":o="round("+t+")";break;case"ROUNDUP":o="math.ceil("+t+")";break;case"ROUNDDOWN":o="math.floor("+t+")";break;case"SIN":o="math.sin("+t+" / 180.0 * math.pi)";break;case"COS":o="math.cos("+t+" / 180.0 * math.pi)";break;case"TAN":o="math.tan("+t+" / 180.0 * math.pi)"}if(o)return[o,e.Python.ORDER_FUNCTION_CALL];switch(n){case"ASIN":o="math.asin("+t+") / math.pi * 180";break;case"ACOS":o="math.acos("+t+") / math.pi * 180";break;case"ATAN":o="math.atan("+t+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+n)}return[o,e.Python.ORDER_MULTIPLICATIVE]},e.Python.math_constant=function(t){var n={PI:["math.pi",e.Python.ORDER_MEMBER],E:["math.e",e.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",e.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",e.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",e.Python.ORDER_MEMBER],INFINITY:["float('inf')",e.Python.ORDER_ATOMIC]};return t=t.getFieldValue("CONSTANT"),"INFINITY"!=t&&(e.Python.definitions_.import_math="import math"),n[t]},e.Python.math_number_property=function(t){var n=e.Python.valueToCode(t,"NUMBER_TO_CHECK",e.Python.ORDER_MULTIPLICATIVE)||"0",o=t.getFieldValue("PROPERTY");if("PRIME"==o)return e.Python.definitions_.import_math="import math",e.Python.definitions_.from_numbers_import_Number="from numbers import Number",[e.Python.provideFunction_("math_isPrime",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+n+")",e.Python.ORDER_FUNCTION_CALL];switch(o){case"EVEN":var r=n+" % 2 == 0";break;case"ODD":r=n+" % 2 == 1";break;case"WHOLE":r=n+" % 1 == 0";break;case"POSITIVE":r=n+" > 0";break;case"NEGATIVE":r=n+" < 0";break;case"DIVISIBLE_BY":if(!(t=e.Python.valueToCode(t,"DIVISOR",e.Python.ORDER_MULTIPLICATIVE))||"0"==t)return["False",e.Python.ORDER_ATOMIC];r=n+" % "+t+" == 0"}return[r,e.Python.ORDER_RELATIONAL]},e.Python.math_change=function(t){e.Python.definitions_.from_numbers_import_Number="from numbers import Number";var n=e.Python.valueToCode(t,"DELTA",e.Python.ORDER_ADDITIVE)||"0";return(t=e.Python.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = ("+t+" if isinstance("+t+", Number) else 0) + "+n+"\n"},e.Python.math_round=e.Python.math_single,e.Python.math_trig=e.Python.math_single,e.Python.math_on_list=function(t){var n=t.getFieldValue("OP");switch(t=e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]",n){case"SUM":n="sum("+t+")";break;case"MIN":n="min("+t+")";break;case"MAX":n="max("+t+")";break;case"AVERAGE":e.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=e.Python.provideFunction_("math_mean",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]),n=n+"("+t+")";break;case"MEDIAN":e.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=e.Python.provideFunction_("math_median",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]),n=n+"("+t+")";break;case"MODE":n=e.Python.provideFunction_("math_modes",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]),n=n+"("+t+")";break;case"STD_DEV":e.Python.definitions_.import_math="import math",n=e.Python.provideFunction_("math_standard_deviation",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]),n=n+"("+t+")";break;case"RANDOM":e.Python.definitions_.import_random="import random",n="random.choice("+t+")";break;default:throw Error("Unknown operator: "+n)}return[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.math_modulo=function(t){var n=e.Python.valueToCode(t,"DIVIDEND",e.Python.ORDER_MULTIPLICATIVE)||"0";return t=e.Python.valueToCode(t,"DIVISOR",e.Python.ORDER_MULTIPLICATIVE)||"0",[n+" % "+t,e.Python.ORDER_MULTIPLICATIVE]},e.Python.math_constrain=function(t){var n=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"0",o=e.Python.valueToCode(t,"LOW",e.Python.ORDER_NONE)||"0";return t=e.Python.valueToCode(t,"HIGH",e.Python.ORDER_NONE)||"float('inf')",["min(max("+n+", "+o+"), "+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_random_int=function(t){e.Python.definitions_.import_random="import random";var n=e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"0";return t=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"0",["random.randint("+n+", "+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_random_float=function(t){return e.Python.definitions_.import_random="import random",["random.random()",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_atan2=function(t){e.Python.definitions_.import_math="import math";var n=e.Python.valueToCode(t,"X",e.Python.ORDER_NONE)||"0";return["math.atan2("+(e.Python.valueToCode(t,"Y",e.Python.ORDER_NONE)||"0")+", "+n+") / math.pi * 180",e.Python.ORDER_MULTIPLICATIVE]},e.Python.procedures={},e.Python.procedures_defreturn=function(t){for(var n,o=[],r=t.workspace,i=e.Variables.allUsedVarModels(r)||[],s=0;n=i[s];s++)n=n.name,-1==t.getVars().indexOf(n)&&o.push(e.Python.variableDB_.getName(n,e.VARIABLE_CATEGORY_NAME));for(i=e.Variables.allDeveloperVariables(r),s=0;s<i.length;s++)o.push(e.Python.variableDB_.getName(i[s],e.Names.DEVELOPER_VARIABLE_TYPE));o=o.length?e.Python.INDENT+"global "+o.join(", ")+"\n":"",r=e.Python.variableDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),n="",e.Python.STATEMENT_PREFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t)),e.Python.STATEMENT_SUFFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_SUFFIX,t)),n&&(n=e.Python.prefixLines(n,e.Python.INDENT));var a="";e.Python.INFINITE_LOOP_TRAP&&(a=e.Python.prefixLines(e.Python.injectId(e.Python.INFINITE_LOOP_TRAP,t),e.Python.INDENT));var l=e.Python.statementToCode(t,"STACK"),c=e.Python.valueToCode(t,"RETURN",e.Python.ORDER_NONE)||"",u="";l&&c&&(u=n),c?c=e.Python.INDENT+"return "+c+"\n":l||(l=e.Python.PASS);var p=[];for(i=t.getVars(),s=0;s<i.length;s++)p[s]=e.Python.variableDB_.getName(i[s],e.VARIABLE_CATEGORY_NAME);return o="def "+r+"("+p.join(", ")+"):\n"+o+n+a+l+u+c,o=e.Python.scrub_(t,o),e.Python.definitions_["%"+r]=o,null},e.Python.procedures_defnoreturn=e.Python.procedures_defreturn,e.Python.procedures_callreturn=function(t){for(var n=e.Python.variableDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),o=[],r=t.getVars(),i=0;i<r.length;i++)o[i]=e.Python.valueToCode(t,"ARG"+i,e.Python.ORDER_NONE)||"None";return[n+"("+o.join(", ")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.procedures_callnoreturn=function(t){return e.Python.procedures_callreturn(t)[0]+"\n"},e.Python.procedures_ifreturn=function(t){var n="if "+(e.Python.valueToCode(t,"CONDITION",e.Python.ORDER_NONE)||"False")+":\n";return e.Python.STATEMENT_SUFFIX&&(n+=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)),t.hasReturnValue_?(t=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"None",n+=e.Python.INDENT+"return "+t+"\n"):n+=e.Python.INDENT+"return\n",n},e.Python.texts={},e.Python.text=function(t){return[e.Python.quote_(t.getFieldValue("TEXT")),e.Python.ORDER_ATOMIC]},e.Python.text_multiline=function(t){return t=e.Python.multiline_quote_(t.getFieldValue("TEXT")),[t,-1!=t.indexOf("+")?e.Python.ORDER_ADDITIVE:e.Python.ORDER_ATOMIC]},e.Python.text.forceString_=function(t){return e.Python.text.forceString_.strRegExp.test(t)?[t,e.Python.ORDER_ATOMIC]:["str("+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.Python.text_join=function(t){switch(t.itemCount_){case 0:return["''",e.Python.ORDER_ATOMIC];case 1:return t=e.Python.valueToCode(t,"ADD0",e.Python.ORDER_NONE)||"''",e.Python.text.forceString_(t);case 2:var n=e.Python.valueToCode(t,"ADD0",e.Python.ORDER_NONE)||"''";return t=e.Python.valueToCode(t,"ADD1",e.Python.ORDER_NONE)||"''",t=e.Python.text.forceString_(n)[0]+" + "+e.Python.text.forceString_(t)[0],[t,e.Python.ORDER_ADDITIVE];default:n=[];for(var o=0;o<t.itemCount_;o++)n[o]=e.Python.valueToCode(t,"ADD"+o,e.Python.ORDER_NONE)||"''";return t=e.Python.variableDB_.getDistinctName("x",e.VARIABLE_CATEGORY_NAME),t="''.join([str("+t+") for "+t+" in ["+n.join(", ")+"]])",[t,e.Python.ORDER_FUNCTION_CALL]}},e.Python.text_append=function(t){var n=e.Python.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return t=e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''",n+" = str("+n+") + "+e.Python.text.forceString_(t)[0]+"\n"},e.Python.text_length=function(t){return["len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text_isEmpty=function(t){return["not len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_LOGICAL_NOT]},e.Python.text_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"find":"rfind",o=e.Python.valueToCode(t,"FIND",e.Python.ORDER_NONE)||"''";return n=(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_MEMBER)||"''")+"."+n+"("+o+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.Python.ORDER_ADDITIVE]:[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_charAt=function(t){var n=t.getFieldValue("WHERE")||"FROM_START",o=e.Python.valueToCode(t,"VALUE","RANDOM"==n?e.Python.ORDER_NONE:e.Python.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[o+"[0]",e.Python.ORDER_MEMBER];case"LAST":return[o+"[-1]",e.Python.ORDER_MEMBER];case"FROM_START":return t=e.Python.getAdjustedInt(t,"AT"),[o+"["+t+"]",e.Python.ORDER_MEMBER];case"FROM_END":return t=e.Python.getAdjustedInt(t,"AT",1,!0),[o+"["+t+"]",e.Python.ORDER_MEMBER];case"RANDOM":return e.Python.definitions_.import_random="import random",[e.Python.provideFunction_("text_random_letter",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+o+")",e.Python.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.Python.text_getSubstring=function(t){var n=t.getFieldValue("WHERE1"),o=t.getFieldValue("WHERE2"),r=e.Python.valueToCode(t,"STRING",e.Python.ORDER_MEMBER)||"''";switch(n){case"FROM_START":n=e.Python.getAdjustedInt(t,"AT1"),"0"==n&&(n="");break;case"FROM_END":n=e.Python.getAdjustedInt(t,"AT1",1,!0);break;case"FIRST":n="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(o){case"FROM_START":t=e.Python.getAdjustedInt(t,"AT2",1);break;case"FROM_END":t=e.Python.getAdjustedInt(t,"AT2",0,!0),e.isNumber(String(t))?"0"==t&&(t=""):(e.Python.definitions_.import_sys="import sys",t+=" or sys.maxsize");break;case"LAST":t="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[r+"["+n+" : "+t+"]",e.Python.ORDER_MEMBER]},e.Python.text_changeCase=function(t){var n={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[t.getFieldValue("CASE")];return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_trim=function(t){var n={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[t.getFieldValue("MODE")];return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_print=function(t){return"print("+(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''")+")\n"},e.Python.text_prompt_ext=function(t){var n=e.Python.provideFunction_("text_prompt",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]);return n=n+"("+(t.getField("TEXT")?e.Python.quote_(t.getFieldValue("TEXT")):e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''")+")","NUMBER"==t.getFieldValue("TYPE")&&(n="float("+n+")"),[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_prompt=e.Python.text_prompt_ext,e.Python.text_count=function(t){var n=e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''";return t=e.Python.valueToCode(t,"SUB",e.Python.ORDER_NONE)||"''",[n+".count("+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text_replace=function(t){var n=e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''",o=e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"''";return t=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"''",[n+".replace("+o+", "+t+")",e.Python.ORDER_MEMBER]},e.Python.text_reverse=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+"[::-1]",e.Python.ORDER_MEMBER]},e.Python.variables={},e.Python.variables_get=function(t){return[e.Python.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.Python.ORDER_ATOMIC]},e.Python.variables_set=function(t){var n=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"0";return e.Python.variableDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+n+"\n"},e.Python.variablesDynamic={},e.Python.variables_get_dynamic=e.Python.variables_get,e.Python.variables_set_dynamic=e.Python.variables_set,e.Python})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=(n(23),n(14)),c=n(10),u=n(34),p=n(27),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={name:"",filter_dsl:""},e.handleS=e.handleS.bind(e),e.handleDS=e.handleDS.bind(e),e.handleDE=e.handleDE.bind(e),e.handleL=e.handleL.bind(e),e.handleA=e.handleA.bind(e),e.handleD=e.handleD.bind(e),e.handleNext=e.handleNext.bind(e),e.handleNameChange=e.handleNameChange.bind(e),e}return i(t,e),h(t,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleS",value:function(e){this.setState({filter_dsl:"summary:"+e.target.value})}},{key:"handleDS",value:function(e){this.setState({filter_dsl:"dtstart:"+e.target.value})}},{key:"handleDE",value:function(e){this.setState({filter_dsl:"dtend:"+e.target.value})}},{key:"handleL",value:function(e){this.setState({filter_dsl:"location:"+e.target.value})}},{key:"handleA",value:function(e){this.setState({filter_dsl:"atendee:"+e.target.value})}},{key:"handleD",value:function(e){this.setState({filter_dsl:"description:"+e.target.value})}},{key:"handleNext",value:function(){this.props.history.push({pathname:"/make/action",state:{name:this.state.name,f_name:this.state.name,filter_dsl:this.state.filter_dsl}})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(u.a,null,a.a.createElement("h1",null,"\u30eb\u30fc\u30eb\u306e\u4f5c\u6210"),"\u30eb\u30fc\u30eb\u540d: ",a.a.createElement(p.a.Control,{placeholder:"\u5c31\u6d3b\u306e\u4e88\u5b9a\u306e\u8a73\u7d30\u3092\u96a0\u3057\u3066\u7814\u7a76\u5ba4\u306e\u30ab\u30ec\u30f3\u30c0\u306b\u5171\u6709",onChange:this.handleNameChange}),a.a.createElement("p",null),a.a.createElement("h3",null,"\u9069\u7528\u6761\u4ef6"),a.a.createElement("p",null),"\u4e88\u5b9a\u540d: ",a.a.createElement(p.a.Control,{placeholder:"\u5c31\u6d3b\uff0c\u6253\u5408\u305b & \u5b66\u4f1a, !\u8b1b\u7fa9",onChange:this.handleS}),a.a.createElement("p",null),"\u958b\u59cb\u65e5\u6642: ",a.a.createElement(p.a.Control,{placeholder:"after : 17:00, before : 12:00, 2019-8-1 .. 2019-8-31",onChange:this.handleDS}),a.a.createElement("p",null),"\u7d42\u4e86\u65e5\u6642: ",a.a.createElement(p.a.Control,{placeholder:"after : 17:00, before : 12:00, 2019-8-1 .. 2019-8-31",onChange:this.handleDE}),a.a.createElement("p",null),"\u5834\u6240: ",a.a.createElement(p.a.Control,{placeholder:"103\u53f7\u5ba4\uff0c104\u53f7\u5ba4 | 201\u53f7\u5ba4, !11\u8b1b\u7fa9\u5ba4",onChange:this.handleL}),a.a.createElement("p",null),"\u8aac\u660e: ",a.a.createElement(p.a.Control,{placeholder:"\u4ea4\u901a\u8cbb\uff0c\u8cc7\u6599 | \u8b70\u4e8b\u9332\uff0c!\u5148\u751f",onChange:this.handleD}),a.a.createElement("p",null),a.a.createElement("h4",null,a.a.createElement(l.b,{to:"/calendar/"},a.a.createElement(c.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0",a.a.createElement(c.a,{variant:"outline-success",onClick:this.handleNext},"\u52a0\u5de5\u65b9\u6cd5\u306e\u8a2d\u5b9a\u3078"))))}}]),t}(s.Component);t.a=d},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=(n(23),n(14)),c=n(10),u=n(34),p=n(27),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={name:"",action_dsl:""},e.handleNameChange=e.handleNameChange.bind(e),e.handleM=e.handleM.bind(e),e.handleNext=e.handleNext.bind(e),e}return i(t,e),h(t,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleM",value:function(e){this.setState({action_dsl:e.target.value})}},{key:"handleNext",value:function(){this.props.history.push({pathname:"/make/outlet",state:{name:this.props.location.state.name,f_name:this.props.location.state.f_name,filter_dsl:this.props.location.state.filter_dsl,a_name:this.props.location.state.name,action_dsl:this.state.action_dsl}})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(u.a,null,a.a.createElement("h1",null,"\u52a0\u5de5\u65b9\u6cd5"),a.a.createElement("br",null),"\u52a0\u5de5\u65b9\u6cd5: ",a.a.createElement(p.a.Control,{placeholder:"hide : description & hide : location, replace : summary : \u79c1\u7528, hide_event",onChange:this.handleM}),a.a.createElement("p",null),"\u30eb\u30fc\u30eb\u540d: ",this.props.location.state.name,a.a.createElement("br",null),"\u9069\u7528\u6761\u4ef6: ",this.props.location.state.filter_dsl,a.a.createElement("p",null),a.a.createElement("h4",null,a.a.createElement(l.b,{to:"/calendar/"},a.a.createElement(c.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0",a.a.createElement(l.b,{to:"/make/filter/"},a.a.createElement(c.a,{variant:"outline-secondary"},"\u9069\u7528\u6761\u4ef6\u306e\u8a2d\u5b9a\u3078\u623b\u308b")),"\xa0",a.a.createElement(c.a,{variant:"outline-success",onClick:this.handleNext},"\u5171\u6709\u5148\u306e\u8a2d\u5b9a\u3078"))))}}]),t}(s.Component);t.a=d},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(69),c=(n(23),n(14)),u=n(10),p=n(34),h=n(27),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=["","Google \u30ab\u30ec\u30f3\u30c0\u30fc","\u30e1\u30fc\u30eb","Slack"];return e.state={mail_address:"",calendar_id:"",opponents:n,opponent:n[0],name:"",f_names:[],outlet_dsl:"",address_input:""},e.handleNext=e.handleNext.bind(e),e.handleBack=e.handleBack.bind(e),e.handleOpponentChange=e.handleOpponentChange.bind(e),e.handleMailChange=e.handleMailChange.bind(e),e.handleCalendarChange=e.handleCalendarChange.bind(e),e.handleNameChange=e.handleNameChange.bind(e),e}return i(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:4567/info/calendars").then(function(e){return e.json()}).then(function(t){for(var n=new Date;;){if(new Date-n>100)break}var o={"":""};t.items.map(function(e){o[e.summary]=e.id}),e.setState({calendars:o})})}},{key:"handleNext",value:function(){var e="";"Google \u30ab\u30ec\u30f3\u30c0\u30fc"===this.state.opponent&&(e="google_calendar : "+this.state.calendar_id),"\u30e1\u30fc\u30eb"===this.state.opponent&&(e="mail : "+this.state.mail_address),"Slack"===this.state.opponent&&(e="slack"),this.props.history.push({pathname:"/list",state:{name:this.props.location.state.name,f_name:this.props.location.state.f_name,filter_dsl:this.props.location.state.filter_dsl,a_name:this.props.location.state.a_name,action_dsl:this.props.location.state.action_dsl,o_name:this.props.location.state.name,outlet_dsl:e}})}},{key:"handleBack",value:function(){this.props.history.push({pathname:"/make/action",state:{name:this.props.location.state.name,f_name:this.props.location.state.f_name,filter_dsl:this.props.location.state.filter_dsl,a_name:this.props.location.state.f_name,action_dsl:this.props.location.state.action_dsl}})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleMailChange",value:function(e){this.setState({mail_address:e.target.value})}},{key:"handleCalendarChange",value:function(e){this.setState({calendar_id:this.state.calendars[e.target.value]})}},{key:"handleOpponentChange",value:function(e){this.setState({opponent:e.target.value}),""===e.target.value|"Slack"===e.target.value&&this.setState({address_input:""}),"Google \u30ab\u30ec\u30f3\u30c0\u30fc"===e.target.value&&(console.log(e.target.value),this.setState({address_input:a.a.createElement("div",null,"\u30ab\u30ec\u30f3\u30c0\u540d: ",a.a.createElement(l.a,{data:Object.keys(this.state.calendars).sort(),handleChange:this.handleCalendarChange}))})),"\u30e1\u30fc\u30eb"===e.target.value&&this.setState({address_input:a.a.createElement("div",null,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9: ",a.a.createElement(h.a.Control,{placeholder:"family@gmail.com",onChange:this.handleMailChange}))})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(p.a,null,a.a.createElement("h1",null,"\u5171\u6709\u5148"),a.a.createElement("p",null),"\u5171\u6709\u5148: ",a.a.createElement(l.a,{data:this.state.opponents,handleChange:this.handleOpponentChange}),a.a.createElement("p",null),this.state.address_input,a.a.createElement("p",null),"\u30eb\u30fc\u30eb\u540d: ",this.props.location.state.name,a.a.createElement("br",null),"\u9069\u7528\u6761\u4ef6: ",this.props.location.state.filter_dsl,a.a.createElement("br",null),"\u52a0\u5de5\u65b9\u6cd5: ",this.props.location.state.action_dsl,a.a.createElement("p",null),a.a.createElement("h4",null,a.a.createElement(c.b,{to:"/calendar/"},a.a.createElement(u.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0",a.a.createElement(u.a,{variant:"outline-secondary",onClick:this.handleBack},"\u52a0\u5de5\u65b9\u6cd5\u306e\u8a2d\u5b9a\u3078\u623b\u308b"),a.a.createElement(u.a,{variant:"outline-success",onClick:this.handleNext},"\u30eb\u30fc\u30eb\u3092\u4f5c\u6210"))))}}]),t}(s.Component);t.a=f},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(23),c=(n(181),n(14)),u=n(10),p=n(34),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={name:""},e.handleNameChange=e.handleNameChange.bind(e),e.handleNext=e.handleNext.bind(e),e}i(t,e),h(t,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleNext",value:function(){this.props.history.push({pathname:"/make/filter",state:{name:this.state.name}})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(p.a,null,a.a.createElement("h1",null,"Rule Name"),"\u4f5c\u6210\u3059\u308b\u30eb\u30fc\u30eb\u540d: ",a.a.createElement(l.a,{handleTextChange:this.handleNameChange}),a.a.createElement("p",null),a.a.createElement("h4",null,a.a.createElement(c.b,{to:"/calendar/"},a.a.createElement(u.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0",a.a.createElement(u.a,{variant:"outline-success",onClick:this.handleNext},"\u9069\u7528\u6761\u4ef6\u306e\u8a2d\u5b9a\u3078"))))}}])}(s.Component)},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1__TextBox__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_2_react_router_dom__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_4_react_bootstrap_Container__=__webpack_require__(34),__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Form__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_6__blockly_compressed__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__blockly_compressed__),__WEBPACK_IMPORTED_MODULE_7__UseBlockly__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_8_react_big_calendar__=__webpack_require__(71),__WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_react_big_calendar__),__WEBPACK_IMPORTED_MODULE_9_react_big_calendar_lib_css_react_big_calendar_css__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_9_react_big_calendar_lib_css_react_big_calendar_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_react_big_calendar_lib_css_react_big_calendar_css__),__WEBPACK_IMPORTED_MODULE_10_react_tabs__=__webpack_require__(622),__WEBPACK_IMPORTED_MODULE_11_react_tabs_style_react_tabs_css__=__webpack_require__(628),__WEBPACK_IMPORTED_MODULE_11_react_tabs_style_react_tabs_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_react_tabs_style_react_tabs_css__),__WEBPACK_IMPORTED_MODULE_12__PageOfMakeRule_css__=__webpack_require__(290),__WEBPACK_IMPORTED_MODULE_12__PageOfMakeRule_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__PageOfMakeRule_css__),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),allViews=Object.keys(__WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default.a.Views).map(function(e){return __WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default.a.Views[e]}),devents=[{title:"\u5b9a\u4f8b\u4f1a\u8b70",start:new Date("2021-11-01T08:00:00+09:00"),end:new Date("2021-11-01T11:00:00+09:00"),allDay:!1},{title:"\u8b1b\u7fa9",start:new Date("2021-11-01T15:00:00+09:00"),end:new Date("2021-11-01T17:00:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-06T18:00:00+09:00"),end:new Date("2021-11-06T20:00:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-07T10:00:00+09:00"),end:new Date("2021-11-07T15:00:00+09:00"),allDay:!1},{title:"\u51fa\u5f35",start:new Date("2021-11-03T12:00:00+09:00"),end:new Date("2021-11-03T17:00:00+09:00"),allDay:!1},{title:"\u5165\u8a66\u4f1a\u8b70",start:new Date("2021-11-04T15:00:00+09:00"),end:new Date("2021-11-04T17:00:00+09:00"),allDay:!1},{title:"New\u8ac7\u8a71\u4f1a",start:new Date("2021-11-26T15:00:00+09:00"),end:new Date("2021-11-26T17:00:00+09:00"),allDay:!1},{title:"\u5165\u8a66\u4f1a\u8b70",start:new Date("2021-11-15T10:00:00+09:00"),end:new Date("2021-11-15T12:00:00+09:00"),allDay:!1},{title:"\u8aac\u660e\u4f1a",start:new Date("2021-11-02T10:00:00+09:00"),end:new Date("2021-11-02T13:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u8ac7\u8a71\u4f1a",start:new Date("2021-11-19T10:30:00+09:00"),end:new Date("2021-11-19T12:00:00+09:00"),allDay:!1},{title:"\u8b1b\u7fa9",start:new Date("2021-11-04T11:00:00+09:00"),end:new Date("2021-11-04T13:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-24T13:25:00+09:00"),end:new Date("2021-11-24T15:15:00+09:00"),allDay:!1}],PageOfMakeFilter=function(_Component){function PageOfMakeFilter(){_classCallCheck(this,PageOfMakeFilter);var e=_possibleConstructorReturn(this,(PageOfMakeFilter.__proto__||Object.getPrototypeOf(PageOfMakeFilter)).call(this));return e.state={name:"",filter_dsl:"",action_dsl:"",outlet_dsl:"",workspace:[],blockxml:null,jscode:"",rbcode:"",isApp:!1,events:devents},e.handleS=e.handleS.bind(e),e.handleDS=e.handleDS.bind(e),e.handleDE=e.handleDE.bind(e),e.handleL=e.handleL.bind(e),e.handleA=e.handleA.bind(e),e.handleD=e.handleD.bind(e),e.handleNext=e.handleNext.bind(e),e.handleNameChange=e.handleNameChange.bind(e),e.handleApp=e.handleApp.bind(e),e.tab_select=e.tab_select.bind(e),e.alertjs=e.alertjs.bind(e),e.alertrb=e.alertrb.bind(e),e.setWorkspace=e.setWorkspace.bind(e),e.getFilteredEvents=e.getFilteredEvents.bind(e),e}return _inherits(PageOfMakeFilter,_Component),_createClass(PageOfMakeFilter,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleS",value:function(e){this.setState({filter_dsl:"summary:"+e.target.value})}},{key:"handleDS",value:function(e){this.setState({filter_dsl:"dtstart:"+e.target.value})}},{key:"handleDE",value:function(e){this.setState({filter_dsl:"dtend:"+e.target.value})}},{key:"handleL",value:function(e){this.setState({filter_dsl:"location:"+e.target.value})}},{key:"handleA",value:function(e){this.setState({filter_dsl:"atendee:"+e.target.value})}},{key:"handleD",value:function(e){this.setState({filter_dsl:"description:"+e.target.value})}},{key:"handle",value:function(e){__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.INFINITE_LOOP_TRAP=null;var t=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(e);console.log(t);var e,n,o="";for(e=0;e<t.length;e++)"\n"==t[e]?(n=o,o=""):o+=t[e];this.state.name;this.setState({filter_dsl:n,action_dsl:o})}},{key:"handleNext",value:function(){var e=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.workspaceToDom(this.state.workspace),t=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.domToText(e),n=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace),o=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Python.workspaceToCode(this.state.workspace);e={name:this.state.name,block:t,code:n,ruby_code:o},this.props.history.push({pathname:"/list",state:{name:this.state.name,f_name:this.state.name,filter_dsl:this.state.filter_dsl,action_dsl:this.state.action_dsl,outlet_dsl:this.state.outlet_dsl,blockxml:t}}),fetch("http://localhost:4567/blockly",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"getFilteredEvents",value:function(e,t){return e.map(function(e){return t(e)})}},{key:"handleApp",value:function handleApp(){var code=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace),fullcode="filter=function(e){"+code+"return e;};";console.log(fullcode);var filter;eval(fullcode);var xml=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.workspaceToDom(this.state.workspace),myBlockXml=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.domToText(xml);if(console.log(myBlockXml),0==this.state.isApp)this.setState({isApp:!0,outlet_dsl:"",events:this.getFilteredEvents(this.state.events,filter)});else{var devent=[{title:"GN\u6253\u5408\u305b",start:new Date("2021-11-03T14:00:00+09:00"),end:new Date("2021-11-03T16:00:00+09:00"),allDay:!1},{title:"GN\u6253\u5408\u305b",start:new Date("2021-11-17T14:30:00+09:00"),end:new Date("2021-11-17T16:30:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-11T11:00:00+09:00"),end:new Date("2021-11-11T13:00:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-23T10:00:00+09:00"),end:new Date("2021-11-23T12:00:00+09:00"),allDay:!1},{title:"New\u6253\u5408\u305b",start:new Date("2021-11-05T15:00:00+09:00"),end:new Date("2021-11-05T17:00:00+09:00"),allDay:!1},{title:"New\u6253\u5408\u305b",start:new Date("2021-11-18T14:00:00+09:00"),end:new Date("2021-11-18T16:00:00+09:00"),allDay:!1},{title:"New\u8ac7\u8a71\u4f1a",start:new Date("2021-11-26T15:00:00+09:00"),end:new Date("2021-11-26T17:00:00+09:00"),allDay:!1},{title:"\u958b\u767a\u6253\u5408\u305b",start:new Date("2021-11-15T10:00:00+09:00"),end:new Date("2021-11-15T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u30df\u30fc\u30c6\u30a3\u30f3\u30b0",start:new Date("2021-11-02T10:00:00+09:00"),end:new Date("2021-11-02T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u8ac7\u8a71\u4f1a",start:new Date("2021-11-19T10:30:00+09:00"),end:new Date("2021-11-19T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-09T15:30:00+09:00"),end:new Date("2021-11-09T17:30:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-24T13:25:00+09:00"),end:new Date("2021-11-24T15:15:00+09:00"),allDay:!1}];this.setState({isApp:!1,events:devent})}}},{key:"setWorkspace",value:function(e){this.setState({workspace:e})}},{key:"tab_select",value:function(){this.setState({blockxml:__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.domToText(__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.workspaceToDom(this.state.workspace)),jscode:__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace),rbcode:__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Python.workspaceToCode(this.state.workspace)})}},{key:"alertjs",value:function(){var e=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace);window.alert(e),console.log(e)}},{key:"alertrb",value:function(){var e=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Python.workspaceToCode(this.state.workspace);window.alert(e),console.log(e)}},{key:"render",value:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h1",null,"\u30eb\u30fc\u30eb\u306e\u4f5c\u6210"),"\u30eb\u30fc\u30eb\u540d: ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Form__.a.Control,{placeholder:"\u5c31\u6d3b\u306e\u4e88\u5b9a\u306e\u8a73\u7d30\u3092\u96a0\u3057\u3066\u7814\u7a76\u5ba4\u306e\u30ab\u30ec\u30f3\u30c0\u306b\u5171\u6709",onChange:this.handleNameChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{class:"wrapper"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.d,{onSelect:this.tab_select},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.b,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.a,null,"Blockly"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.a,null,"JavaScript"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.a,null,"Ruby")),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.c,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__UseBlockly__.a,{setWorkspace:function(t){return e.setWorkspace(t)},myBlockXml:this.state.blockxml,h:"450px",w:"1500px"})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.c,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("pre",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("code",null,this.state.jscode))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_react_tabs__.c,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("pre",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("code",null,this.state.rbcode))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h4",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_router_dom__.b,{to:"/calendar/"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__.a,{variant:"outline-success",onClick:this.handleNext},"\u30eb\u30fc\u30eb\u3092\u4f5c\u6210")))}}]),PageOfMakeFilter}(__WEBPACK_IMPORTED_MODULE_0_react__.Component);__webpack_exports__.a=PageOfMakeFilter},function(e,t,n){"use strict";var o=n(623);n.d(t,"d",function(){return o.a});var r=n(625);n.d(t,"b",function(){return r.a});var i=n(626);n.d(t,"a",function(){return i.a});var s=n(627);n.d(t,"c",function(){return s.a});n(288)},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}var r=n(5),i=(n.n(r),n(0)),s=n.n(i),a=(n(287),n(624)),l=n(289),c={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1},u=function(e){return null===e.selectedIndex?1:0},p=function(e){var t=e.children,n=e.defaultFocus,r=e.defaultIndex,c=e.focusTabOnClick,p=e.onSelect,h=Object(i.useState)(n),d=h[0],f=h[1],_=Object(i.useState)(u(e)),g=_[0],m=Object(i.useState)(1===g?r||0:null),v=m[0],y=m[1];if(Object(i.useEffect)(function(){f(!1)},[]),1===g){var b=Object(l.a)(t);Object(i.useEffect)(function(){if(null!=v){var e=Math.max(0,b-1);y(Math.min(v,e))}},[b])}var E=function(e,t,n){"function"===typeof p&&!1===p(e,t,n)||(c&&f(!0),1===g&&y(e))},T=o({},e);return T.focus=d,T.onSelect=E,null!=v&&(T.selectedIndex=v),delete T.defaultFocus,delete T.defaultIndex,delete T.focusTabOnClick,s.a.createElement(a.a,T,t)};p.propTypes={},p.defaultProps=c,p.tabsRole="Tabs",t.a=p},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function i(e){return e&&"getAttribute"in e}function s(e){return i(e)&&e.getAttribute("data-rttab")}function a(e){return i(e)&&"true"===e.getAttribute("aria-disabled")}function l(e){var t=e||("undefined"!==typeof window?window:void 0);try{c=!("undefined"===typeof t||!t.document||!t.document.activeElement)}catch(e){c=!1}}var c,u=n(5),p=(n.n(u),n(0)),h=n.n(p),d=n(100),f=n(288),_=(n(287),n(289)),g=n(168),m=n(99),v=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"],y={className:"react-tabs",focus:!1},b=function(e){function t(t,n){if(!(t<0||t>=b())){(0,e.onSelect)(t,e.selectedIndex,n)}}function n(e){for(var t=b(),n=e+1;n<t;n++)if(!a(E(n)))return n;for(var o=0;o<e;o++)if(!a(E(o)))return o;return e}function i(e){for(var t=e;t--;)if(!a(E(t)))return t;for(t=b();t-- >e;)if(!a(E(t)))return t;return e}function u(){for(var e=b(),t=0;t<e;t++)if(!a(E(t)))return t;return null}function y(){for(var e=b();e--;)if(!a(E(e)))return e;return null}function b(){var t=e.children;return Object(_.a)(t)}function E(e){return S.current["tabs-"+e]}function T(o){var r=e.direction,s=e.disableUpDownKeys;if(C(o.target)){var a=e.selectedIndex,l=!1,c=!1;"Space"!==o.code&&32!==o.keyCode&&"Enter"!==o.code&&13!==o.keyCode||(l=!0,c=!1,O(o)),"ArrowLeft"!==o.code&&37!==o.keyCode&&(s||38!==o.keyCode&&"ArrowUp"!==o.code)?"ArrowRight"!==o.code&&39!==o.keyCode&&(s||40!==o.keyCode&&"ArrowDown"!==o.code)?35===o.keyCode||"End"===o.code?(a=y(),l=!0,c=!0):36!==o.keyCode&&"Home"!==o.code||(a=u(),l=!0,c=!0):(a="rtl"===r?i(a):n(a),l=!0,c=!0):(a="rtl"===r?n(a):i(a),l=!0,c=!0),l&&o.preventDefault(),c&&t(a,o)}}function O(e){var n=e.target;do{if(C(n)){if(a(n))return;var o=[].slice.call(n.parentNode.children).filter(s).indexOf(n);return void t(o,e)}}while(null!=(n=n.parentNode))}function C(e){if(!s(e))return!1;var t=e.parentElement;do{if(t===w.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}var S=Object(p.useRef)([]),k=Object(p.useRef)([]),R=Object(p.useRef)([]),w=Object(p.useRef)(),I=(e.children,e.className),D=(e.disabledTabClassName,e.domRef),A=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,e.environment,e.disableUpDownKeys,r(e,v));return h.a.createElement("div",o({},A,{className:Object(d.a)(I),onClick:O,onKeyDown:T,ref:function(e){w.current=e,D&&D(e)},"data-rttabs":!0}),function(){var t=0,n=e.children,o=e.disabledTabClassName,r=e.focus,i=e.forceRenderTabPanel,s=e.selectedIndex,a=e.selectedTabClassName,u=e.selectedTabPanelClassName,d=e.environment;k.current=k.current||[],R.current=R.current||[];for(var _=k.current.length-b();_++<0;)k.current.push(Object(f.a)()),R.current.push(Object(f.a)());return Object(g.b)(n,function(e){var n=e;if(Object(m.b)(e)){var f=0,_=!1;null==c&&l(d);var v=d||("undefined"!==typeof window?window:void 0);c&&v&&(_=h.a.Children.toArray(e.props.children).filter(m.a).some(function(e,t){return v.document.activeElement===E(t)})),n=Object(p.cloneElement)(e,{children:Object(g.b)(e.props.children,function(e){var t="tabs-"+f,n=s===f,i={tabRef:function(e){S.current[t]=e},id:k.current[f],panelId:R.current[f],selected:n,focus:n&&(r||_)};return a&&(i.selectedClassName=a),o&&(i.disabledClassName=o),f++,Object(p.cloneElement)(e,i)})})}else if(Object(m.c)(e)){var y={id:R.current[t],tabId:k.current[t],selected:s===t};i&&(y.forceRender=i),u&&(y.selectedClassName=u),t++,n=Object(p.cloneElement)(e,y)}return n})}())};b.defaultProps=y,b.propTypes={},t.a=b},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}var i=n(5),s=(n.n(i),n(0)),a=n.n(s),l=n(100),c=["children","className"],u={className:"react-tabs__tab-list"},p=function(e){var t=e.children,n=e.className,i=r(e,c);return a.a.createElement("ul",o({},i,{className:Object(l.a)(n),role:"tablist"}),t)};p.tabsRole="TabList",p.propTypes={},p.defaultProps=u,t.a=p},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}var i=n(5),s=(n.n(i),n(0)),a=n.n(s),l=n(100),c=["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"],u={className:"react-tabs__tab",disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},p=function(e){var t,n=Object(s.useRef)(),i=e.children,u=e.className,p=e.disabled,h=e.disabledClassName,d=e.focus,f=e.id,_=e.panelId,g=e.selected,m=e.selectedClassName,v=e.tabIndex,y=e.tabRef,b=r(e,c);return Object(s.useEffect)(function(){g&&d&&n.current.focus()},[g,d]),a.a.createElement("li",o({},b,{className:Object(l.a)(u,(t={},t[m]=g,t[h]=p,t)),ref:function(e){n.current=e,y&&y(e)},role:"tab",id:f,"aria-selected":g?"true":"false","aria-disabled":p?"true":"false","aria-controls":_,tabIndex:v||(g?"0":null),"data-rttab":!0}),i)};p.propTypes={},p.tabsRole="Tab",p.defaultProps=u,t.a=p},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}var i=n(5),s=(n.n(i),n(0)),a=n.n(s),l=n(100),c=["children","className","forceRender","id","selected","selectedClassName","tabId"],u={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},p=function(e){var t,n=e.children,i=e.className,s=e.forceRender,u=e.id,p=e.selected,h=e.selectedClassName,d=e.tabId,f=r(e,c);return a.a.createElement("div",o({},f,{className:Object(l.a)(i,(t={},t[h]=p,t)),role:"tabpanel",id:u,"aria-labelledby":d}),s||p?n:null)};p.tabsRole="TabPanel",p.propTypes={},p.defaultProps=u,t.a=p},function(e,t){},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1__TextBox__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_2_react_router_dom__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_4_react_bootstrap_Container__=__webpack_require__(34),__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Form__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_6__blockly_compressed__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__blockly_compressed__),__WEBPACK_IMPORTED_MODULE_7__UseBlockly__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_8_react_big_calendar__=__webpack_require__(71),__WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_react_big_calendar__),__WEBPACK_IMPORTED_MODULE_9_react_big_calendar_lib_css_react_big_calendar_css__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_9_react_big_calendar_lib_css_react_big_calendar_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_react_big_calendar_lib_css_react_big_calendar_css__),__WEBPACK_IMPORTED_MODULE_10__PageOfMakeRule_css__=__webpack_require__(290),__WEBPACK_IMPORTED_MODULE_10__PageOfMakeRule_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__PageOfMakeRule_css__),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),allViews=Object.keys(__WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default.a.Views).map(function(e){return __WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default.a.Views[e]}),devents=[{title:"GN\u6253\u5408\u305b",start:new Date("2021-11-03T14:00:00+09:00"),end:new Date("2021-11-03T16:00:00+09:00"),allDay:!1},{title:"GN\u6253\u5408\u305b",start:new Date("2021-11-17T14:30:00+09:00"),end:new Date("2021-11-17T16:30:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-11T11:00:00+09:00"),end:new Date("2021-11-11T13:00:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-23T10:00:00+09:00"),end:new Date("2021-11-23T12:00:00+09:00"),allDay:!1},{title:"New\u6253\u5408\u305b",start:new Date("2021-11-05T15:00:00+09:00"),end:new Date("2021-11-05T17:00:00+09:00"),allDay:!1},{title:"New\u6253\u5408\u305b",start:new Date("2021-11-18T14:00:00+09:00"),end:new Date("2021-11-18T16:00:00+09:00"),allDay:!1},{title:"New\u8ac7\u8a71\u4f1a",start:new Date("2021-11-26T15:00:00+09:00"),end:new Date("2021-11-26T17:00:00+09:00"),allDay:!1},{title:"\u958b\u767a\u6253\u5408\u305b",start:new Date("2021-11-15T10:00:00+09:00"),end:new Date("2021-11-15T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u30df\u30fc\u30c6\u30a3\u30f3\u30b0",start:new Date("2021-11-02T10:00:00+09:00"),end:new Date("2021-11-02T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u8ac7\u8a71\u4f1a",start:new Date("2021-11-19T10:30:00+09:00"),end:new Date("2021-11-19T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-09T15:30:00+09:00"),end:new Date("2021-11-09T17:30:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-24T13:25:00+09:00"),end:new Date("2021-11-24T15:15:00+09:00"),allDay:!1}],PageOfMakeFilter=function(_Component){function PageOfMakeFilter(){_classCallCheck(this,PageOfMakeFilter);var e=_possibleConstructorReturn(this,(PageOfMakeFilter.__proto__||Object.getPrototypeOf(PageOfMakeFilter)).call(this));return e.state={name:"",filter_dsl:"",action_dsl:"",outlet_dsl:"",workspace:[],blockxml:null,isApp:!1,events:devents},e.handleS=e.handleS.bind(e),e.handleDS=e.handleDS.bind(e),e.handleDE=e.handleDE.bind(e),e.handleL=e.handleL.bind(e),e.handleA=e.handleA.bind(e),e.handleD=e.handleD.bind(e),e.handleNext=e.handleNext.bind(e),e.handleNameChange=e.handleNameChange.bind(e),e.handleApp=e.handleApp.bind(e),e.alertjs=e.alertjs.bind(e),e.alertrb=e.alertrb.bind(e),e.setWorkspace=e.setWorkspace.bind(e),e.getFilteredEvents=e.getFilteredEvents.bind(e),e}return _inherits(PageOfMakeFilter,_Component),_createClass(PageOfMakeFilter,[{key:"componentDidMount",value:function(){this.setState({name:this.props.location.state.name})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleS",value:function(e){this.setState({filter_dsl:"summary:"+e.target.value})}},{key:"handleDS",value:function(e){this.setState({filter_dsl:"dtstart:"+e.target.value})}},{key:"handleDE",value:function(e){this.setState({filter_dsl:"dtend:"+e.target.value})}},{key:"handleL",value:function(e){this.setState({filter_dsl:"location:"+e.target.value})}},{key:"handleA",value:function(e){this.setState({filter_dsl:"atendee:"+e.target.value})}},{key:"handleD",value:function(e){this.setState({filter_dsl:"description:"+e.target.value})}},{key:"handle",value:function(e){__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.INFINITE_LOOP_TRAP=null;var t=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(e);console.log(t);var e,n,o="";for(e=0;e<t.length;e++)"\n"==t[e]?(n=o,o=""):o+=t[e];this.state.name;this.setState({filter_dsl:n,action_dsl:o})}},{key:"handleNext",value:function(){var e=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.workspaceToDom(this.state.workspace),t=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.domToText(e),n=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace),o=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Python.workspaceToCode(this.state.workspace);e={name:this.state.name,block:t,code:n,ruby_code:o},this.props.history.push({pathname:"/list",state:{name:this.state.name,f_name:this.state.name,filter_dsl:this.state.filter_dsl,action_dsl:this.state.action_dsl,outlet_dsl:this.state.outlet_dsl,blockxml:t}}),fetch("http://localhost:4567/blockly",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"getFilteredEvents",value:function(e,t){return e.map(function(e){return t(e)})}},{key:"handleApp",value:function handleApp(){var code=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace),fullcode="filter=function(e){"+code+"return e;};";console.log(code);var filter;eval(fullcode);var xml=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.workspaceToDom(this.state.workspace),myBlockXml=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Xml.domToText(xml);if(0==this.state.isApp)this.setState({isApp:!0,outlet_dsl:"",events:this.getFilteredEvents(this.state.events,filter)});else{var devent=[{title:"GN\u6253\u5408\u305b",start:new Date("2021-11-03T14:00:00+09:00"),end:new Date("2021-11-03T16:00:00+09:00"),allDay:!1},{title:"GN\u6253\u5408\u305b",start:new Date("2021-11-17T14:30:00+09:00"),end:new Date("2021-11-17T16:30:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-11T11:00:00+09:00"),end:new Date("2021-11-11T13:00:00+09:00"),allDay:!1},{title:"GN\u8ac7\u8a71\u4f1a",start:new Date("2021-11-23T10:00:00+09:00"),end:new Date("2021-11-23T12:00:00+09:00"),allDay:!1},{title:"New\u6253\u5408\u305b",start:new Date("2021-11-05T15:00:00+09:00"),end:new Date("2021-11-05T17:00:00+09:00"),allDay:!1},{title:"New\u6253\u5408\u305b",start:new Date("2021-11-18T14:00:00+09:00"),end:new Date("2021-11-18T16:00:00+09:00"),allDay:!1},{title:"New\u8ac7\u8a71\u4f1a",start:new Date("2021-11-26T15:00:00+09:00"),end:new Date("2021-11-26T17:00:00+09:00"),allDay:!1},{title:"\u958b\u767a\u6253\u5408\u305b",start:new Date("2021-11-15T10:00:00+09:00"),end:new Date("2021-11-15T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u30df\u30fc\u30c6\u30a3\u30f3\u30b0",start:new Date("2021-11-02T10:00:00+09:00"),end:new Date("2021-11-02T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u8ac7\u8a71\u4f1a",start:new Date("2021-11-19T10:30:00+09:00"),end:new Date("2021-11-19T12:00:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-09T15:30:00+09:00"),end:new Date("2021-11-09T17:30:00+09:00"),allDay:!1},{title:"\u4e43\u6751\u7814\u52c9\u5f37\u4f1a",start:new Date("2021-11-24T13:25:00+09:00"),end:new Date("2021-11-24T15:15:00+09:00"),allDay:!1}];this.setState({isApp:!1,events:devent})}}},{key:"setWorkspace",value:function(e){this.setState({workspace:e})}},{key:"alertjs",value:function(){var e=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.JavaScript.workspaceToCode(this.state.workspace);window.alert(e)}},{key:"alertrb",value:function(){var e=__WEBPACK_IMPORTED_MODULE_6__blockly_compressed___default.a.Python.workspaceToCode(this.state.workspace);window.alert(e),console.log(e)}},{key:"render",value:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h1",null,"\u30eb\u30fc\u30eb\u306e\u7de8\u96c6"),"\u30eb\u30fc\u30eb\u540d: ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_bootstrap_Form__.a.Control,{defaultValue:this.props.location.state.name,onChange:this.handleNameChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{class:"wrapper"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__UseBlockly__.a,{myBlockXml:this.props.location.state.blockxml,setWorkspace:function(t){return e.setWorkspace(t)},h:"450px",w:"1600px"}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_big_calendar___default.a,{style:{height:450,width:900},events:this.state.events,step:60,views:allViews,defaultDate:new Date,eventPropGetter:function(e,t,n,o){if("lecture"==e.tag){return{className:"",style:{backgroundColor:"lightblue",color:"black",borderRadius:"0px",border:"none"}}}if("office"==e.tag){return{className:"",style:{backgroundColor:"lightgreen",color:"black",borderRadius:"0px",border:"none"}}}if("personal"==e.tag){return{className:"",style:{backgroundColor:"lightpink",color:"black",borderRadius:"0px",border:"none"}}}return{className:"",style:{backgroundColor:"lightgrey",color:"black",borderRadius:"0px",border:"none"}}}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("h4",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_router_dom__.b,{to:"/calendar/"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__.a,{variant:"outline-secondary"},"\u30ab\u30ec\u30f3\u30c0\u3078\u623b\u308b")),"\xa0",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__.a,{variant:"outline-danger",onClick:this.alertjs},"JavaScript"),"\xa0",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__.a,{variant:"outline-danger",onClick:this.alertrb},"Ruby"),"\xa0",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_Button__.a,{variant:"outline-success",onClick:this.handleNext},"\u5909\u66f4")))}}]),PageOfMakeFilter}(__WEBPACK_IMPORTED_MODULE_0_react__.Component);__webpack_exports__.a=PageOfMakeFilter},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),a=n.n(s),l=n(71),c=n.n(l),u=n(228),p=n.n(u),h=n(89),d=(n.n(h),n(14)),f=n(10),_=n(41),g=n(36),m=(n(23),n(34),n(27),n(35)),v=(n.n(m),n(284)),y=(n.n(v),n(285)),b=(n.n(y),n(286),n(68)),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();p.a.locale("ja"),c.a.momentLocalizer(p.a);var T=Object.keys(c.a.Views).map(function(e){return c.a.Views[e]}),O=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={filter:"",myblock:null,events:[{title:"aaa",start:"2021-10-26",end:"2021-10-27",tag:"office"}]},e.setWorkspace=e.setWorkspace.bind(e),e}return i(t,e),E(t,[{key:"reload",value:function(){console.log("aaaaaaa"),fetch("http://localhost:4567/test",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify("\n")})}},{key:"setWorkspace",value:function(e){this.setState({workspace:e})}},{key:"render",value:function(){var e=this;return console.log(this.props.match.params.id),null==this.props.match.params.id&&(this.props.match.params.id="undefined"),this.props.match.params.id.includes("undefined")&&(this.props.match.params.id="\u306a\u3057"),a.a.createElement("div",{style:{height:625}},a.a.createElement(b.a,{myBlockXml:'<xml xmlns="https://developers.google.com/blockly/xml"><block type="statement" id="zR?DMv|lPc2dh?@{^V!6" x="95" y="62"><value name="condition"><block type="condition" id="gfp[w[So-{##-AIpi2oL"><field name="item">summary</field><field name="text"></field><field name="dd">==</field></block></value></block></xml>',setWorkspace:function(t){return e.setWorkspace(t)}}),a.a.createElement(_.a,null,a.a.createElement(g.a,{xs:16,md:12},a.a.createElement("h1",null,"Calendar",this.state.filter,a.a.createElement(f.a,{onClick:this.reload},"\u66f4\u65b0")))),a.a.createElement(_.a,null,a.a.createElement(g.a,{xs:6,md:4},a.a.createElement("div",{align:"left"},a.a.createElement("h4",null,a.a.createElement(d.b,{to:"/make"},a.a.createElement(f.a,{variant:"outline-success"},"\u65b0\u3057\u3044\u30eb\u30fc\u30eb\u3092\u4f5c\u6210")),"\xa0"))),a.a.createElement(g.a,{xs:6,md:4},a.a.createElement("div",{align:"left"},a.a.createElement("h4",null)))),a.a.createElement("p",null),a.a.createElement(c.a,{events:this.state.events,step:60,views:T,defaultDate:new Date,eventPropGetter:function(e,t,n,o){if("lecture"==e.tag){return{className:"",style:{backgroundColor:"lightblue",color:"black",borderRadius:"0px",border:"none"}}}if("office"==e.tag){return{className:"",style:{backgroundColor:"lightgreen",color:"black",borderRadius:"0px",border:"none"}}}if("personal"==e.tag){return{className:"",style:{backgroundColor:"lightpink",color:"black",borderRadius:"0px",border:"none"}}}return{className:"",style:{backgroundColor:"lightgrey",color:"black",borderRadius:"0px",border:"none"}}}}))}}]),t}(s.Component);t.a=O},function(e,t){},function(e,t){},function(e,t){}]);
//# sourceMappingURL=main.acd01e6a.js.map